if (self.CavalryLogger) { CavalryLogger.start_js(["3Yy61"]); }

__d("StickerConstants",[],(function a(b,c,d,e,f,g){f.exports={MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",OZ_PACK_ID:"1456625217993235",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},EMOTICON_PACK_ID:"1471127876485636",DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120};}),null);
__d("VideoPlayerOrigins",[],(function a(b,c,d,e,f,g){f.exports={NEWSFEED:"newsfeed",USER_TIMELINE:"user_timeline",PAGE_TIMELINE:"page_timeline",PERMALINK:"permalink",GROUP:"group",CONNECTED_TV:"connected_tv",CONNECTED_TV_DISCOVERY:"connected_tv_discovery",CONNECTED_TV_PLAYER:"connected_tv_player",CONNECTED_TV_PROFILE:"connected_tv_profile",VIDEO_HOME:"video_home",VIDEO_HOME_FEED:"video_home_feed",VIDEO_HOME_REACTION:"video_home_reaction",VIDEO_HOME_MAIN:"video_home_main",VIDEO_HOME_GUIDE:"video_home_guide",VIDEO_TAB:"video_tab",EXTERNAL:"external",INSTANT_ARTICLES:"instant_articles",INTERN:"intern",BACKSTAGE:"backstage",INSTANT_SHOPPING:"instant_shopping",REDSPACE:"redspace",SAVED:"saved",SEARCH:"search",NOTIFICATIONS:"notifications",UNKNOWN:"unknown",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_MAP:"live_map",LIVE_REDIRECT:"live_redirect",LIVE_EMBED_REDIRECT:"live_embed_redirect",LOCAL_NEWS:"local_news",PAGES_MODULE:"pages_module",PAGES_VIDEO_TAB:"pages_video_tab",PROMOTIONS_MANAGER_INSPIRATION_GALLERY:"promotions_manager_inspiration_gallery",BACKGROUND_PLAY:"background_play",QUICK_PROMOTION:"quick_promotion",CULTURAL_MOMENTS:"cultural_moments_share",SPHERIAL_VIDEO_EDITING:"spherial_video_editing",EXPLORE_FEED:"explorefeed",RHC:"rhc",ADS:"ads",CANVAS:"canvas",COMMERCE:"commerce",COMPOSER:"composer",DASH:"dash",FACEWEB:"faceweb",FEEDBACK:"feedback",FRIENDS:"friends",EVENTS:"events",HELP:"help",INFRASTRUCTURE:"infrastructure",LOGIN:"login",MARKETING:"marketing",MESSAGING:"messaging",NAVIGATION:"navigation",PHOTOS:"photos",PRIVACY:"privacy",SETTINGS:"settings",STORY_VIEW:"story_view",WEBVIEW:"webview",TRENDING:"trending",FACECAST_NUX:"facecast_nux",PIXELCLOUD:"pixelcloud",TAROT:"tarot",GAMEROOM:"gameroom",LEARN:"learn",BEEPER:"beeper",FACECAST_BEEPER:"facecast_beeper",JOB_SEARCH:"job_search",TOP_LIVE_BOOKMARK:"top_live_bookmark"};}),null);
__d('rayInterceptsBox',['invariant'],(function a(b,c,d,e,f,g,h){function i(k,l){var m=Object.keys(k);l.forEach(function(n){m.indexOf(n)!==-1||h(0);typeof k[n]==='number'||h(0);});}var j={check:function k(l,m){i(l,['minX','maxX','minY','maxY']);i(m,['x','y','dx','dy']);l.maxX>l.minX&&l.maxY>l.minY||h(0);if(m.dx===0&&m.dy===0)return false;if(m.x>=l.minX&&m.x<=l.maxX&&m.y>=l.minY&&m.y<=l.maxY)return true;var n=(l.minX-m.x)/m.dx,o=(l.maxX-m.x)/m.dx,p=(l.minY-m.y)/m.dy,q=(l.maxY-m.y)/m.dy,r=Math.max(Math.min(n,o),Math.min(p,q)),s=Math.min(Math.max(n,o),Math.max(p,q));if(r<0)return false;if(r>s)return false;return true;}};f.exports=j;}),null);
__d('AdsMouseStateStore',['invariant','$','Arbiter','Event','EventEmitter','Run','SubscriptionsHandler','Vector','ge','keyMirror','rayInterceptsBox','throttle'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=30,l=500,m='pagelet_ego_pane',n=c('keyMirror')({STATIONARY:null,INTENT:null,HOVER:null,NO_INTENT:null});function o(event){try{return {x:event.clientX||event.x,y:event.clientY||event.y};}catch(r){var q=Math.random()*1000;return {x:q,y:q};}}i=babelHelpers.inherits(p,c('EventEmitter'));j=i&&i.prototype;function p(){var q=arguments.length<=0||arguments[0]===undefined?m:arguments[0],r=arguments.length<=1||arguments[1]===undefined?l:arguments[1];j.constructor.call(this);this.destroy=function(){if(this.$AdsMouseStateStore8)this.$AdsMouseStateStore8.release();this.removeAllListeners();}.bind(this);this.onPageTransition=function(event){this.$AdsMouseStateStore10();}.bind(this);this.onMouseMove=function(event){this.calculateState(o(event));}.bind(this);this.$AdsMouseStateStore7=q;this.$AdsMouseStateStore10();this.$AdsMouseStateStore8=new (c('SubscriptionsHandler'))().addSubscriptions(c('Event').listen(document,'mousemove',c('throttle')(this.onMouseMove,r)),c('Arbiter').subscribe('page_transition',this.onPageTransition));c('Run').onLeave(this.destroy);}p.prototype.$AdsMouseStateStore10=function(){this.$AdsMouseStateStore1=n.STATIONARY;this.$AdsMouseStateStore2=this.$AdsMouseStateStore3=0;this.$AdsMouseStateStore4=Date.now();this.$AdsMouseStateStore5=this.$AdsMouseStateStore7;this.$AdsMouseStateStore6=Infinity;};p.prototype.getState=function(){return this.$AdsMouseStateStore1;};p.prototype.updateRhcID=function(q){c('$')(q)||h(0);this.$AdsMouseStateStore5=q;};p.prototype.getRhcID=function(){return this.$AdsMouseStateStore5;};p.prototype.__updateMousePos=function(q){this.$AdsMouseStateStore2=q.x;this.$AdsMouseStateStore3=q.y;};p.prototype.isRhcPresent=function(){if(!c('ge')(this.$AdsMouseStateStore5))return false;var q=this.getRhcDimensions();return q.y>0&&q.x>0;};p.prototype.getRhc=function(){return c('$')(this.$AdsMouseStateStore5);};p.prototype.getRhcPosition=function(){return c('Vector').getElementPosition(this.getRhc());};p.prototype.getRhcScreenPos=function(){var q=c('Vector').getScrollPosition(),r=this.getRhcPosition();return {x:r.x-q.x,y:r.y-q.y};};p.prototype.getRhcDimensions=function(){return c('Vector').getElementDimensions(this.getRhc());};p.prototype.getPointToRectSquareDist=function(){return this.$AdsMouseStateStore6;};p.prototype.isPointWithinDist=function(q){var r=this.getPointToRectSquareDist();return r<=q*q;};p.prototype.getRhcBoundingBox=function(){var q=this.getRhcDimensions(),r=this.getRhcScreenPos();return {minX:r.x,maxX:r.x+q.x,minY:r.y,maxY:r.y+q.y};};p.prototype.$AdsMouseStateStore11=function(q){var r=this.getRhcBoundingBox(),s={x:(r.minX+r.maxX)/2,y:(r.minY+r.maxY)/2},t=Math.abs(r.minX-r.maxX),u=Math.abs(r.minY-r.maxY),v=Math.max(Math.abs(q.x-s.x)-t/2,0),w=Math.max(Math.abs(q.y-s.y)-u/2,0);this.$AdsMouseStateStore6=v*v+w*w;};p.prototype.isPosContainedInRhc=function(q){var r=this.getRhcBoundingBox();return q.x>=r.minX&&q.x<=r.maxX&&q.y>=r.minY&&q.y<=r.maxY;};p.prototype.hasMovedMinDistance=function(q){var r=q.x-this.$AdsMouseStateStore2,s=q.y-this.$AdsMouseStateStore3;return r*r+s*s>=k*k;};p.prototype.tooSoon=function(){return Date.now()-this.$AdsMouseStateStore4<l;};p.prototype.$AdsMouseStateStore12=function(){this.$AdsMouseStateStore4=Date.now();};p.prototype.calculateState=function(q){if(this.tooSoon())return;this.$AdsMouseStateStore12();if(!this.isRhcPresent())return;if(this.isPosContainedInRhc(q)){this.transitionToState(n.HOVER);this.$AdsMouseStateStore6=0;this.__updateMousePos(q);this.scheduleCheckup();return;}else if(!this.hasMovedMinDistance(q)){this.transitionToState(n.STATIONARY);return;}this.$AdsMouseStateStore11(q);var r=this.isMovingTowardsRhc(q)?n.INTENT:n.NO_INTENT;this.transitionToState(r);this.__updateMousePos(q);this.scheduleCheckup();};p.prototype.isMovingTowardsRhc=function(q){var r={x:this.$AdsMouseStateStore2,y:this.$AdsMouseStateStore3};if(this.isPosContainedInRhc(r))return true;var s=this.getRhcBoundingBox(),t={x:this.$AdsMouseStateStore2,y:this.$AdsMouseStateStore3,dx:q.x-this.$AdsMouseStateStore2,dy:q.y-this.$AdsMouseStateStore3};return c('rayInterceptsBox').check(s,t);};p.prototype.scheduleCheckup=function(){var q={x:this.$AdsMouseStateStore2,y:this.$AdsMouseStateStore3};setTimeout(function(){this.calculateState(q);}.bind(this),l*1.5);};p.prototype.transitionToState=function(q){if(q===this.$AdsMouseStateStore1)return;this.$AdsMouseStateStore1=q;this.emit('change');};p.get=function(){if(!p.$AdsMouseStateStore13)p.$AdsMouseStateStore13=new p();return p.$AdsMouseStateStore13;};p.STATES=n;p.MIN_MOVE_DISTANCE=k;p.THROTTLE_TIME=l;f.exports=p;}),null);
__d('BusinessURI.brands',['BizSiteIdentifier.brands','BusinessConf','isFacebookURI','URI'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('URI'));i=h&&h.prototype;function j(l,m){'use strict';i.constructor.call(this,l);if(c('BizSiteIdentifier.brands').isBizSite()){var n=m||c('BizSiteIdentifier.brands').getBusinessID();if(n)this.addQueryData(c('BusinessConf').BIZ_ID_PARAM_NAME,n);if(!this.$BusinessURI1(this.getSubdomain()))this.setSubdomain(c('BusinessConf').DOMAIN);}if(!c('isFacebookURI')(this))throw new Error('Business URI must be FB URI');return this;}j.prototype.$BusinessURI1=function(l){'use strict';return l==='developers';};var k=function l(m,n){return new j(m,n);};k.BusinessURI=j;f.exports=k;}),null);
__d('FBProfilePhotoShadow.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l=this.props,m=l.className,n=l.children,o=babelHelpers.objectWithoutProperties(l,['className','children']),p=c('React').Children.only(n);return c('React').createElement('div',babelHelpers['extends']({},o,{className:c('joinClasses')(m,"_38vo")}),c('React').cloneElement(p,{className:c('joinClasses')(p.props.className,"_44ma")}));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('tickerPhoteSnowLiftOpenStatus',['ArbiterMixin'],(function a(b,c,d,e,f,g){var h='CheckIsOpen',i={registerOpenChecker:function j(k){return i.subscribe(h,function(l,m){if(k())m.is_Open=true;});},checkIsOpen:function j(){var k={is_Open:false};i.inform(h,k);return k.is_Open;}};Object.assign(i,c('ArbiterMixin'));f.exports=i;}),null);
__d('MessengerEnvironment',['CurrentEnvironment'],(function a(b,c,d,e,f,g){'use strict';var h=babelHelpers['extends']({},c('CurrentEnvironment'),{messengerui:false,setMessengerUI:function i(j){this.messengerui=j;}});f.exports=h;}),null);
__d("ScriptPathState",["Arbiter"],(function a(b,c,d,e,f,g){var h,i,j,k,l=100,m={setIsUIPageletRequest:function n(o){j=o;},setUserURISampleRate:function n(o){k=o;},reset:function n(){h=null;i=false;j=false;},_shouldUpdateScriptPath:function n(){return i&&!j;},_shouldSendURI:function n(){return Math.random()<k;},getParams:function n(){var o={};if(m._shouldUpdateScriptPath()){if(m._shouldSendURI()&&h!==null)o.user_uri=h.substring(0,l);}else o.no_script_path=1;return o;}};c("Arbiter").subscribe("pre_page_transition",function(n,o){i=true;h=o.to.getUnqualifiedURI().toString();});f.exports=b.ScriptPathState=m;}),null);
__d('AjaxPipeRequest',['Arbiter','AsyncRequest','AsyncRequestConfig','BigPipe','CSS','DOM','Env','PageEvents','PageletSet','ScriptPathState','URI','containsNode','ge','goOrReplace','performance','performanceAbsoluteNow','PageletGK'],(function a(b,c,d,e,f,g){var h=c('PageletGK').destroyDomAfterEventHandler,i,j=0;function k(n,o){var p=c('ge')(n);if(!p)return;if(!o)p.style.minHeight='100px';var q=c('PageletSet').getPageletIDs();for(var r=0;r<q.length;r++){var s=q[r];if(c('containsNode')(p,c('ge')(s)))c('PageletSet').removePagelet(s);}c('Arbiter').inform(c('PageEvents').AJAXPIPE_ONBEFORECLEARCANVAS,{canvasID:n});if(h){c('Arbiter').inform('pagelet/destroy',{id:null,root:p});c('DOM').empty(p);}else{c('DOM').empty(p);c('Arbiter').inform('pagelet/destroy',{id:null,root:p});}}function l(n,o){var p=c('ge')(n);if(p&&!o)p.style.minHeight='100px';}function m(n,o){'use strict';this._uri=n;this._query_data=o;this._request=new (c('AsyncRequest'))();this._request.disableArtilleryTracing();this._canvas_id=null;this._allow_cross_page_transition=true;this._arbiter=new (c('Arbiter'))();this._requestID=j++;}m.prototype.setCanvasId=function(n){'use strict';this._canvas_id=n;return this;};m.prototype.setURI=function(n){'use strict';this._uri=n;return this;};m.prototype.setData=function(n){'use strict';this._query_data=n;return this;};m.prototype.getData=function(n){'use strict';return this._query_data;};m.prototype.setAllowCrossPageTransition=function(n){'use strict';this._allow_cross_page_transition=n;return this;};m.prototype.setAppend=function(n){'use strict';this._append=n;return this;};m.prototype.getAsyncRequestType=function(){'use strict';if(c('AsyncRequestConfig').useFetchStreamAjaxPipeTransport)return 'useFetchWithIframeFallback';return 'useIframeTransport';};m.prototype.send=function(){'use strict';this._arbiter.inform(c('PageEvents').AJAXPIPE_SEND,{rid:this._requestID,quickling:!!this._isQuickling,ts:c('performanceAbsoluteNow')()},c('Arbiter').BEHAVIOR_PERSISTENT);var n={ajaxpipe:1,ajaxpipe_token:c('Env').ajaxpipe_token};Object.assign(n,c('ScriptPathState').getParams());c('ScriptPathState').reset();this._request.setOption(this.getAsyncRequestType(),true).setURI(this._uri).setData(Object.assign(n,this._query_data)).setPreBootloadHandler(this._preBootloadHandler.bind(this)).setInitialHandler(this._onInitialResponse.bind(this)).setHandler(this._onResponse.bind(this)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(this._allow_cross_page_transition).setAllowIrrelevantRequests(this._allowIrrelevantRequests);if(this._automatic){this._relevantRequest=i;}else i=this._request;if(this._isQuickling){var o=c('performance').clearResourceTimings||c('performance').webkitClearResourceTimings;if(o)o.call(c('performance'));}this._request.send();return this;};m.prototype._preBootloadFirstResponse=function(n){'use strict';return false;};m.prototype._fireDomContentCallback=function(){'use strict';this._arbiter.inform(c('PageEvents').AJAXPIPE_DOMREADY,true,c('Arbiter').BEHAVIOR_STATE);};m.prototype._fireOnloadCallback=function(){'use strict';if(window.console&&console.timeStamp)console.timeStamp('perf_trace {"name": "e2e",'+' "parent": "PageEvents.AJAXPIPE_ONLOAD"}');this._arbiter.inform(c('PageEvents').AJAXPIPE_ONLOAD,{lid:this.pipe.lid,rid:this._requestID,ts:c('performanceAbsoluteNow')()},c('Arbiter').BEHAVIOR_STATE);};m.prototype._isRelevant=function(n){'use strict';return this._request==i||this._automatic&&this._relevantRequest==i||this._jsNonBlock||i&&i._allowIrrelevantRequests;};m.prototype._preBootloadHandler=function(n){'use strict';var o=n.getPayload();if(!o||o.redirect||!this._isRelevant(n))return false;var p=false;if(n.is_first){!this._append&&!this._displayCallback&&k(this._canvas_id,this._constHeight);p=this._preBootloadFirstResponse(n);this.pipe=new (c('BigPipe'))({__sf:n.__sf,arbiter:this._arbiter,rootNodeID:this._canvas_id,lid:this._request.lid,rid:this._requestID,isAjax:true,domContentCallback:this._fireDomContentCallback.bind(this),onloadCallback:this._fireOnloadCallback.bind(this),domContentEvt:c('PageEvents').AJAXPIPE_DOMREADY,onloadEvt:c('PageEvents').AJAXPIPE_ONLOAD,jsNonBlock:this._jsNonBlock,automatic:this._automatic,displayCallback:this._displayCallback,allowIrrelevantRequests:this._allowIrrelevantRequests});}return p;};m.prototype._redirect=function(n){'use strict';if(n.redirect){if(n.force||!this.isPageActive(n.redirect)){var o=['ajaxpipe','ajaxpipe_token'].concat(this.getSanitizedParameters());c('goOrReplace')(window.location,new (c('URI'))(n.redirect).removeQueryData(o),true);}else{var p=b.PageTransitions;p.go(n.redirect,true);}return true;}else return false;};m.prototype.isPageActive=function(n){'use strict';return true;};m.prototype.getSanitizedParameters=function(){'use strict';return [];};m.prototype._versionCheck=function(n){'use strict';return true;};m.prototype._onInitialResponse=function(n){'use strict';var o=n.getPayload();if(!this._isRelevant(n))return false;if(!o)return true;if(this._redirect(o)||!this._versionCheck(o))return false;return true;};m.prototype._processFirstResponse=function(n){'use strict';var o=n.getPayload();if(c('ge')(this._canvas_id)&&o.canvas_class!=null)c('CSS').setClass(this._canvas_id,o.canvas_class);};m.prototype.setFirstResponseCallback=function(n){'use strict';this._firstResponseCallback=n;return this;};m.prototype.setFirstResponseHandler=function(n){'use strict';this._processFirstResponse=n;return this;};m.prototype._onResponse=function(n){'use strict';var o=n.payload;if(!this._isRelevant(n))return c('AsyncRequest').suppressOnloadToken;if(n.is_first){this._processFirstResponse(n);this._firstResponseCallback&&this._firstResponseCallback();o.provides=o.provides||[];o.provides.push('uipage_onload');}if(o){if('content' in o.content&&this._canvas_id!==null){if(this._append)o.append=this._canvas_id;var p=o.content.content;delete o.content.content;o.content[this._canvas_id]=p;}if(o.secondFlushPayload){this.pipe.setSecondFlushPayload(o.secondFlushPayload);}else this.pipe.onPageletArrive(o);}if(n.is_last)l(this._canvas_id,this._constHeight);return c('AsyncRequest').suppressOnloadToken;};m.prototype.setNectarModuleDataSafe=function(n){'use strict';this._request.setNectarModuleDataSafe(n);return this;};m.prototype.setFinallyHandler=function(n){'use strict';this._request.setFinallyHandler(n);return this;};m.prototype.setErrorHandler=function(n){'use strict';this._request.setErrorHandler(n);return this;};m.prototype.setTransportErrorHandler=function(n){'use strict';this._request.setTransportErrorHandler(n);return this;};m.prototype.abort=function(){'use strict';this._request.abort();if(i==this._request)i=null;this._request=null;return this;};m.prototype.setJSNonBlock=function(n){'use strict';this._jsNonBlock=n;return this;};m.prototype.setAutomatic=function(n){'use strict';this._automatic=n;return this;};m.prototype.setDisplayCallback=function(n){'use strict';this._displayCallback=n;return this;};m.prototype.setConstHeight=function(n){'use strict';this._constHeight=n;return this;};m.prototype.setAllowIrrelevantRequests=function(n){'use strict';this._allowIrrelevantRequests=n;return this;};m.prototype.getAsyncRequest=function(){'use strict';return this._request;};m.getCurrentRequest=function(){'use strict';return i;};m.setCurrentRequest=function(n){'use strict';i=n;};f.exports=m;}),null);
__d('DimensionLogging',['BanzaiNectar','getViewportDimensions'],(function a(b,c,d,e,f,g){var h=c('getViewportDimensions')();c('BanzaiNectar').log('browser_dimension','homeload',{x:h.width,y:h.height,sw:window.screen.width,sh:window.screen.height,aw:window.screen.availWidth,ah:window.screen.availHeight,at:window.screen.availTop,al:window.screen.availLeft});}),null);
__d('DocumentTitle',['Arbiter'],(function a(b,c,d,e,f,g){var h=document.title,i=null,j=1500,k=[],l=0,m=null,n=false;function o(){if(k.length>0){if(!n){p(k[l].title);l=++l%k.length;}else q();}else{clearInterval(m);m=null;q();}}function p(s){document.title=s;n=true;}function q(){r.set(i||h,true);n=false;}var r={get:function s(){return h;},set:function s(t,u){document.title=t;if(!u){h=t;i=null;c('Arbiter').inform('update_title',t);}else i=t;},blink:function s(t){var u={title:t};k.push(u);if(m===null)m=setInterval(o,j);return {stop:function v(){var w=k.indexOf(u);if(w>=0){k.splice(w,1);if(l>w){l--;}else if(l==w&&l==k.length)l=0;}}};}};f.exports=r;}),null);
__d('KeyboardShortcuts',['KeyEventController','Layer','ModalLayer'],(function a(b,c,d,e,f,g){function h(j,k,l){'use strict';this.key=j;this.handler=k;this.filter=l;this.register();}h.prototype.register=function(){'use strict';this.token=c('KeyEventController').registerKey(this.key,this.handler,this.filter);};h.prototype.remove=function(){'use strict';this.token.remove();};var i={_tokens:[[]],register:function j(k,l,m){m=m||{};var n=m.allowDefault?l:function(event,r){l.apply(this,arguments);event.prevent();},o=m.baseFilters||[c('KeyEventController').defaultFilter],p=function r(event,s){for(var t=0,u=o.length;t<u;t++)if(!o[t](event,s))return false;return !m.filter||m.filter(event,s);},q=new h(k,n,p);if(!this._tokens.length)this._tokens.push([]);this._tokens[this._tokens.length-1].push(q);return q;},init:function j(){c('Layer').subscribe('show',function(k,l){if(l.hasBehavior(c('ModalLayer')))this.pushLayer();}.bind(this));c('Layer').subscribe('hide',function(k,l){if(l.hasBehavior(c('ModalLayer')))this.popLayer();}.bind(this));},pushLayer:function j(){var k=this._tokens[this._tokens.length-1];k&&k.forEach(function(l){l.remove();});this._tokens.push([]);},popLayer:function j(){var k=this._tokens.length-1;if(k<0)return;var l=this._tokens[k];l.forEach(function(n){n.remove();});this._tokens.pop();var m=this._tokens[k-1];m&&m.forEach(function(n){n.register();});}};i.init();f.exports=i;}),null);
__d('OnVisible',['Arbiter','DOM','Event','Parent','Run','Vector','ViewportBounds','coalesce','queryThenMutateDOM'],(function a(b,c,d,e,f,g){var h=[],i,j=0,k=[],l,m,n,o,p;function q(){h.forEach(function(w){w.remove();});if(m){m.remove();l.remove();i.unsubscribe();m=l=i=null;}j=0;h.length=0;}function r(){if(!h.length){q();return;}k.length=0;n=c('Vector').getScrollPosition().y;o=c('Vector').getViewportDimensions().y;p=c('ViewportBounds').getTop();for(var w=0;w<h.length;++w){var x=h[w];if(isNaN(x.elementHeight))k.push(w);x.elementHeight=c('Vector').getElementDimensions(x.element).y;x.elementPos=c('Vector').getElementPosition(x.element);x.hidden=c('Parent').byClass(x.element,'hidden_elem');if(x.scrollArea){x.scrollAreaHeight=c('Vector').getElementDimensions(x.scrollArea).y;x.scrollAreaY=c('Vector').getElementPosition(x.scrollArea).y;}}j=w;}function s(){for(var w=Math.min(h.length,j)-1;w>=0;--w){var x=h[w];if(!x.elementPos||x.removed){h.splice(w,1);continue;}if(x.hidden)continue;var y=n+o+x.buffer,z=false;if(y>x.elementPos.y){var aa=n+p-x.buffer,ba=n+p+o+x.buffer,ca=x.elementPos.y+x.elementHeight,da=!x.strict||aa<x.elementPos.y&&ba>ca;z=da;if(z&&x.scrollArea){var ea=x.scrollAreaY+x.scrollAreaHeight+x.buffer;z=x.elementPos.y>=x.scrollAreaY-x.buffer&&x.elementPos.y<ea;}}if(x.inverse?!z:z){x.remove();x.handler(k.indexOf(w)!==-1);}}}function t(){u();if(h.length)return;m=c('Event').listen(window,'scroll',u);l=c('Event').listen(window,'resize',u);i=c('Arbiter').subscribe('dom-scroll',u);}function u(){c('queryThenMutateDOM')(r,s,'OnVisible/positionCheck');}function v(w,x,y,z,aa,ba){'use strict';this.element=w;this.handler=x;this.strict=y;this.buffer=c('coalesce')(z,300);this.inverse=c('coalesce')(aa,false);this.scrollArea=ba||null;if(this.scrollArea)this.scrollAreaListener=this.$OnVisible1();if(h.length===0)c('Run').onLeave(q);t();h.push(this);}v.prototype.remove=function(){'use strict';if(this.removed)return;this.removed=true;if(this.scrollAreaListener)this.scrollAreaListener.remove();};v.prototype.reset=function(){'use strict';this.elementHeight=null;this.removed=false;if(this.scrollArea)this.scrollAreaListener=this.$OnVisible1();h.indexOf(this)===-1&&h.push(this);t();};v.prototype.setBuffer=function(w){'use strict';this.buffer=w;u();};v.prototype.checkBuffer=function(){'use strict';u();};v.prototype.getElement=function(){'use strict';return this.element;};v.prototype.$OnVisible1=function(){'use strict';return c('Event').listen(c('DOM').find(this.scrollArea,'.uiScrollableAreaWrap'),'scroll',this.checkBuffer);};Object.assign(v,{checkBuffer:u});f.exports=v;}),null);
__d('XAsyncRequest',['AsyncRequest'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$XAsyncRequest1=new (c('AsyncRequest'))(i);}h.prototype.setMethod=function(i){'use strict';this.$XAsyncRequest1.setMethod(i);return this;};h.prototype.setData=function(i){'use strict';this.$XAsyncRequest1.setData(i);return this;};h.prototype.setHandler=function(i){'use strict';this.$XAsyncRequest1.setHandler(i);return this;};h.prototype.setErrorHandler=function(i){'use strict';this.$XAsyncRequest1.setErrorHandler(i);return this;};h.prototype.send=function(){'use strict';this.$XAsyncRequest1.send();return this;};h.prototype.abort=function(){'use strict';this.$XAsyncRequest1.abort();};f.exports=h;}),null);
__d('AbstractDockingElement',['Arbiter','Event','Run','SubscriptionsHandler','onEnclosingPageletDestroy','queryThenMutateDOM','removeFromArray'],(function a(b,c,d,e,f,g){var h=[],i=null;function j(){c('queryThenMutateDOM')(function(){return h.forEach(function(m){return m.queryDOM();});},function(){return h.forEach(function(m){return m.updateWithCache();});},'AbstractDockingElement');}function k(){if(!i){i=new (c('SubscriptionsHandler'))();i.addSubscriptions(c('Event').listen(window,'scroll',j),c('Event').listen(window,'resize',j),c('Run').onLeave(function(){while(h.length)l(h[0]);}));i=i;}return i;}function l(m){try{m.onPageletDestroyed&&c('Arbiter').unsubscribe(m.onPageletDestroyed);}catch(n){}finally{m.onPageletDestroyed=null;}if(!i||h.indexOf(m)===-1)return;c('removeFromArray')(h,m);if(h.length)return;i.release();i=null;}f.exports={register:function m(n,o,p){var q=k(),r={onPageletDestroyed:q.addSubscriptions(c('onEnclosingPageletDestroy')(n,function(){l(r);})),queryDOM:o,updateWithCache:p};h.push(r);}};}),null);
__d('DirectionalDockingElement',['AbstractDockingElement','Arbiter','DOM','Scroll','Style','UITinyViewportAction','UserAgent','ViewportBounds','getElementPosition','getStyleProperty','queryThenMutateDOM'],(function a(b,c,d,e,f,g){var h=true,i=false,j=c('UserAgent').isBrowser('Safari')||c('UserAgent').isBrowser('Mobile Safari');function k(l){'use strict';this.$DirectionalDockingElement5=0;this.$DirectionalDockingElement2=null;this.$DirectionalDockingElement7=false;this.$DirectionalDockingElement12=l;this.$DirectionalDockingElement8=0;this.$DirectionalDockingElement11=null;this.$DirectionalDockingElement13=0;this.register();this.$DirectionalDockingElement14=c('ViewportBounds').getTop();c('Style').set(this.$DirectionalDockingElement12,'width',this.$DirectionalDockingElement12.getBoundingClientRect().width+'px');this.$DirectionalDockingElement9=c('DOM').create('div');c('Style').set(this.$DirectionalDockingElement9,'position','relative');c('DOM').replace(this.$DirectionalDockingElement12,this.$DirectionalDockingElement9);c('DOM').appendContent(this.$DirectionalDockingElement9,this.$DirectionalDockingElement12);this.update();}k.prototype.register=function(){'use strict';c('AbstractDockingElement').register(this.getRoot(),this.__queryDOM.bind(this),this.__updateWithCache.bind(this));};k.prototype.subscribe=function(event,l,m){'use strict';if(!this.$DirectionalDockingElement1)this.$DirectionalDockingElement1=new (c('Arbiter'))();return this.$DirectionalDockingElement1.subscribe(event,l,m);};k.prototype.__queryDOM=function(){'use strict';var l=-c('getElementPosition')(this.$DirectionalDockingElement9).y;if(l!==this.$DirectionalDockingElement13){this.$DirectionalDockingElement15=l>this.$DirectionalDockingElement13?i:h;this.$DirectionalDockingElement13=l;}this.$DirectionalDockingElement6=this.$DirectionalDockingElement12.getBoundingClientRect();var m=document,n=m.body,o=m.documentElement;if(n&&o){var p=o.clientHeight,q=o.scrollHeight;this.$DirectionalDockingElement7=c('Scroll').getTop(n)+p>Math.max(p,q);}if(j){this.$DirectionalDockingElement11=c('getElementPosition')(this.$DirectionalDockingElement9);var r=parseInt(c('getStyleProperty')(this.$DirectionalDockingElement12,'left'),10);if(this.$DirectionalDockingElement11&&!isNaN(r)&&r!==this.$DirectionalDockingElement11.x)this.$DirectionalDockingElement11=babelHelpers['extends']({},this.$DirectionalDockingElement11,{x:r});}if(this.$DirectionalDockingElement12.style.position==='fixed')this.$DirectionalDockingElement5=c('getElementPosition')(this.$DirectionalDockingElement12).y+this.$DirectionalDockingElement13;};k.prototype.$DirectionalDockingElement16=function(l,m,n){'use strict';if(m===this.$DirectionalDockingElement4&&l===this.$DirectionalDockingElement3&&n===this.$DirectionalDockingElement2)return;var o={};if(m!==this.$DirectionalDockingElement4){o.top=m+'px';this.$DirectionalDockingElement4=m;}if(l!==this.$DirectionalDockingElement3){o.position=l;this.$DirectionalDockingElement3=l;}if(j)if(n!==this.$DirectionalDockingElement2){o.left=typeof n==='number'?n+'px':'auto';this.$DirectionalDockingElement2=n;}c('Style').apply(this.$DirectionalDockingElement12,o);};k.prototype.$DirectionalDockingElement17=function(){'use strict';this.$DirectionalDockingElement16('fixed',this.$DirectionalDockingElement14,this.$DirectionalDockingElement11?this.$DirectionalDockingElement11.x:null);};k.prototype.$DirectionalDockingElement18=function(){'use strict';this.$DirectionalDockingElement16('fixed',this.$DirectionalDockingElement8,this.$DirectionalDockingElement11?this.$DirectionalDockingElement11.x:null);};k.prototype.$DirectionalDockingElement19=function(){'use strict';this.$DirectionalDockingElement16('absolute',this.$DirectionalDockingElement5,null);};k.prototype.translateY=function(l){'use strict';var m=c('getElementPosition')(this.$DirectionalDockingElement12).y,n=c('getElementPosition')(this.$DirectionalDockingElement9).y,o=m-n;this.$DirectionalDockingElement5=l+o;this.$DirectionalDockingElement19();};k.prototype.__updateWithCache=function(){'use strict';var l=this.$DirectionalDockingElement6.height;if(l!==this.$DirectionalDockingElement10){c('Style').set(this.$DirectionalDockingElement9,'height',l+'px');this.$DirectionalDockingElement10=l;this.$DirectionalDockingElement1&&this.$DirectionalDockingElement1.inform('changedheight');}if(this.$DirectionalDockingElement7)return;if(this.$DirectionalDockingElement13+this.$DirectionalDockingElement14<0||c('UITinyViewportAction').isTiny()){this.$DirectionalDockingElement5=0;this.$DirectionalDockingElement19();return;}if(this.$DirectionalDockingElement15===i&&this.$DirectionalDockingElement13+this.$DirectionalDockingElement8>=this.$DirectionalDockingElement5){this.$DirectionalDockingElement18();}else if(this.$DirectionalDockingElement15===h&&this.$DirectionalDockingElement13+this.$DirectionalDockingElement14<=this.$DirectionalDockingElement5){this.$DirectionalDockingElement17();}else this.$DirectionalDockingElement19();};k.prototype.update=function(){'use strict';c('queryThenMutateDOM')(function(){this.__queryDOM();}.bind(this),function(){this.__updateWithCache();}.bind(this));};k.prototype.setOffset=function(l){'use strict';return this.setOffsetAndTop(l,this.$DirectionalDockingElement14);};k.prototype.setOffsetAndTop=function(l,m){'use strict';c('queryThenMutateDOM')(function(){this.__queryDOM();this.$DirectionalDockingElement8=l;this.$DirectionalDockingElement14=m;}.bind(this),function(){this.__updateWithCache();}.bind(this));return this;};k.prototype.setTop=function(l){'use strict';return this.setOffsetAndTop(this.$DirectionalDockingElement8,l);};k.prototype.getPlaceholder=function(){'use strict';return this.$DirectionalDockingElement9;};k.prototype.getRoot=function(){'use strict';return this.$DirectionalDockingElement12;};f.exports=k;}),null);
__d('DockingElement',['AbstractDockingElement','Arbiter','CSS','DOM','DOMDimensions','Style','UserAgent','UITinyViewportAction','getElementPosition','mixin'],(function a(b,c,d,e,f,g){var h=c('UserAgent').isBrowser('Safari')||c('UserAgent').isBrowser('Mobile Safari');function i(j){'use strict';this.$DockingElement12=j;this.$DockingElement9=c('DOM').create('div');c('Style').set(this.$DockingElement9,'position','relative');c('DOM').replace(this.$DockingElement12,this.$DockingElement9);c('DOM').appendContent(this.$DockingElement9,this.$DockingElement12);this.$DockingElement8=0;this.register();this.update();}i.prototype.register=function(){'use strict';c('AbstractDockingElement').register(this.getRoot(),this.__queryDOM.bind(this),this.__updateWithCache.bind(this));};i.prototype.subscribe=function(event,j,k){'use strict';if(!this.$DockingElement1)this.$DockingElement1=new (c('Arbiter'))();return this.$DockingElement1.subscribe(event,j,k);};i.prototype.__queryDOM=function(){'use strict';this.$DockingElement11=c('getElementPosition')(this.getPlaceholder());this.$DockingElement5=c('DOMDimensions').getElementDimensions(this.$DockingElement12);};i.prototype.__updateWithCache=function(){'use strict';var j=this.$DockingElement8,k=this.getPlaceholder();if(!c('UITinyViewportAction').isTiny()&&this.$DockingElement11.y<=j){if(!this.$DockingElement7&&this.$DockingElement12.parentNode){c('CSS').addClass(this.$DockingElement12,'fixed_elem');this.$DockingElement7=true;}var l;if(this.$DockingElement4!==j){l={};l.top=j+'px';this.$DockingElement4=j;}var m=this.$DockingElement5.width;if(m!==this.$DockingElement3){l=l||{};l.width=m+'px';this.$DockingElement3=m;}if(h){var n=this.$DockingElement11.x;if(n!==this.$DockingElement2){l=l||{};l.left=n+'px';this.$DockingElement2=n;}}l&&c('Style').apply(this.$DockingElement12,l);var o=this.$DockingElement5.height;c('Style').set(k,'height',o+'px');if(o!==this.$DockingElement10){this.$DockingElement10=o;this.$DockingElement1&&this.$DockingElement1.inform('changedheight');}}else if(this.$DockingElement7){c('Style').set(k,'height','');c('Style').apply(this.$DockingElement12,{left:'',top:'',width:''});c('CSS').removeClass(this.$DockingElement12,'fixed_elem');this.$DockingElement7=false;this.$DockingElement2=null;this.$DockingElement3=null;this.$DockingElement4=null;}};i.prototype.update=function(){'use strict';this.__queryDOM();this.__updateWithCache();};i.prototype.getPlaceholder=function(){'use strict';return this.$DockingElement9;};i.prototype.getRoot=function(){'use strict';return this.$DockingElement12;};i.prototype.setOffset=function(j){'use strict';this.$DockingElement8=j;this.update();return this;};f.exports=i;}),null);
__d('StickyRHC',['csx','$','Arbiter','DirectionalDockingElement','DockingElement','DOMDimensions','DOMQuery','Event','Run','SubscriptionsHandler','ViewportBounds','ge','getElementPosition','getViewportDimensions','removeFromArray','throttle'],(function a(b,c,d,e,f,g,h){var i=35,j=[],k;function l(z,aa){if(!aa||!aa.dom_id){j.forEach(m);return;}var ba=c('$')(aa.dom_id);for(var ca=0;ca<j.length;ca++)if(c('DOMQuery').contains(j[ca].getRoot(),ba)){m(j[ca]);return;}}function m(z){var aa=z.getRoot(),ba=z.updateOffset.bind(z),ca=c('DOMQuery').scry(aa,'img.img');ca.forEach(function(da){if(da.complete||da.getAttribute('height')||da.naturalHeight===undefined&&da.naturalHeight!==0)return;var ea=function ia(){ba();fa.remove();ga.remove();ha.remove();},fa=c('Event').listen(da,'load',ea),ga=c('Event').listen(da,'error',ea),ha=c('Event').listen(da,'abort',ea);});ba();}function n(){j.forEach(function(z){z.updateOffset();});}function o(){n();n();}function p(z){var aa=c('DOMQuery').scry(z,"._4-u2"),ba=c('DOMQuery').scry(z,"._4-u3"),ca=c('DOMQuery').scry(z,'.uiHeader'),da=c('DOMQuery').scry(z,'.ego_unit');return [].concat(aa,ba,ca,da).filter(function(ea){return t(ea)!==0;});}function q(z){return c('getElementPosition')(z).y;}function r(z,aa){return z-aa;}function s(){return t(c('ge')('pageFooter'));}function t(z){return z?c('DOMDimensions').getElementDimensions(z).height:0;}var u=v(n);function v(z){return function(aa){return c('Arbiter').subscribe(aa,z);};}function w(z,aa){var ba=arguments.length<=2||arguments[2]===undefined?true:arguments[2];'use strict';this.$StickyRHC1=z;this.$StickyRHC2=aa?new (c('DirectionalDockingElement'))(z):new (c('DockingElement'))(z);this.$StickyRHC3=ba;this.$StickyRHC2.subscribe('changedheight',this.updateOffset.bind(this));this.updateOffset();m(this);if(!j.length){k=new (c('SubscriptionsHandler'))();k.addSubscriptions(u('header_loaded'),u('browse_top_filters_full_width_displayed'),u('search_top_bar_displayed'),c('Arbiter').subscribe('netego_loaded',l),c('Arbiter').subscribe('video_fullscreen_change',o),c('Event').listen(window,'resize',c('throttle')(n)));}c('Run').onLeave(function(){return this.destroy();}.bind(this));j.push(this);}w.getInstances=function(){'use strict';return j;};w.prototype.getRoot=function(){'use strict';return this.$StickyRHC1;};w.prototype.destroy=function(){'use strict';this.$StickyRHC2=null;c('removeFromArray')(j,this);if(!j.length&&k){k.release();k=null;}};w.prototype.updateOffset=function(){'use strict';this.$StickyRHC2.setOffset(this.calculateRHCOffset());};w.prototype.calculateRHCOffset=function(){'use strict';var z=this.getRoot(),aa=t(z),ba=x(),ca=y();if(aa<ca)return ba;if(this.$StickyRHC3){var da=p(z).map(q).sort(r),ea=aa+q(z);for(var fa=da,ga=Array.isArray(fa),ha=0,fa=ga?fa:fa[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ia;if(ga){if(ha>=fa.length)break;ia=fa[ha++];}else{ha=fa.next();if(ha.done)break;ia=ha.value;}var ja=ia,ka=ea-ja;if(ka<ca)return ba-(aa-ka);}}return ba-(aa-ca);};function x(){return c('ViewportBounds').getTop();}function y(){var z=x(),aa=c('getViewportDimensions')().height,ba=s();return aa-z-i-ba;}f.exports=w;}),null);
__d('LikeConfirmer',['AsyncDialog','AsyncRequest'],(function a(b,c,d,e,f,g){var h=false,i=false,j={likeContent:function k(){},like:function k(l,m){this.likeContent=l;if(i)return;if(h){this.likeContent();}else{var n=new (c('AsyncRequest'))().setURI('/like/confirm_like.php').setRelativeTo(m);c('AsyncDialog').send(n,function(o){i=true;o.subscribe('hide',this.onCloseLikeConfirmDialog.bind(this));o.setCausalElement(m);}.bind(this));}return false;},isShowingConfirmation:function k(){return i;},onCloseLikeConfirmDialog:function k(){i=false;},likeSkipConfirmation:function k(l){h=l;this.likeContent();}};f.exports=j;}),null);
__d("UIPageletContentCache",[],(function a(b,c,d,e,f,g){var h={cache:{},getContent:function i(j){if(j in this.cache)return this.cache[j];return null;},setContent:function i(j,k){this.cache[j]=k;}};f.exports=h;}),null);
__d('UIPagelet',['ActorURI','AjaxPipeRequest','AsyncRequest','DOM','HTML','ScriptPathState','UIPageletContentCache','URI','emptyFunction','ge','isElementNode'],(function a(b,c,d,e,f,g){function h(i,j,k){'use strict';var l=i&&c('isElementNode')(i)?i.id:i;this._id=l||null;this._element=c('ge')(i||c('DOM').create('div'));this._src=j||null;this._context_data=k||{};this._data={};this._handler=c('emptyFunction');this._request=null;this._use_ajaxpipe=false;this._use_post_request=false;this._is_bundle=true;this._allow_cross_page_transition=false;this._append=false;this._cache_content=false;this._content_cache_key='';}h.prototype.getElement=function(){'use strict';return this._element;};h.prototype.setHandler=function(i){'use strict';this._handler=i;return this;};h.prototype.go=function(i,j){'use strict';if(arguments.length>=2||typeof i=='string'){this._src=i;this._data=j||{};}else if(arguments.length==1)this._data=i;this.refresh();return this;};h.prototype.setAllowCrossPageTransition=function(i){'use strict';this._allow_cross_page_transition=i;return this;};h.prototype.setBundleOption=function(i){'use strict';this._is_bundle=i;return this;};h.prototype.setErrorHandler=function(i){'use strict';this._errorHandler=i;return this;};h.prototype.setTransportErrorHandler=function(i){'use strict';this.transportErrorHandler=i;return this;};h.prototype.refresh=function(){'use strict';if(this._use_ajaxpipe){c('ScriptPathState').setIsUIPageletRequest(true);this._request=new (c('AjaxPipeRequest'))();this._request.setCanvasId(this._id).setAppend(this._append).setConstHeight(this._constHeight).setJSNonBlock(this._jsNonblock).setAutomatic(this._automatic).setDisplayCallback(this._displayCallback).setFinallyHandler(this._finallyHandler).setAllowIrrelevantRequests(this._allowIrrelevantRequests);if(this._errorHandler)this._request.setErrorHandler(this._errorHandler);if(this.transportErrorHandler)this._request.setTransportErrorHandler(this.transportErrorHandler);}else{if(this._cache_content){var i=c('UIPageletContentCache').getContent(this._content_cache_key);if(i!==null){this.handleContent(i);return this;}}var j=function(n){this._request=null;var o=c('HTML')(n.getPayload());this.handleContent(o);if(this._cache_content)c('UIPageletContentCache').setContent(this._content_cache_key,o);}.bind(this),k=this._displayCallback,l=this._finallyHandler;this._request=new (c('AsyncRequest'))().setMethod('GET').setReadOnly(true).setOption('bundle',this._is_bundle).setHandler(function(n){if(k){k(j.bind(null,n));}else j(n);l&&l();});if(this._errorHandler)this._request.setErrorHandler(this._errorHandler);if(this.transportErrorHandler)this._request.setTransportErrorHandler(this.transportErrorHandler);if(this._use_post_request)this._request.setMethod('POST');}var m=babelHelpers['extends']({},this._context_data,this._data);if(this._actorID)m[c('ActorURI').PARAMETER_ACTOR]=this._actorID;this._request.setURI(this._src).setAllowCrossPageTransition(this._allow_cross_page_transition).setData({data:JSON.stringify(m)}).send();return this;};h.prototype.handleContent=function(i){'use strict';if(this._append){c('DOM').appendContent(this._element,i);}else c('DOM').setContent(this._element,i);this._handler();};h.prototype.cancel=function(){'use strict';if(this._request)this._request.abort();};h.prototype.setUseAjaxPipe=function(i){'use strict';this._use_ajaxpipe=!!i;return this;};h.prototype.setUsePostRequest=function(i){'use strict';this._use_post_request=!!i;return this;};h.prototype.setAppend=function(i){'use strict';this._append=!!i;return this;};h.prototype.setJSNonBlock=function(i){'use strict';this._jsNonblock=!!i;return this;};h.prototype.setAutomatic=function(i){'use strict';this._automatic=!!i;return this;};h.prototype.setDisplayCallback=function(i){'use strict';this._displayCallback=i;return this;};h.prototype.setConstHeight=function(i){'use strict';this._constHeight=!!i;return this;};h.prototype.setFinallyHandler=function(i){'use strict';this._finallyHandler=i;return this;};h.prototype.setAllowIrrelevantRequests=function(i){'use strict';this._allowIrrelevantRequests=i;return this;};h.prototype.setActorID=function(i){'use strict';this._actorID=i;return this;};h.prototype.setCacheContent=function(i){'use strict';this._cache_content=i;return this;};h.prototype.setContentCacheKey=function(i){'use strict';this._content_cache_key=i;return this;};h.appendToInline=function(i,j){'use strict';var k=c('ge')(i),l=c('ge')(j);if(k&&l){while(l.firstChild)c('DOM').appendContent(k,l.firstChild);c('DOM').remove(l);}};h.loadFromEndpoint=function(i,j,k,l){'use strict';l=l||{};var m='/ajax/pagelet/generic.php/'+i;if(l.intern)m='/intern'+m;var n=new (c('URI'))(m.replace(/\/+/g,'/'));if(l.subdomain)n.setSubdomain(l.subdomain);var o=false,p='';if(l.contentCacheKey){o=true;p=i+','+String(l.contentCacheKey);}var q=new h(j,n,k).setUseAjaxPipe(l.usePipe).setBundleOption(l.bundle!==false).setAppend(l.append).setJSNonBlock(l.jsNonblock).setAutomatic(l.automatic).setDisplayCallback(l.displayCallback).setConstHeight(l.constHeight).setAllowCrossPageTransition(l.crossPage).setFinallyHandler(l.finallyHandler||c('emptyFunction')).setErrorHandler(l.errorHandler).setTransportErrorHandler(l.transportErrorHandler).setAllowIrrelevantRequests(l.allowIrrelevantRequests).setActorID(l.actorID).setCacheContent(o).setContentCacheKey(p).setUsePostRequest(l.usePostRequest);l.handler&&q.setHandler(l.handler);q.go();return q;};h.loadFromEndpointBatched=function(i,j,k){'use strict';var l=i.slice(0,k),m=i.slice(k);if(m.length>0){var n=l[l.length-1],o=c('emptyFunction');if(n.options&&n.options.finallyHandler)o=n.options.finallyHandler;n.options=babelHelpers['extends']({},n.options,{finallyHandler:function p(){o();window.setTimeout(function(){h.loadFromEndpointBatched(m,j,k);},1);}});}l.forEach(function(p){h.loadFromEndpoint(p.controller,p.target_element,p.data,babelHelpers['extends']({},p.options,j,{bundle:true}));});};f.exports=h;}),null);
__d('idx',[],(function a(b,c,d,e,f,g){'use strict';function h(n,o){try{return o(n);}catch(p){if(p instanceof TypeError)if(j(p)){return null;}else if(l(p))return undefined;throw p;}}var i=void 0;function j(n){var o=n.message;if(!i)i=m(null);return i.test(o);}var k=void 0;function l(n){var o=n.message;if(!k)k=m(undefined);return k.test(o);}var m=new Function('$object$','\n  try {\n    $object$.$property$;\n  } catch (error) {\n    return new RegExp(\n      error.message\n        .replace(/[-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \'\\\\$&\')\n        .replace(\'\\\\$object\\\\$\', \'.+\')\n        .replace(\'\\\\$property\\\\$\', \'.+\')\n    );\n  }\n  throw new Error(\'Expected property access on \' + $object$ + \' to throw.\');\n');f.exports=h;}),null);
__d('randomShuffle',['randomInt'],(function a(b,c,d,e,f,g){function h(i){for(var j=i.length-1;j>0;j--){var k=c('randomInt').call(this,j+1);if(k!=j){var l=i[k];i[k]=i[j];i[j]=l;}}return i;}f.exports=h;}),null);
__d("XSimpleNUXMessagesController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/nux\/{msg_id}\/seen\/",{msg_id:{type:"Int",required:true}});}),null);