if (self.CavalryLogger) { CavalryLogger.start_js(["1sw1b"]); }

__d("ArtilleryLoggerType",[],(function a(b,c,d,e,f,g){f.exports={PRELIMINARY_UPLOAD:"preliminary",FULL_UPLOAD:"full_upload"};}),null);
__d('ArtillerySWDataCollector',['Promise','ClientServiceWorkerMessage','ServiceWorkerRegistration','pageLoadedViaSWCache','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g){var h=5000,i=null;function j(l){if(i!==null){l(i);return;}var m=false,n=new (c('ClientServiceWorkerMessage'))('asw-pageTraceDataRequest',null,function(o){var p=o.data,q=p.command,r=p.data;if(m)return;m=true;if(q==='trace'&&r.workerPerf){i={workerPerf:r.workerPerf};l(i);return;}});n.sendViaController();}var k={collect:function l(){return new (c('Promise'))(function(m,n){if(!c('pageLoadedViaSWCache')())c('ServiceWorkerRegistration').isAWorkerActivated().then(function(o){if(o){c('setTimeoutAcrossTransitions')(function(){m();},h);}else{m();return;}})['catch'](m);j(m);});}};f.exports=k;}),null);
__d("BrowserProfiler",[],(function a(b,c,d,e,f,g){var h={isEnabled:function i(){return this.isAvailable();},isAvailable:function i(){return !!window.facebookLowLevelProfilerGetData;},getProfile:function i(j){window.facebookLowLevelProfilerGetData(function(k){j(k);});}};f.exports=h;}),null);
__d('getFirstPaint',['performance'],(function a(b,c,d,e,f,g){'use strict';function h(){var i=void 0;if(c('performance')&&c('performance').timing)if(window.chrome&&window.chrome.loadTimes){var j=window.chrome.loadTimes();i=parseInt(j.firstPaintTime*1000,10);}else if(typeof c('performance').timing.msFirstPaint==='number')i=c('performance').timing.msFirstPaint;return i||null;}f.exports=h;}),null);
__d('ArtilleryLogger',['Arbiter','ArtilleryExperiments','ArtilleryLoggerType','ArtillerySWDataCollector','Banzai','BigPipe','BigPipeExperiments','BrowserProfiler','ImageTimingHelper','Map','Miny','NavigationMetrics','NavigationTimingHelper','PageletEventsHelper','ResourceTimingBootloaderHelper','TimeSlice','TimeSliceHelper','TimeSliceInteraction','forEachObject','pageLoadedViaSWCache','performance','performanceAbsoluteNow','getFirstPaint'],(function a(b,c,d,e,f,g){var h=c('BigPipeExperiments').link_images_to_pagelets,i=c('ArtilleryExperiments').artillery_static_resources_pagelet_attribution,j=c('ArtilleryExperiments').artillery_timeslice_compressed_data,k=c('ArtilleryExperiments').artillery_miny_client_payload,l='generation_time',m='__user_annotations',n='serviceworker_trace',o='serviceworker',p='first_paint',q='browser_profile',r='artillery_logger_data',s='artillery_browser_perf_data',t=new (c('Map'))(),u=new (c('Map'))(),v=false,w=new (c('Map'))(),x=new (c('Map'))();function y(){return c('performance')&&c('performance').timing&&c('performance').timing.navigationStart;}function z(na){if(!t.has(na))t.set(na,{});}function aa(na){na.subscribe(c('BigPipe').Events.tti,function(oa,pa){var qa=pa.ts,ra=pa.lid,sa=pa.metrics;z(ra);var ta=t.get(ra);ta.t_bigpipe_tti=qa;c('forEachObject')(sa,function(ua,va){ta[va]=ua;});});}function ba(na){na.subscribe(c('BigPipe').Events.displayed,function(oa,pa){var qa=pa.ts,ra=pa.lid;z(ra);t.get(ra).t_marker_all_pagelets_displayed=qa;c('TimeSlice').disablePageHeartbeat();c('ArtillerySWDataCollector').collect().done(function(sa){if(sa)x.set(ra,sa);});});}function ca(na){na.subscribe(c('BigPipe').Events.loaded,function(oa,pa){var qa=pa.ts,ra=pa.lid;z(ra);t.get(ra).t_marker_bigpipe_e2e=qa;});}function da(na,oa){if(!na)return;var pa={clientData:na,browserPerfData:oa};c('Banzai').post(s,pa,c('Banzai').VITAL);}function ea(na,oa,pa){var qa,ra=pa;if(c('BrowserProfiler').isEnabled()&&u.has(ra))(function(){var sa=u.get(ra);window.requestIdleCallback(function(){c('BrowserProfiler').getProfile(function(ta){da(sa,ta);});});})();fa(na,oa,pa);}function fa(na,oa,pa){var qa,ra=c('performanceAbsoluteNow')(),sa=pa;if(!u.has(sa)||!t.has(sa))return;var ta=t.get(sa);ta.uploadType=c('ArtilleryLoggerType').FULL_UPLOAD;ja(ta);ga();var ua=c('performanceAbsoluteNow')(),va=null;if(na==='normal'){va=0;ta.navigation_timing=c('NavigationTimingHelper').getNavTimings();}else if(na==='quickling'&&c('performance').getEntriesByName){var wa=c('performance').getEntriesByName(oa);ta.navigation_timing=c('NavigationTimingHelper').getAsyncRequestTimings(oa);if(wa.length)va=wa[0].startTime;}if(va!=null&&y()){ta.resource_timing_bootloader=c('ResourceTimingBootloaderHelper').getMetrics(va,h,sa);ta.time_slice=c('TimeSliceHelper').getMetrics(c('performance').timing.navigationStart+va,ta.t_onload,1,1);ta.extra_points=c('TimeSliceInteraction').getPageLoadPoints(c('performance').timing.navigationStart+va,ua);ta.interaction_ids=c('TimeSliceInteraction').getInteractionIDsBetween(c('performance').timing.navigationStart+va,ua);}if(j)ta.time_slice=c('TimeSliceHelper').formatMetricsForTransport(ta.time_slice);ta.pagelet_events=c('PageletEventsHelper').getMetrics(sa);if(!i&&ta.pagelet_events){if(ta.pagelet_events.display_resources)delete ta.pagelet_events.display_resources;if(ta.pagelet_events.all_resources)delete ta.pagelet_events.all_resources;}la(sa);ka(ta);var xa=ta.resource_timing_bootloader,ya=[];c('forEachObject')(xa,function(bb,cb){ya.push(bb);});ta.resource_timing_bootloader=ya;var za=babelHelpers['extends']({},ta,u.get(sa).data),ab=x.get(sa);if(na==='normal'&&ab!=null)za[o]=ab.workerPerf;if(na==='normal')za[p]=c('getFirstPaint')();if(w.size){za[m]={};w.forEach(function(bb,cb){za[m][cb]=bb;});}u['delete'](sa);t['delete'](sa);if(k)(function(){var bb=['resource_timing_bootloader','pagelet_events'],cb={};bb.forEach(function(db){var eb=za[db];if(eb==null)return;var fb=JSON.stringify(eb),gb=c('Miny').encode(fb);cb[db]=gb;delete za[db];});za.miny=cb;})();za[l]=c('performanceAbsoluteNow')()-ra;c('Banzai').post(r,za,c('Banzai').VITAL);}function ga(){ma.recordUserAnnotation('client_pixel_ratio_10x',((window.devicePixelRatio||1)*10).toString());ma.recordUserAnnotation('is_sw_page_loaded_via_cache',c('pageLoadedViaSWCache')()?'1':'0');if(c('performance')&&c('performance').navigation)ma.recordUserAnnotation('nav_type',ha(c('performance').navigation.type));ma.recordUserAnnotation('images_preparsed',c('BigPipeExperiments').preparse_content&&c('BigPipeExperiments').preparse_content!=='off'?'1':'0');}function ha(na){switch(na){case 0:return 'TYPE_NAVIGATE';case 1:return 'TYPE_RELOAD';case 2:return 'TYPE_BACK_FORWARD';case 255:return 'TYPE_RESERVED';default:return 'unknown navigation type';}}function ia(){c('NavigationMetrics').addListener(c('NavigationMetrics').Events.NAVIGATION_DONE,function(na,oa){var pa=oa.pageType,qa=oa.pageURI,ra=oa.serverLID;ea(pa,qa,ra);});}function ja(na){var oa;if(window.CavalryLogger)(function(){var pa=window.CavalryLogger.getInstance(),qa=['t_domcontent','t_pagelet_cssload_early_resources','t_tti','t_onload'];qa.forEach(function(ra){if(Object.prototype.hasOwnProperty.call(pa.values,ra))na[ra]=pa.values[ra];});})();}function ka(na){if(window.CavalryLogger){var oa=window.CavalryLogger.getInstance();c('ResourceTimingBootloaderHelper').mergeBootloaderMetricsAndResourceTimings(na.resource_timing_bootloader,oa.bootloader_metrics,true);}}function la(na){var oa=t.get(na);if(y()){var pa=c('performance').timing.navigationStart,qa=oa.t_bigpipe_tti,ra=oa.t_marker_bigpipe_e2e,sa=c('ImageTimingHelper').getImageTimings(na),ta=c('ResourceTimingBootloaderHelper').getLastTTIAndE2EImageResponseEnds(qa,ra,sa),ua=ta.TTI,va=ta.E2E;if(!isNaN(ua)&&ua!==pa)oa.t_tti_with_images=ua;if(!isNaN(va)&&va!==pa)oa.t_marker_bigpipe_e2e_with_images=va;}}var ma={enableProfilingWithClientData:function na(oa,pa,qa){z(oa);u.set(oa,{traceID:pa,data:qa});if(v)return;v=true;c('PageletEventsHelper').init();c('Arbiter').subscribe(c('BigPipe').Events.init,function(ra,sa){var ta=sa.arbiter;if(ta){aa(ta);ba(ta);ca(ta);}});ia();},recordUserAnnotation:function na(oa,pa){var qa=arguments.length<=2||arguments[2]===undefined?true:arguments[2];if(!qa&&w.has(oa))return false;w.set(oa,pa);return true;}};f.exports=ma;}),null);