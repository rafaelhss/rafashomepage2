if (self.CavalryLogger) { CavalryLogger.start_js(["PUeEB"]); }

__d("CallToActionLinkFormats",[],(function a(b,c,d,e,f,g){f.exports={VIDEO_LEAD:"VIDEO_LEAD",VIDEO_LPP:"VIDEO_LPP",VIDEO_NEKO:"VIDEO_NEKO",VIDEO_NON_LINK:"VIDEO_NON_LINK",VIDEO_SHOP:"VIDEO_SHOP"};}),null);
__d("ComposerPerfEvent",[],(function a(b,c,d,e,f,g){f.exports={CLIENT_BOOTSTRAPPED:"client_bootstrapped",CLIENT_BOOTLOADED:"client_bootloaded",CLIENT_POST_SUCCEEDED:"client_post_succeeded",CLIENT_POST_FAILED:"client_post_failed"};}),null);
__d("ComposerSourceSurface",[],(function a(b,c,d,e,f,g){f.exports={ALBUM_PERMALINK_INLINE_COMPOSER:"album_permalink_inline_composer",FEED:"newsfeed",TIMELINE:"timeline",PAGE:"page",GROUP:"group",EVENT:"event",FUNDRAISER:"fundraiser",SOCIAL_BALLOT:"social_ballot",VOTER_REGISTRATION:"voter_registration",ELECTION_HUB:"election_hub",QUICK_ELECTION:"quick_election",LIVE_MAP:"live_map",LOCAL_NEWS:"local_news",UNKNOWN:"unknown",PAGE_RECOMMENDATION_ACTION_BAR:"page_recommendation_action_bar",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RECENT_POSTS:"timeline\/recent_posts",INSTANT_GAME:"instant_game",THROWBACK_PERMALINK:"throwback_permalink",MESSENGER_SHARE_DIALOG:"messenger_share_dialog",WORKBENCH:"workbench",TOWNHALL:"townhall",LEARNING_COURSE_UNIT:"learning_course_unit"};}),null);
__d("FacerecWaterfallEvent",[],(function a(b,c,d,e,f,g){f.exports={RECOGNITION_RECEIVED_BY_CLIENT:"recognition_received_by_client",CLIENT_RECOGNITION_POLLER_TIMEOUT:"client_recognition_poller_timeout",CLIENT_RECOGNITION_POLLER_GIVE_UP:"client_recognition_poller_give_up",SERVER_PHOTO_PUBLISHED:"server_photo_published",SERVER_PHOTO_TAG_ADDED:"sever_photo_tag_added",SERVER_RECOGNITION_OF_PHOTO_POLLED:"server_recognition_of_photo_polled",SERVER_RECOGNITION_OF_FACE_BOX_RETURNED:"server_recognition_of_face_box_returned",CLIENT_PHOTO_PUBLISHED:"client_photo_published"};}),null);
__d("PagesComposerCarouselPostChildAttachmentAttributes",[],(function a(b,c,d,e,f,g){f.exports={PICTURE:"picture",NAME:"name",DESCRIPTION:"description",LINK:"link",SELECTED:"selected",SCRAPED:"scraped",IMAGE_FBID:"image_fbid",IMAGE_SOURCE:"image_source",ORIGINAL_DIMENSION_HEIGHT:"original_dimensions_height",ORIGINAL_DIMENSION_WIDTH:"original_dimensions_width",CROPPING_START_POINT_X:"cropping_startPoint_x",CROPPING_START_POINT_Y:"cropping_startPoint_y",CROPPING_SOURCE_DIMENSION_HEIGHT:"cropping_source_dimension_height",CROPPING_SOURCE_DIMENSION_WIDTH:"cropping_source_dimension_width",VIDEO_ID:"video_id",CTA_TYPE:"cta_type"};}),null);
__d("PagesComposerCarouselPostLogAttributes",[],(function a(b,c,d,e,f,g){f.exports={USE_CAROUSEL_COMPOSER:"use_carousel_composer",CAROUSEL_INCOMPATIBLE:"carousel_incompatible",CAROUSEL_INCOMPATIBLE_TYPE:"carousel_incompatible_type",SCRAPED_IMAGE_NUM_OLD:"scraped_image_num_old",SCRAPED_URL:"scraped_url",SCRAPED_TIME:"scraped_time",COMPOSER_LOCATION:"composer_location",HIDE_END_CARD:"hide_end_card",SOURCE_ATTACHMENT:"source_attachment",PREFILL_SCRAPE_URL:"prefill_scrape_url"};}),null);
__d("PhotoEditorLoggingConstants",[],(function a(b,c,d,e,f,g){f.exports={COMPOSER_IMAGE_STICKER:"composer_sticker",COMPOSER_IMAGE_TEXT_OVERLAY:"composer_text_overlay",COMPOSER_IMAGE_HAS_CROP:"composer_has_crop",COMPOSER_IMAGE_HAS_FILTER:"composer_has_filter"};}),null);
__d("PlaceAttachmentSetting",[],(function a(b,c,d,e,f,g){f.exports={HIDE_ATTACHMENT:1,SHOW_ATTACHMENT:2};}),null);
__d("ProfileIntroCardTestID",[],(function a(b,c,d,e,f,g){f.exports={BIO_SHARE_TO_FEED:"bio_share_to_feed",BIO_TEXT:"profile_intro_card_bio_text",DELETE_PHOTO_BUTTON:"profile_intro_card_delete_photo_button",EDIT_BIO_BUTTON:"profile_intro_card_edit_bio_button",EDIT_BIO_TEXT_AREA:"profile_intro_card_edit_bio_text_area",EDIT_PHOTO_CONTAINER:"profile_intro_card_edit_photo_container",EDIT_PHOTO_PLACEHOLDER:"profile_intro_card_edit_photo_placeholder",EDIT_PHOTOS_BUTTON:"profile_intro_card_edit_photos_button",EDIT_PHOTOS_PENCIL_BUTTON:"profile_intro_card_edit_photos_pencil_button",PHOTO_COLLAGE:"profile_intro_card_photo_collage",PHOTO_DIALOG_ROOT:"profile_intro_card_photo_dialog_root",PHOTO_NUX:"profile_intro_card_photo_nux",PHOTO_NUX_CLOSE_BUTTON:"profile_intro_card_photo_nux_close_button",ROOT:"profile_intro_card_root",SAVE_BIO_BUTTON:"profile_intro_card_save_bio_button",SAVE_PHOTOS_BUTTON:"profile_intro_card_save_photos_button"};}),null);
__d("PUWMethods",[],(function a(b,c,d,e,f,g){f.exports={DRAGDROP:"dragdrop",FILE_SELECTOR:"file_selector",VAULT:"vault",RECENT_PHOTOS:"recent_photos",PHOTOS_OF_YOU:"photos_of_you",METHOD_EDITOR:"editor",SUGGESTIONS:"suggestions",CAMERA:"camera",COPYPASTE:"copypaste",DISABLE_SPHERICAL:"disable_spherical"};}),null);
__d("ReactComposerCollageLayoutActor",[],(function a(b,c,d,e,f,g){f.exports={USER:1,PAGE:2};}),null);
__d("ReactComposerJSONCollageLayoutData",[],(function a(b,c,d,e,f,g){f.exports={"2":[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3]]},{validActors:3,photoLayouts:[[0,6,3,0],[3,6,6,0]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,6,3]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0]]}],"3":[{validActors:3,photoLayouts:[[0,6,3,0],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,3,3],[3,6,6,3]]},{validActors:2,photoLayouts:[[0,2,2,0],[0,4,2,2],[0,6,2,4]]},{validActors:1,photoLayouts:[[0,6,4,0],[4,3,6,0],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,4,6,0],[0,6,3,4],[3,6,6,4]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0],[4,6,6,0]]},{validActors:1,photoLayouts:[[0,2,6,0],[0,4,6,2],[0,6,6,4]]}],"4":[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,6,4,0],[4,2,6,0],[4,4,6,2],[4,6,6,4]]},{validActors:3,photoLayouts:[[0,4,6,0],[0,6,2,4],[2,6,4,4],[4,6,6,4]]}],"5":[{validActors:1,photoLayouts:[[0,3,3,0],[3,3,6,0],[0,6,2,3],[2,6,4,3],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,2,5,0],[3,4,5,2],[3,6,5,4]]}]};}),null);
__d("ReactComposerMediaAspectTypes",[],(function a(b,c,d,e,f,g){f.exports={LANDSCAPE:"landscape",PORTRAIT:"portrait",SQUARE:"square",PANORAMA_TESTING_ONLY:"panorama",VERTICAL_PANORAMA_TESTING_ONLY:"vertical_panorama"};}),null);
__d("StorySurfaces",[],(function a(b,c,d,e,f,g){f.exports={HOMEPAGE:1,TIMELINE:2,PERMALINK:3,ENTSTREAM:4,GROUP:5};}),null);
__d("ComposerTargetData",[],(function a(b,c,d,e,f,g){function h(i,j,k,l){"use strict";this.targetID=i;this.targetSupportsMultiplePhotos=j;this.viewerIsTarget=k;this.targetSupportsMultiMedia=l;}f.exports=h;}),null);
__d('DocumentUploadConfig',['DocumentUploadConfigInitialData'],(function a(b,c,d,e,f,g){var h={isSupported:function i(j){if(!j)return false;if(c('DocumentUploadConfigInitialData').CONTENT_TYPES.length<=0)return false;return c('DocumentUploadConfigInitialData').CONTENT_TYPES.includes(j);}};f.exports=h;}),null);
__d('ComposerXDragDropUtils',['csx','cx','Arbiter','CSS','DocumentUploadConfig','DOMQuery','Parent','VideoUploadFeatureDetector'],(function a(b,c,d,e,f,g,h,i){var j={handleDragEnterAndLeave:function k(l){var m=c('DOMQuery').scry(c('Parent').bySelector(l,"._119"),"._2wr");c('Arbiter').subscribe('dragenter',function(n,o){if(l==o.element)m.forEach(c('CSS').hide);});c('Arbiter').subscribe('dragleave',function(n,o){if(l==o.element)m.forEach(c('CSS').show);});},filterImages:function k(l){var m=c('VideoUploadFeatureDetector').supportsFileAPI(),n=[];for(var o=0;o<l.length;o++)if(l[o].type.match('image/*')){n.push(l[o]);}else if(m&&l[o].type.match('video/*')){n.push(l[o]);}else if(c('DocumentUploadConfig').isSupported(l[o].type))n.push(l[o]);return n;}};f.exports=j;}),null);
__d('getTextDirection',['Locale','UnicodeBidi'],(function a(b,c,d,e,f,g){function h(i){var j=c('UnicodeBidi').isDirectionRTL(i),k=c('Locale').isRTL();if(j&&!k){return 'rtl';}else if(!j&&k)return 'ltr';return '';}f.exports=h;}),null);
__d('PhotoUploadFacerecWaterfallTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PhotoUploadFacerecWaterfallLoggerConfig',this.$PhotoUploadFacerecWaterfallTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PhotoUploadFacerecWaterfallLoggerConfig',this.$PhotoUploadFacerecWaterfallTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PhotoUploadFacerecWaterfallTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1=babelHelpers['extends']({},this.$PhotoUploadFacerecWaterfallTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.event=j;return this;};h.prototype.setFaceBoxID=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.face_box_id=j;return this;};h.prototype.setPhotoFbid=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.photo_fbid=j;return this;};h.prototype.setRecognizedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.recognized_user=j;return this;};h.prototype.setTaggedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.tagged_user=j;return this;};h.prototype.setVC=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.vc=j;return this;};var i={event:true,face_box_id:true,photo_fbid:true,recognized_user:true,tagged_user:true,vc:true};f.exports=h;}),null);
__d('PhotoEditorSaveStates',['requireWeak','Map'],(function a(b,c,d,e,f,g){var h;c('requireWeak')('PhotoEditorGraphic',function(l){h=l.Sticker;});var i=new (c('Map'))(),j=new (c('Map'))(),k={setState:function l(m,n){i.set(m,n);},getState:function l(m){return i.get(m);},setLoggingData:function l(m,n){j.set(m,n);},getLoggingData:function l(m){return j.get(m);},getTotalNumOfStickersOnPhoto:function l(m){if(i.get(m))return i.get(m).graphics.filter(function(n){return h&&n.type===h;}).length;return 0;}};f.exports=k;}),null);
__d('ProfileIntroCardAddButton.react',['ix','cx','React','Image.react','Link.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){'use strict';k.constructor.call(this,m);}l.prototype.render=function(){'use strict';return c('React').createElement(c('Link.react'),{className:"_zho _2pi3",onClick:this.props.onClick},c('React').createElement(c('Image.react'),{alt:this.props.altText,className:"_zhp _3-90",src:h("139438")}),c('React').createElement('span',null,this.props.promptLabel));};f.exports=l;}),null);
__d('ProfileIntroCardStrings',['fbt','ProfileIntroCardBioPostToFeed'],(function a(b,c,d,e,f,g,h){var i={PLACEHOLDER:h._("Enter text here"),EDIT:h._("Edit"),EDIT_BIO:h._("Edit Bio"),CANCEL:h._("Cancel"),SAVE:h._("Save"),SAVED:h._("Saved"),POST:h._("Post"),POST_TO_FEED:h._("Post to News Feed"),POST_TO_FEED_QUESTION:h._("{Question whether to post bio to News Feed}",[h.param('Question whether to post bio to News Feed',c('ProfileIntroCardBioPostToFeed').content)]),POST_PHOTOS_TO_FEED:h._("Post new photos to News Feed"),POST_TO_FEED_BIO_NUX:h._("Share your bio with friends by posting to News Feed."),POST_TO_FEED_SINGLE_PHOTO_NUX:h._("Share your new featured photo with friends by posting to News Feed."),POST_TO_FEED_MULTIPLE_PHOTO_NUX:h._("Share your new featured photos with friends by posting to News Feed."),BIO_SUGGESTION_MESSAGE:h._("Use details from your About section as your bio"),getRemainingCharacters:function j(k){return h._("{remainingCharacters} characters left",[h.param('remainingCharacters',k)]);}};f.exports=i;}),null);
__d("XProfileIntroCardDismissSuggestedBioPromptAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/profile\/intro\/suggested_bio_prompt\/dismiss\/",{});}),null);
__d('ProfileIntroCardBioSuggestion.react',['cx','React','AsyncRequest','Link.react','LineClamp.react','ProfileIntroCardStrings','XProfileIntroCardDismissSuggestedBioPromptAsyncController','XUICloseButton.react','XUIGrayText.react','XUIText.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);}k.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_4nk4 _3-8x _3-96"},c('React').createElement(c('Link.react'),{className:"_4nk5 _2pi9 _2pi3",onClick:this.props.onClick},c('React').createElement(c('XUIText.react'),{className:"_4nk6 _3-95 _3-91",display:'block',size:'medium'},c('ProfileIntroCardStrings').BIO_SUGGESTION_MESSAGE),c('React').createElement(c('XUIGrayText.react'),{shade:'dark',size:'medium'},c('React').createElement(c('LineClamp.react'),{lines:2},this.props.bioSuggestionLabel))),c('React').createElement(c('XUICloseButton.react'),{className:"_4nk7 _3-8y _3-91",onClick:this.$ProfileIntroCardBioSuggestion1.bind(this)}));};k.prototype.$ProfileIntroCardBioSuggestion1=function(){'use strict';var l=c('XProfileIntroCardDismissSuggestedBioPromptAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(l).send();this.props.onDismiss();};f.exports=k;}),null);
__d('ProfileIntroCardLogger',['csx','cx','BanzaiLogger','CSS','DataStore','Event','Parent','tidyEvent'],(function a(b,c,d,e,f,g,h,i){var j=null,k=null;function l(o,p,q,r){j=p;k=r;c('tidyEvent')(c('Event').listen(o,'click',function(s){var t=s.getTarget(),u=c('Parent').byAttribute(t,q);if(u){if(c('CSS').matchesSelector(u,"._md0")&&t.nodeName!=='A')return;n(JSON.parse(c('DataStore').get(u,'store')));}}));}function m(o){n(o);}function n(o){c('BanzaiLogger').log(j,babelHelpers['extends']({},k,o));}f.exports={init:l,logClick:m};}),null);
__d('ProfileIntroCardSpinner.react',['cx','React','XUISpinner.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_33dp _2pi5"},c('React').createElement(c('XUISpinner.react'),null));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ProfileIntroCardBio.react',['cx','BootloadedComponent.react','DOMScroll','JSResource','ProfileIntroCardAddButton.react','ProfileIntroCardBioSuggestion.react','ProfileIntroCardLogger','ProfileIntroCardSpinner.react','ProfileIntroCardStrings','ProfileIntroCardTestID','React','ReactDOM','TextWithEmoticons.react','TooltipLink.react','getTextDirection'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this.state={isBioSuggestionDismissed:false,isEditMode:this.props.initialEdit,isShareToFeedPromptShown:this.props.showShareToFeedPrompt};}k.prototype.componentDidMount=function(){'use strict';if(this.props.initialEdit)c('DOMScroll').ensureVisible(c('ReactDOM').findDOMNode(this));};k.prototype.render=function(){'use strict';if(this.state.isEditMode||this.state.isShareToFeedPromptShown){var l=null;if(this.props.bio){l=this.props.bio;}else if(this.props.bioSuggestionText&&!this.state.isBioSuggestionDismissed)l=this.props.bioSuggestionText;return c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadLoader:c('JSResource')('ProfileIntroCardBioEditForm.react').__setRef('ProfileIntroCardBio.react'),bootloadPlaceholder:c('React').createElement(c('ProfileIntroCardSpinner.react'),null),introCardSessionID:this.props.introCardSessionID,initialText:l,onCancel:function(){this.setState({isEditMode:false,isShareToFeedPromptShown:false});}.bind(this),showShareToFeedPrompt:this.state.isShareToFeedPromptShown},this.props.editFieldOptions));}if(this.props.bio)return c('React').createElement('div',{'data-testid':c('ProfileIntroCardTestID').BIO_TEXT,dir:c('getTextDirection')(this.props.bio),className:"_4ihn _2pi4 _2pia"},c('React').createElement(c('TextWithEmoticons.react'),{renderEmoji:true,renderEmoticons:true,text:this.props.bio}),c('React').createElement(c('TooltipLink.react'),{className:"_1-gu _2p2g",onClick:this.$ProfileIntroCardBio1.bind(this,'bio_edit_click'),tooltip:c('ProfileIntroCardStrings').EDIT},c('React').createElement('i',{className:"_2p2h"})));if(this.props.animatedBioPromptButton){var m=this.props.animatedBioPromptButton;return c('React').createElement(m,{animatedBioPromptStrings:this.props.animatedBioPromptStrings,onClick:this.$ProfileIntroCardBio1.bind(this,'bio_add_click')});}if(!this.props.bioSuggestionText||this.state.isBioSuggestionDismissed)return c('React').createElement(c('ProfileIntroCardAddButton.react'),{altText:c('ProfileIntroCardStrings').EDIT_BIO,onClick:this.$ProfileIntroCardBio1.bind(this,'bio_add_click'),promptLabel:this.props.addBioPrompt});return c('React').createElement(c('ProfileIntroCardBioSuggestion.react'),{bioSuggestionLabel:this.props.bioSuggestionLabel,onClick:this.$ProfileIntroCardBio1.bind(this,'bio_add_prompt_suggested_click'),onDismiss:this.$ProfileIntroCardBio2.bind(this)});};k.prototype.$ProfileIntroCardBio1=function(event){'use strict';c('ProfileIntroCardLogger').logClick({event:event});this.setState({isEditMode:true});};k.prototype.$ProfileIntroCardBio2=function(){'use strict';this.setState({isBioSuggestionDismissed:true});};f.exports=k;}),null);
__d('ProfileIntroCardBioAnimatedPromptButton.react',['ix','cx','Image.react','Layout.react','Link.react','React','XUICarousel.react','XUICarouselAnimator','XUICarouselItem.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=1000,o=3750,p=0;j=babelHelpers.inherits(q,c('React').Component);k=j&&j.prototype;function q(r){'use strict';k.constructor.call(this,r);}q.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_1jf5 _3-8x _3-96"},c('React').createElement(c('Link.react'),{className:"_1jf6 _2pi9 _2pi3",onClick:this.props.onClick},c('React').createElement(c('XUICarousel.react'),{animator:new (c('XUICarouselAnimator'))({centered:true,type:'showcase'}),animationDuration:n,autoplayDirection:'forward',autoplayInterval:o,initialAutoplay:true,initialIndex:p,resizeViewport:'dynamic',stopAutoplayOnHover:true,wrapAround:true},this.props.animatedBioPromptStrings.map(function(r,s){return c('React').createElement(c('XUICarouselItem.react'),{className:"_2phz",key:s},c('React').createElement(c('Layout.react'),null,c('React').createElement(l,null,c('React').createElement(c('Image.react'),{src:h("117010")})),c('React').createElement(m,null,c('React').createElement(c('XUIText.react'),{className:"_1jf7 _3-95 _3-9a",size:'medium'},r))));}))));};f.exports=q;}),null);
__d('TimelineCapsuleUtilities',['CSS'],(function a(b,c,d,e,f,g){var h={setFirstUnit:function i(j){var k=true;for(var l=0;l<j.childNodes.length;++l){var m=j.childNodes[l];if(m.id.indexOf('tl_unit_')===0)if(k){k=false;c('CSS').addClass(m,'firstUnit');}else{c('CSS').removeClass(m,'firstUnit');break;}}}};f.exports=h;}),null);
__d('TimelineComposer',['csx','Arbiter','Bootloader','ComposerXMarauderLogger','ComposerXStore','CSS','DOM','DOMQuery','Event','Parent','ProfileFIGConfig','ReloadPage','Run','TimelineCapsuleUtilities','TimelineDOMID','$','ge','getObjectValues','goURI','tidyEvent'],(function a(b,c,d,e,f,g,h){var i,j;function k(){c('ComposerXMarauderLogger').logCompleted(i.id);}function l(n){if(n.hidePost){k();return;}if(n.redirect){var o=c('ComposerXStore').getAllForComposer(i.id);c('getObjectValues')(o).forEach(function(q){if(q.reset)q.reset(q);});c('goURI')(n.redirect);k();return;}if(!n.streamStory){c('ReloadPage').now();return;}if(c('ProfileFIGConfig').hasFIG){var p=c('ge')(c('TimelineDOMID').FIG_TIMELINE);if(p){c('DOM').prependContent(p,n.streamStory);k();return;}}if(n.backdatedTime){c('Bootloader').loadModules(["TimelineStoryPublisher"],function(q){q.publish(n);},'TimelineComposer');k();return;}m.renderCapsuleBasedStory(i,n.streamStory);c('Arbiter').inform('TimelineComposer/on_after_publish',n.streamStory,c('Arbiter').BEHAVIOR_PERSISTENT);k();}var m={init:function n(o){i=c('$')(o);j=c('Arbiter').subscribe('composer/publish',function(event,p){if(p.composer_id===i.id)l(p);});c('Run').onLeave(m.destroy);},destroy:function n(){j&&j.unsubscribe();},renderCapsuleBasedStory:function n(o,p){var q=c('Parent').byClass(o,'fbTimelineCapsule');if(!q)return;var r=c('DOMQuery').scry(q,".fbTimelineUnit")[0],s=r.nextSibling;if(s&&s.getAttribute('data-spine'))r=r.nextSibling;var t=c('DOM').insertAfter(r,p)[0];if(c('CSS').hasClass(t,'fbTimelineUnit'))t=c('DOM').find(t,'div.timelineUnitContainer');c('Bootloader').loadModules(["Animation"],function(u){new u(t).from('backgroundColor','#fff8dd').to('backgroundColor','#fff').duration(2000).ease(u.ease.both).go();},'TimelineComposer');c('TimelineCapsuleUtilities').setFirstUnit(q);},getRoot:function n(){return i;},initNUX:function n(o,p){c('tidyEvent')(c('Event').listen(o,'click',function(){var q=c('DOM').scry(p,'textarea')[0];q&&q.focus();}));}};f.exports=b.TimelineComposer||m;}),null);
__d('ReactComposerAttachmentInitState',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({UNINITIALIZED:null,INITIALIZING:null,INITIALIZED:null},'ReactComposerAttachmentInitState');}),null);
__d('ReactComposerAttachmentStore',['ReactComposerAttachmentActionType','ReactComposerAttachmentInitState','ReactComposerAttachmentType','ReactComposerStoreBase','ImmutableObject','performanceAbsoluteNow'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {attachments:[],selectedAttachment:null,isSelectedAttachmentActive:false};},function(l){switch(l.type){case c('ReactComposerAttachmentActionType').REGISTER_ATTACHMENT:k&&k.$ReactComposerAttachmentStore1(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerAttachmentStore2(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTLOADED:k&&k.$ReactComposerAttachmentStore3(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTSTRAPPED:k&&k.$ReactComposerAttachmentStore4(l);break;case c('ReactComposerAttachmentActionType').SET_INITIALIZED:k&&k.$ReactComposerAttachmentStore5(l);break;}});k=this;}j.prototype.getAttachment=function(k,l){'use strict';var m=this.getComposerData(k);return m.attachments.find(function(n){return n.id===l;});};j.prototype.getSelectedAttachmentID=function(k){'use strict';var l=this.getComposerData(k);if(l.selectedAttachment)return l.selectedAttachment.id;return null;};j.prototype.hasAttachment=function(k,l){'use strict';return this.getComposerData(k).attachments.some(function(m){return m.id===l;});};j.prototype.getIsAttachmentSelected=function(k,l){'use strict';var m=this.getComposerData(k).selectedAttachment;return !!m&&m.id===l;};j.prototype.isSelectedAttachmentActive=function(k){'use strict';return this.getComposerData(k).isSelectedAttachmentActive;};j.prototype.isBootstrapped=function(k,l){'use strict';var m=this.getComposerData(k),n=this.$ReactComposerAttachmentStore6(m,l);return m.attachments[n].bootstrapped;};j.prototype.getBootloadDuration=function(k,l){'use strict';var m=this.getComposerData(k),n=this.$ReactComposerAttachmentStore6(m,l);return m.attachments[n].bootloadDuration;};j.prototype.getBootstrapDuration=function(k,l){'use strict';var m=this.getComposerData(k),n=this.$ReactComposerAttachmentStore6(m,l);return m.attachments[n].bootstrapDuration;};j.prototype.getAttachmentsConfig=function(k,l){'use strict';var m=this.getComposerData(k),n=this.$ReactComposerAttachmentStore6(m,l);return m.attachments[n].config;};j.prototype.$ReactComposerAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','id']),m=l[0],n=l[1],o=this.getComposerData(m),p=new (c('ImmutableObject'))({id:n,initState:c('ReactComposerAttachmentInitState').UNINITIALIZED,bootloaded:k.bootloaded,bootstrapped:k.bootstrapped,module:k.module,postButtonModule:k.postButtonModule,initTime:null,bootloadDuration:null,bootstrapDuration:null,config:n===c('ReactComposerAttachmentType').MEDIA&&k.config?{videoUploadParams:k.config.videoUploadParams||{}}:null});o.attachments.push(p);if(k.selected)o.selectedAttachment=p;if(k.active)o.isSelectedAttachmentActive=true;this.emitChange(m);};j.prototype.$ReactComposerAttachmentStore7=function(k){'use strict';var l=this.validateAction(k,['id','composerID']),m=l[0],n=l[1],o=this.getComposerData(n),p=this.$ReactComposerAttachmentStore6(o,m);if(o.attachments[p].initState===c('ReactComposerAttachmentInitState').UNINITIALIZED)o.attachments[p]=c('ImmutableObject').set(o.attachments[p],{initState:c('ReactComposerAttachmentInitState').INITIALIZING});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['id','composerID','activate']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(n),q=this.$ReactComposerAttachmentStore6(p,m);p.selectedAttachment=p.attachments[q];if(o)p.isSelectedAttachmentActive=true;if(p.attachments[q].initState===c('ReactComposerAttachmentInitState').UNINITIALIZED)p.attachments[q]=c('ImmutableObject').set(p.attachments[q],{initState:c('ReactComposerAttachmentInitState').INITIALIZING});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['id','composerID','attachmentModule']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(n),q=this.$ReactComposerAttachmentStore6(p,m);p.attachments[q]=c('ImmutableObject').set(p.attachments[q],{bootloaded:true,bootloadDuration:c('performanceAbsoluteNow')()-p.attachments[q].initTime,module:o,postButtonModule:k.postButtonModule});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['id','composerID']),m=l[0],n=l[1],o=this.getComposerData(n),p=this.$ReactComposerAttachmentStore6(o,m);o.attachments[p]=c('ImmutableObject').set(o.attachments[p],{bootstrapped:true,bootstrapDuration:c('performanceAbsoluteNow')()-o.attachments[p].initTime});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore5=function(k){'use strict';var l=this.validateAction(k,['id','composerID']),m=l[0],n=l[1],o=this.getComposerData(n),p=this.$ReactComposerAttachmentStore6(o,m);o.attachments[p]=c('ImmutableObject').set(o.attachments[p],{initState:c('ReactComposerAttachmentInitState').INITIALIZED,initTime:c('performanceAbsoluteNow')()});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore6=function(k,l){'use strict';var m=-1;for(var n=0;n<k.attachments.length;n++)if(k.attachments[n].id===l){m=n;break;}if(m===-1)throw new Error('Undefined attachment id: '+l);return m;};f.exports=new j();}),null);
__d('ReactComposerAttachmentActions',['ReactComposerAttachmentActionType','ReactComposerDispatcher','ReactComposerAttachmentStore'],(function a(b,c,d,e,f,g){h.prototype.registerAttachment=function(i,j){'use strict';var k=babelHelpers['extends']({composerID:i,type:c('ReactComposerAttachmentActionType').REGISTER_ATTACHMENT},j);c('ReactComposerDispatcher').dispatch(k);};h.prototype.initializeAttachment=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerAttachmentActionType').INITIALIZE_ATTACHMENT,id:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.selectAttachment=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?false:arguments[2],l=arguments[3];'use strict';var m=c('ReactComposerAttachmentStore').getSelectedAttachmentID(i);if(!m)return;var n={composerID:i,type:c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT,id:j,activate:k,uiElementName:l,currentAttachmentID:m};c('ReactComposerDispatcher').dispatch(n);};h.prototype.setInitialized=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerAttachmentActionType').SET_INITIALIZED,id:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setBootloaded=function(i,j,k,l){'use strict';var m={composerID:i,type:c('ReactComposerAttachmentActionType').SET_BOOTLOADED,id:j,attachmentModule:k,postButtonModule:l};c('ReactComposerDispatcher').dispatch(m);};h.prototype.setBootstrapped=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerAttachmentActionType').SET_BOOTSTRAPPED,id:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.changeUploadStatus=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerAttachmentActionType').UPLOAD_ATTACHMENT,uploading:j};c('ReactComposerDispatcher').dispatch(k);};function h(){'use strict';}f.exports=new h();}),null);
__d('ReactComposerAttachmentLoader',['ReactComposerAttachmentActions','ReactComposerAttachmentInitState','ReactComposerAttachmentStore','ReactComposerStore','XReactComposerLoggingODSController','AsyncRequest'],(function a(b,c,d,e,f,g){var h={load:function i(j,k,l,m){var n=c('ReactComposerAttachmentStore').getAttachment(j,k);if(!n||n.initState===c('ReactComposerAttachmentInitState').INITIALIZED)return;c('ReactComposerAttachmentActions').setInitialized(j,k);this._logToODS(j,'bootload_start',k);l(function(o,p){this._logToODS(j,'bootload_done',k);c('ReactComposerAttachmentActions').setBootloaded(j,k,o,p);}.bind(this));this._logToODS(j,'bootstrap_start',k);new (c('AsyncRequest'))(m).setHandler(function(){this._logToODS(j,'bootstrap_done',k);setTimeout(function(){return c('ReactComposerAttachmentActions').setBootstrapped(j,k);},0);}.bind(this)).send();},_logToODS:function i(j,event,k){var l=c('XReactComposerLoggingODSController').getURIBuilder().setString('event',event).setString('attachment_type',k).setEnum('composer_type',c('ReactComposerStore').getRef(j)).getURI();new (c('AsyncRequest'))(l).send();}};f.exports=h;}),null);
__d('ReactComposerAttachmentPlaceholder.react',['cx','React','XUISpinner.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=c('joinClasses')(this.props.className,"_2nt-");return c('React').createElement('div',{className:l},c('React').createElement(c('XUISpinner.react'),{className:"_2nt_",size:'large'}));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerAttachmentSelector.react',['cx','Image.react','Link.react','React','TooltipData','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=c('joinClasses')("_4-h7"+(this.props.selected?' '+"_5qtn":''),'fbReactComposerAttachmentSelector_'+this.props.attachmentID);return c('React').createElement(c('Link.react'),babelHelpers['extends']({onClick:this.props.onSelected,className:m,role:'tab','aria-selected':this.props.selected,'data-tooltip-delay':'500','data-tooltip-display':'overflow'},c('TooltipData').propsFor(this.props.label),this.props),c('React').createElement('span',{className:"_4-fs"},c('React').createElement(c('Image.react'),{src:this.props.icon,className:"_5qto"}),c('React').createElement('span',{className:"_5qtp"},this.props.label),c('React').createElement('span',{className:"_4-h8"})));};function l(){i.apply(this,arguments);}l.propTypes={selected:k.bool,label:k.string.isRequired,icon:k.object.isRequired,onSelected:k.func.isRequired};l.defaultProps={selected:false};f.exports=l;}),null);
__d('ReactComposerPostToGroupActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SELECT_TAB:null,UNSELECT_TAB:null,UPDATE_SELECTED_GROUP:null},'ReactComposerPostToGroupActionType');}),null);
__d('ReactComposerPostToGroupStore',['ReactComposerPostToGroupActionType','ReactComposerStoreBase','SearchableEntry'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k=void 0;i.constructor.call(this,function(){return {isTabSelected:false,selectedGroup:null};},function(l){switch(l.type){case c('ReactComposerPostToGroupActionType').SELECT_TAB:k&&k.$ReactComposerPostToGroupStore1(l,true);break;case c('ReactComposerPostToGroupActionType').UNSELECT_TAB:k&&k.$ReactComposerPostToGroupStore1(l,false);break;case c('ReactComposerPostToGroupActionType').UPDATE_SELECTED_GROUP:k&&k.$ReactComposerPostToGroupStore2(l);break;}});k=this;}j.prototype.getIsTabSelected=function(k){'use strict';return this.getComposerData(k).isTabSelected;};j.prototype.getSelectedGroup=function(k){'use strict';return this.getComposerData(k).selectedGroup;};j.prototype.getSelectedGroupID=function(k){'use strict';var l=this.getComposerData(k).selectedGroup;return l?l.getUniqueID():null;};j.prototype.$ReactComposerPostToGroupStore1=function(k,l){'use strict';var m=this.validateAction(k,['composerID']),n=this.getComposerData(m);n.isTabSelected=l;this.emitChange(m);};j.prototype.$ReactComposerPostToGroupStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','group']),m=l[0],n=l[1],o=this.getComposerData(m);o.selectedGroup=n;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerPropsAndStoreBasedStateMixin',['invariant','ReactComposerContextMixin','ExecutionEnvironment','StoreBasedStateMixinHelper','setImmediate'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];return {_queuedUpdates:[],mixins:[c('ReactComposerContextMixin')],getInitialState:function n(){var o=void 0;if(this.constructor.getAttachmentInitialState){o=this.constructor.getAttachmentInitialState(this.context.composerID,this.props,this.context);}else o={};if(this.constructor.beforeCalculateInitialState)this.constructor.beforeCalculateInitialState(this.context.composerID,this.props,this.context);return Object.assign({},o,this.constructor.calculateState(this.context.composerID,this.props,this.context));},componentWillMount:function n(){this.constructor.calculateState||h(0);this.context.composerID||h(0);this._recalculateStateID=null;var o=function(p){if(!c('ExecutionEnvironment').canUseDOM)return;if(this.isMounted()&&p.composerID===this.context.composerID)this.setState(this.constructor.calculateState(this.context.composerID,this.props,this.context));this._recalculateStateID=null;if(this._queuedUpdates.length)this._queuedUpdates.shift()();}.bind(this);this._mixin=new (c('StoreBasedStateMixinHelper'))(l);this._mixin.subscribeCallback(function(p){if(this._recalculateStateID===null){this._recalculateStateID=c('setImmediate')(o,p);}else this._queuedUpdates.push(function(){this._recalculateStateID=c('setImmediate')(o,p);}.bind(this));}.bind(this));},componentWillReceiveProps:function n(o){var p=void 0;if(this.constructor.getAttachmentWillReceivePropsState)p=this.constructor.getAttachmentWillReceivePropsState(this.context.composerID,o,this.props,this.context);this.setState(Object.assign({},p||{},this.constructor.calculateState(this.context.composerID,o,this.context)));},componentWillUnmount:function n(){this._mixin.release();this._mixin=null;}};};f.exports=i;}),null);
__d('ReactComposerAttachmentSelectorContainer.react',['ReactComposerAttachmentActions','ReactComposerAttachmentSelector.react','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerEvents','ReactComposerPostToGroupStore','ReactComposerPropsAndStoreBasedStateMixin','Arbiter','ReactComponentWithPureRenderMixin','React','emptyFunction','getObjectValues','ifRequired'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ComposerAttachmentSelectorContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerPostToGroupStore'))],propTypes:{attachmentID:h.oneOf(c('getObjectValues')(c('ReactComposerAttachmentType'))).isRequired,label:h.string.isRequired,icon:h.object.isRequired,onSelected:h.func,onAfterSelected:h.func,loggingName:h.string.isRequired,disableSelectAttachment:h.bool,alternativeAttachmentIDs:h.arrayOf(h.oneOf(c('getObjectValues')(c('ReactComposerAttachmentType'))))},getDefaultProps:function j(){return {onSelected:c('emptyFunction'),disableSelectAttachment:false};},statics:{calculateState:function j(k,l){var m=[l.attachmentID];if(l.alternativeAttachmentIDs)m=m.concat(l.alternativeAttachmentIDs);var n=m.some(function(o){return c('ReactComposerPostToGroupStore').getIsTabSelected(k)?false:c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,o);});return {selected:n};}},_onSelected:function j(){if(this.props.disableSelectAttachment)return;c('ifRequired')('ReactComposerPostToGroupActions',function(k){return k.unselectTab(this.context.composerID);}.bind(this));c('ReactComposerAttachmentActions').selectAttachment(this.context.composerID,this.props.attachmentID,true,this.props.loggingName);setTimeout(function(){return c('Arbiter').inform(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID);}.bind(this),0);if(this.props.onAfterSelected)this.props.onAfterSelected();},render:function j(){var k=this.props.onSelected!==c('emptyFunction')?this.props.onSelected:this._onSelected;return c('React').createElement(c('ReactComposerAttachmentSelector.react'),babelHelpers['extends']({},this.props,{selected:this.state.selected,showNLUEducation:this.state.showNLUEducation,onSelected:k}));}});f.exports=i;}),null);
__d('ReactComposerAlbumActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({CREATE_ALBUM_CLICKED:null},'ReactComposerAlbumActionType');}),null);
__d('ReactComposerAudienceActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_AUDIENCE:null,SET_AUDIENCE_ELEMENT:null,SET_AUDIENCE_INSTANCE:null,SET_PRIVACYX_NULL_DANGEROUS:null,SET_COLLECTION:null},'ReactComposerAudienceActionTypes');}),null);
__d('ReactComposerAudienceStore',['csx','invariant','ReactComposerActionStore','ReactComposerAudienceActionTypes','$','DOM'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('ReactComposerActionStore'));k=j&&j.prototype;function l(){'use strict';var m;k.constructor.call(this,function(){return {audience:null,audienceElement:null,audienceInstance:null,legacyAudience:null,privacyxNullDangerous:false};},function(n){switch(n.type){case c('ReactComposerAudienceActionTypes').SET_AUDIENCE:m&&m.$ReactComposerAudienceStore1(n);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE_ELEMENT:m&&m.$ReactComposerAudienceStore2(n);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE_INSTANCE:m&&m.$ReactComposerAudienceStore3(n);break;case c('ReactComposerAudienceActionTypes').SET_PRIVACYX_NULL_DANGEROUS:m&&m.$ReactComposerAudienceStore4(n);break;case c('ReactComposerAudienceActionTypes').SET_COLLECTION:m&&m.$ReactComposerAudienceStore5(n);break;}});m=this;}l.prototype.getAudience=function(m){'use strict';if(this.getPrivacyxNullDangerous(m))return null;try{var n=c('DOM').scry(c('$')(m),"._5dd8");n.length<2||i(0);var o=n[0];if(o){var p=c('DOM').scry(o,'input[name="privacyx"]');p.length<2||i(0);if(p.length===1)return p[0].value;}}catch(q){}return this.getComposerData(m).audience;};l.prototype.getLegacyAudience=function(m){'use strict';return this.getComposerData(m).legacyAudience;};l.prototype.getAudienceElement=function(m){'use strict';return this.getComposerData(m).audienceElement;};l.prototype.getAudienceInstance=function(m){'use strict';return this.getComposerData(m).audienceInstance;};l.prototype.getPrivacyxNullDangerous=function(m){'use strict';return this.getComposerData(m).privacyxNullDangerous;};l.prototype.getCollectionID=function(m){'use strict';return this.getComposerData(m).collectionID;};l.prototype.$ReactComposerAudienceStore1=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.audience=m.audience;o.legacyAudience=m.legacyAudience;this.emitChange(n);};l.prototype.$ReactComposerAudienceStore2=function(m){'use strict';var n=this.validateAction(m,['composerID','audienceElement']),o=n[0],p=n[1],q=this.getComposerData(o);q.audienceElement=p;this.emitChange(o);};l.prototype.$ReactComposerAudienceStore3=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.audienceInstance=m.audienceInstance;this.emitChange(n);};l.prototype.$ReactComposerAudienceStore4=function(m){'use strict';var n=this.validateAction(m,'composerID'),o=this.getComposerData(n);o.privacyxNullDangerous=m.privacyxNullDangerous;this.emitChange(n);};l.prototype.$ReactComposerAudienceStore5=function(m){'use strict';var n=this.validateAction(m,['composerID','collectionID']),o=n[0],p=n[1],q=this.getComposerData(o);q.collectionID=p;this.emitChange(o);};f.exports=new l();}),null);
__d('ReactComposerDragDropPrompt.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;l.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_1y-n"},c('React').createElement('div',{className:"_1y-o"},c('React').createElement('span',{className:"_1y-p"},i._("Drag Link\/Photos\/Video Here")),c('React').createElement('span',{className:"_1y-q"},i._("Drop Link")),c('React').createElement('span',{className:"_1y-r"},i._("Drop Photo\/Video")),c('React').createElement('span',{className:"_1y-s"},i._("Drop Photos"))));};function l(){'use strict';j.apply(this,arguments);}f.exports=l;}),null);
__d('ReactComposerDragDropPromptLazy.react',['ReactComposerDragDropPrompt.react','ComposerXDragDropUtils','DragDropTarget','React','ReactDOM','emptyFunction'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$ReactComposerDragDropPromptLazy1=undefined,m;}k.prototype.componentDidMount=function(){'use strict';var l=c('ReactDOM').findDOMNode(this.props.root);this.$ReactComposerDragDropPromptLazy1=new (c('DragDropTarget'))(l).setOnFilesDropCallback(this.props.onFilesDrop).setOnURLDropCallback(this.props.onURLDrop).setFileFilter(c('ComposerXDragDropUtils').filterImages).enable();};k.prototype.componentWillUnmount=function(){'use strict';this.$ReactComposerDragDropPromptLazy1&&this.$ReactComposerDragDropPromptLazy1.disable();};k.prototype.render=function(){'use strict';return c('React').createElement(c('ReactComposerDragDropPrompt.react'),null);};k.propTypes={root:j.object.isRequired,onFilesDrop:j.func,onURLDrop:j.func};k.defaultProps={onFilesDrop:c('emptyFunction'),onURLDrop:c('emptyFunction')};f.exports=k;}),null);
__d('ReactComposerCustomConfigActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_IS_FEED_ONLY_POST:null},'ReactComposerCustomConfigActionType');}),null);
__d('ReactComposerCustomConfigStore',['ReactComposerStoreBase','ReactComposerCustomConfigActionType'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isFeedOnlyPost:false};},function(l){switch(l.type){case c('ReactComposerCustomConfigActionType').SET_IS_FEED_ONLY_POST:k&&k.$ReactComposerCustomConfigStore1(l);break;}});k=this;}j.prototype.isFeedOnlyPost=function(k){'use strict';return this.getComposerData(k).isFeedOnlyPost;};j.prototype.$ReactComposerCustomConfigStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','isFeedOnlyPost']),m=l[0],n=l[1],o=this.getComposerData(m);o.isFeedOnlyPost=n;this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerLifeEventActionTypes',[],(function a(b,c,d,e,f,g){f.exports={ADD_LIFE_EVENT_TYPE_DETAILS:'ADD_LIFE_EVENT_TYPE_DETAILS',DESELECT_LIFE_EVENT_TYPE:'DESELECT_LIFE_EVENT_TYPE',SELECT_CATEGORY:'SELECT_CATEGORY',SELECT_LIFE_EVENT_TYPE:'SELECT_LIFE_EVENT_TYPE',SET_CONFIG:'SET_CONFIG',SET_LIFE_EVENT_FIELD_VALUE:'SET_LIFE_EVENT_FIELD_VALUE',SET_LIFE_EVENT_TYPEAHEAD_TEXT:'SET_LIFE_EVENT_TYPEAHEAD_TEXT',SET_SELECTED_LIFE_EVENT_ICON_ID:'SET_SELECTED_LIFE_EVENT_ICON_ID',SET_SELECTED_LIFE_EVENT_STORY:'SET_SELECTED_LIFE_EVENT_STORY',SET_SELECTED_LIFE_EVENT_TITLE:'SET_SELECTED_LIFE_EVENT_TITLE'};}),null);
__d('ReactComposerLifeEventActions',['ReactComposerDispatcher','ReactComposerLifeEventActionTypes','ReactComposerLifeEventStore'],(function a(b,c,d,e,f,g){c('ReactComposerLifeEventStore');h.prototype.setConfig=function(i,j){'use strict';var k=c('ReactComposerLifeEventActionTypes').SET_CONFIG;c('ReactComposerDispatcher').dispatch({composerID:i,config:j,type:k});};h.prototype.selectLifeEventType=function(i,j,k){'use strict';var l=c('ReactComposerLifeEventActionTypes').SELECT_LIFE_EVENT_TYPE;c('ReactComposerDispatcher').dispatch({composerID:i,lifeEventType:k,profileID:j,type:l});};h.prototype.deselectLifeEventType=function(i){'use strict';var j=c('ReactComposerLifeEventActionTypes').DESELECT_LIFE_EVENT_TYPE;c('ReactComposerDispatcher').dispatch({composerID:i,type:j});};h.prototype.setSelectedCategoryIndex=function(i,j){'use strict';var k=c('ReactComposerLifeEventActionTypes').SELECT_CATEGORY;c('ReactComposerDispatcher').dispatch({composerID:i,index:j,type:k});};h.prototype.setLifeEventTypeaheadText=function(i,j){'use strict';var k=c('ReactComposerLifeEventActionTypes').SET_LIFE_EVENT_TYPEAHEAD_TEXT;c('ReactComposerDispatcher').dispatch({composerID:i,text:j,type:k});};h.prototype.setSelectedLifeEventTitle=function(i,j){'use strict';var k=c('ReactComposerLifeEventActionTypes').SET_SELECTED_LIFE_EVENT_TITLE;c('ReactComposerDispatcher').dispatch({composerID:i,title:j,type:k});};h.prototype.setSelectedLifeEventStory=function(i,j){'use strict';var k=c('ReactComposerLifeEventActionTypes').SET_SELECTED_LIFE_EVENT_STORY;c('ReactComposerDispatcher').dispatch({composerID:i,story:j,type:k});};h.prototype.setSelectedLifeEventIconID=function(i,j){'use strict';var k=c('ReactComposerLifeEventActionTypes').SET_SELECTED_LIFE_EVENT_ICON_ID;c('ReactComposerDispatcher').dispatch({composerID:i,iconID:j,type:k});};h.prototype.setLifeEventFieldValue=function(i,j,k){'use strict';var l=c('ReactComposerLifeEventActionTypes').SET_LIFE_EVENT_FIELD_VALUE;c('ReactComposerDispatcher').dispatch({composerID:i,fieldID:j,fieldValue:k,type:l});};h.prototype.addLifeEventTypeDetails=function(i,j,k){'use strict';var l=c('ReactComposerLifeEventActionTypes').ADD_LIFE_EVENT_TYPE_DETAILS;c('ReactComposerDispatcher').dispatch({composerID:i,details:k,lifeEventType:j,type:l});};function h(){'use strict';}f.exports=new h();}),null);
__d("XLifeEventAsyncDetailsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/life_event\/composer\/async_details\/",{life_event_type:{type:"Enum",required:true,enumType:0}});}),null);
__d('ReactComposerLifeEventStore',['invariant','ReactComposerStoreBase','ReactComposerLifeEventActions','ReactComposerLifeEventActionTypes','ReactComposerLifeEventConstants','AsyncDialog','AsyncRequest','Bootloader','XLifeEventAsyncDetailsController','flattenArray'],(function a(b,c,d,e,f,g,h){var i,j;function k(n){return n.filter(function(o){return c('ReactComposerLifeEventConstants').SUGGESTED_LIFE_EVENT_TYPES.indexOf(o.id)>=0;});}function l(n){var o=[];n.forEach(function(p){c('flattenArray')(p.life_events).forEach(function(q){o.push(q);});});return o;}i=babelHelpers.inherits(m,c('ReactComposerStoreBase'));j=i&&i.prototype;function m(){'use strict';var n;j.constructor.call(this,function(){return {allLifeEventTypes:[],categories:[],hasUnsavedData:false,iconsMap:{},lifeEventTypeaheadText:'',lifeEventTypeDetails:{},selectedCategoryIndex:undefined,selectedLifeEvent:{},suggestedLifeEventTypes:[]};},function(o){switch(o.type){case c('ReactComposerLifeEventActionTypes').SET_CONFIG:n&&n.$ReactComposerLifeEventStore1(o);break;case c('ReactComposerLifeEventActionTypes').SELECT_LIFE_EVENT_TYPE:n&&n.$ReactComposerLifeEventStore2(o);break;case c('ReactComposerLifeEventActionTypes').DESELECT_LIFE_EVENT_TYPE:n&&n.$ReactComposerLifeEventStore3(o);break;case c('ReactComposerLifeEventActionTypes').ADD_LIFE_EVENT_TYPE_DETAILS:n&&n.$ReactComposerLifeEventStore4(o);break;case c('ReactComposerLifeEventActionTypes').SELECT_CATEGORY:n&&n.$ReactComposerLifeEventStore5(o);break;case c('ReactComposerLifeEventActionTypes').SET_SELECTED_LIFE_EVENT_ICON_ID:n&&n.$ReactComposerLifeEventStore6(o);break;case c('ReactComposerLifeEventActionTypes').SET_SELECTED_LIFE_EVENT_STORY:n&&n.$ReactComposerLifeEventStore7(o);break;case c('ReactComposerLifeEventActionTypes').SET_SELECTED_LIFE_EVENT_TITLE:n&&n.$ReactComposerLifeEventStore8(o);break;case c('ReactComposerLifeEventActionTypes').SET_LIFE_EVENT_TYPEAHEAD_TEXT:n&&n.$ReactComposerLifeEventStore9(o);break;case c('ReactComposerLifeEventActionTypes').SET_LIFE_EVENT_FIELD_VALUE:n&&n.$ReactComposerLifeEventStore10(o);break;}});n=this;}m.prototype.getCategories=function(n){'use strict';return this.getComposerData(n).categories;};m.prototype.getAllLifeEventTypes=function(n){'use strict';return this.getComposerData(n).allLifeEventTypes;};m.prototype.getSuggestedLifeEventTypes=function(n){'use strict';return this.getComposerData(n).suggestedLifeEventTypes;};m.prototype.getOtherID=function(n){'use strict';return this.getComposerData(n).otherID;};m.prototype.getSelectedLifeEventType=function(n){'use strict';return this.getComposerData(n).selectedLifeEvent.type;};m.prototype.getSelectedLifeEventFields=function(n){'use strict';return this.getComposerData(n).selectedLifeEvent.fields;};m.prototype.getSelectedCategoryIndex=function(n){'use strict';return this.getComposerData(n).selectedCategoryIndex;};m.prototype.getSelectedLifeEventDetails=function(n){'use strict';var o=this.getComposerData(n);return Object.assign({},o.selectedLifeEvent);};m.prototype.getIconsMap=function(n){'use strict';var o=this.getComposerData(n);return Object.assign({},o.iconsMap);};m.prototype.getSelectedLifeEventIconID=function(n){'use strict';var o=this.getComposerData(n);return o.selectedLifeEvent.iconID;};m.prototype.getSelectedLifeEventStory=function(n){'use strict';return this.getComposerData(n).selectedLifeEvent.story;};m.prototype.getSelectedLifeEventTitle=function(n){'use strict';return this.getComposerData(n).selectedLifeEvent.title;};m.prototype.getLifeEventTypeaheadText=function(n){'use strict';return this.getComposerData(n).lifeEventTypeaheadText;};m.prototype.isWaitingForLifeEventDetails=function(n){'use strict';var o=this.getComposerData(n);return o.selectedLifeEvent.type&&!o.lifeEventTypeDetails[o.selectedLifeEvent.type];};m.prototype.hasUnsavedData=function(n){'use strict';var o=this.getComposerData(n);return o.selectedLifeEvent.title.length>0&&o.selectedLifeEvent.story.length>0&&o.hasUnsavedData;};m.prototype.$ReactComposerLifeEventStore2=function(n){'use strict';var o=this.getComposerData(n.composerID);if(!o.isActive){o.isActive=true;c('Bootloader').loadModules(["ReactComposerHandleUnsavedChanges"],function(q){return q.addCustomCheck(n.composerID,function(){return this.hasUnsavedData(n.composerID);}.bind(this));}.bind(this),'ReactComposerLifeEventStore');}var p=c('ReactComposerLifeEventConstants').EDIT_WITH_MODAL_SPECIAL_CASES.indexOf(n.lifeEventType)>=0;if(p){this.$ReactComposerLifeEventStore11(n.composerID,n.profileID,n.lifeEventType);}else{o.selectedLifeEvent={type:n.lifeEventType};if(o.lifeEventTypeDetails[n.lifeEventType]===undefined){this.$ReactComposerLifeEventStore12(n.composerID,n.lifeEventType);}else this.$ReactComposerLifeEventStore13(o);}this.emitChange(n.composerID);};m.prototype.$ReactComposerLifeEventStore5=function(n){'use strict';var o=this.getComposerData(n.composerID);o.selectedCategoryIndex=n.index;this.emitChange(n.composerID);};m.prototype.$ReactComposerLifeEventStore6=function(n){'use strict';var o=this.getComposerData(n.composerID);o.selectedLifeEvent.iconID=n.iconID;o.hasUnsavedData=true;this.emitChange(n.composerID);};m.prototype.$ReactComposerLifeEventStore7=function(n){'use strict';var o=this.getComposerData(n.composerID);o.selectedLifeEvent.story=n.story;o.hasUnsavedData=true;this.emitChange(n.composerID);};m.prototype.$ReactComposerLifeEventStore8=function(n){'use strict';var o=this.getComposerData(n.composerID);o.selectedLifeEvent.title=n.title;o.hasUnsavedData=true;this.emitChange(n.composerID);};m.prototype.$ReactComposerLifeEventStore3=function(n){'use strict';var o=this.getComposerData(n.composerID);o.lifeEventTypeaheadText='';o.selectedLifeEvent={};this.emitChange(n.composerID);};m.prototype.$ReactComposerLifeEventStore9=function(n){'use strict';var o=this.getComposerData(n.composerID);o.lifeEventTypeaheadText=n.text;this.emitChange(n.composerID);};m.prototype.$ReactComposerLifeEventStore10=function(n){'use strict';var o=this.getComposerData(n.composerID);o.selectedLifeEvent.fields[n.fieldID]=n.fieldValue;o.hasUnsavedData=true;this.emitChange(n.composerID);};m.prototype.$ReactComposerLifeEventStore4=function(n){'use strict';var o=this.getComposerData(n.composerID);o.lifeEventTypeDetails[n.lifeEventType]=n.details;this.$ReactComposerLifeEventStore13(o);this.emitChange(n.composerID);};m.prototype.$ReactComposerLifeEventStore1=function(n){'use strict';var o=this.getComposerData(n.composerID),p=n.config.categories,q=c('ReactComposerLifeEventConstants').ICONS_MAP,r=n.config.otherID;p!==null&&p!==undefined&&q!==null&&q!==undefined&&r!==null&&r!==undefined||h(0);var s=l(p);s.forEach(function(t){return t.icon=q[t.iconID];});o.iconsMap=q;o.categories=p;o.allLifeEventTypes=s;o.suggestedLifeEventTypes=k(s);o.otherID=n.config.otherID;this.emitChange(n.composerID);};m.prototype.$ReactComposerLifeEventStore13=function(n){'use strict';var o=n.selectedLifeEvent.type,p=n.lifeEventTypeDetails[o],q=n.otherID===o;n.selectedLifeEvent.title=q?n.lifeEventTypeaheadText:p.description;n.selectedLifeEvent.story='';n.selectedLifeEvent.iconID=p.iconID;n.selectedLifeEvent.requiredFields=p.requiredFields;var r={};Object.keys(p.requiredFields).forEach(function(s){var t=p.requiredFields[s];t.options=t.options.filter(function(u){return typeof u.value==='number';});if(t.category===c('ReactComposerLifeEventConstants').FIELD_CATEGORIES.DATA_FIELD_BACKED)r[s]=t.options[0].value;});n.selectedLifeEvent.fields=r;};m.prototype.$ReactComposerLifeEventStore12=function(n,o){'use strict';var p=c('XLifeEventAsyncDetailsController').getURIBuilder().setEnum('life_event_type',o).getURI();new (c('AsyncRequest'))(p).setHandler(function(q){if(q.error)return;c('ReactComposerLifeEventActions').addLifeEventTypeDetails(n,o,q.payload);}).send();};m.prototype.$ReactComposerLifeEventStore11=function(n,o,p){'use strict';var q=c('ReactComposerLifeEventConstants').MLE_MODAL_CONTROLLER_URI,r=new (c('AsyncRequest'))(q).setData({composer_id:n,profile_id:o,surface:'composer',mle_type:p});c('AsyncDialog').send(r);};f.exports=new m();}),null);
__d('ReactComposerLifeEventStrings',['fbt'],(function a(b,c,d,e,f,g,h){var i={ATTACHMENT_SELECTOR_TEXT:h._("Life Event"),ICON_PICKER_CLOSE_BUTTON:h._("Close"),LIFE_EVENT_TYPE_TYPEAHEAD_PLACEHOLDER:h._("Search or type a title"),STORY_INPUT_PLACEHOLDER:h._("Add Story (optional)"),TITLE_INPUT_PLACEHOLDER:h._("Add Title")};f.exports=i;}),null);
__d('ReactComposerLifeEventAttachmentSelector.react',['ix','ReactComposerAttachmentType','ReactComposerAttachmentSelectorContainer.react','ReactComposerLifeEventStrings','ReactComposerLoggingName','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerLifeEventAttachmentSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{label:i.string},getDefaultProps:function k(){return {label:c('ReactComposerLifeEventStrings').ATTACHMENT_SELECTOR_TEXT};},render:function k(){return c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').LIFE_EVENT,icon:h("40538"),label:this.props.label,loggingName:c('ReactComposerLoggingName').MLE_TAB_SELECTOR});}});f.exports=j;}),null);
__d('ReactComposerAttachmentBodyMixin',['invariant','ReactComposerAttachmentActions','ReactComposerAttachmentStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComponentWithPureRenderMixin'],(function a(b,c,d,e,f,g,h){function i(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];k=k.concat(c('ReactComposerAttachmentStore'));return {mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin').apply(this,k)],statics:{beforeCalculateInitialState:function m(n,o){var p=this.getAttachmentConfig?this.getAttachmentConfig(o):o.config&&o.config.attachmentsConfig&&o.config.attachmentsConfig[this.attachmentID];c('ReactComposerAttachmentActions').registerAttachment(n,{id:this.attachmentID,selected:o.selected,active:o.prefillConfig&&o.prefillConfig.shouldActivateSelectedAttachment,config:p});},calculateState:function m(n,o){return Object.assign({selected:c('ReactComposerAttachmentStore').getIsAttachmentSelected(n,this.attachmentID)},this.calculateAttachmentState?this.calculateAttachmentState(n,o):{});}},componentWillMount:function m(){this.constructor.attachmentID||h(0);this.constructor.attachmentID||h(0);},render:function m(){if(!this.state.selected)return null;return this.renderX();}};}f.exports=i;}),null);
__d('ReactComposerLoadableAttachmentBodyMixin',['cx','invariant','ReactComposerAttachmentBodyMixin','ReactComposerAttachmentInitState','ReactComposerAttachmentLoader','ReactComposerAttachmentPlaceholder.react','ReactComposerAttachmentStore','ReactComposerStore','React'],(function a(b,c,d,e,f,g,h,i){var j={mixins:[c('ReactComposerAttachmentBodyMixin')(c('ReactComposerAttachmentStore'))],statics:{calculateAttachmentState:function k(l,m){var n=c('ReactComposerAttachmentStore').getAttachment(l,this.attachmentID),o=c('ReactComposerAttachmentStore').getIsAttachmentSelected(l,this.attachmentID),p=c('ReactComposerStore').isActive(l);return {composerIsActive:p,initState:n&&n.initState,attachmentModule:n&&n.module,bootstrapped:n&&n.bootstrapped,postButtonModule:n&&n.postButtonModule,isSelected:o};}},componentWillMount:function k(){this.constructor.attachmentID||i(0);if(this.props.selected&&this._shouldInitialize())this._initialize();},componentDidUpdate:function k(l,m){if(this.state.initState===c('ReactComposerAttachmentInitState').INITIALIZING&&this._shouldInitialize())this._initialize();},renderX:function k(){if(!this.state.attachmentModule||!this.state.bootstrapped){var l=this.getPlaceholderModule&&this.getPlaceholderModule(),m=l?l:c('ReactComposerAttachmentPlaceholder.react');return c('React').createElement(m,babelHelpers['extends']({className:"_3rlw"},this.props));}var n=this.state.attachmentModule;return c('React').createElement(n,babelHelpers['extends']({},this.props,{postButtonModule:this.state.postButtonModule}));},_shouldInitialize:function k(){return this.props.initOnlyWhenComposerActive?this.state.composerIsActive:true;},_initialize:function k(){c('ReactComposerAttachmentLoader').load(this.context.composerID,this.constructor.attachmentID,this.bootload,this.getBootstrapURI());}};f.exports=j;}),null);
__d("XReactComposerLifeEventAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/life_event\/bootstrap\/",{composer_id:{type:"String",required:true}});}),null);
__d('ReactComposerLifeEventLazyAttachment.react',['Bootloader','ReactComposerAttachmentType','ReactComposerLoadableAttachmentBodyMixin','React','XReactComposerLifeEventAttachmentBootstrapController'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerLifeEventLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').LIFE_EVENT},bootload:function i(j){c('Bootloader').loadModules(["ReactComposerLifeEventAttachmentContainer.react"],j,'ReactComposerLifeEventLazyAttachment.react');},getBootstrapURI:function i(){return c('XReactComposerLifeEventAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).getURI();}});f.exports=h;}),null);
__d('LiveVideoBroadcastConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={MSEC_IN_SEC:1000,DEFAULT_RETRY_TIMEOUT_SECONDS:20,RENDER_DELAY_TIME_MS:500,REQUEST_ACCESS_DELAY_MS:500,MAX_SCROLL_DISTANCE_FOR_AUTO_SCROLL_PX:50,AUTO_TAKENDOWN_TIME_FOR_COPYRIGHT_VIOLATION:60000,COUNTDOWN_START_TIME:3,LIVE_WWW_BROADCASTING_APP_ID:1761791807395020,MINIMUM_BROADCAST_LENGTH_MS:4000,FINISH_BUTTON_NUX_TIME_MS:3000,PUBLISH_FAILURE_TIMEOUT_S:35,FUNNEL_LOGGER_NAME:'FACECAST_BROADCASTER_FUNNEL',BROADCAST_STATE:{PREVIEW:'PREVIEW',READY_TO_LIVE:'READY_TO_LIVE',LIVE:'LIVE',FINISHING:'FINISHING',FINISHED:'FINISHED'},CAMERA_STATE:{CHECK_CAMERA_ACCESS:'CHECK_CAMERA_ACCESS',REQUEST_CAMERA_ACCESS:'REQUEST_CAMERA_ACCESS',MEASURE_CAMERA:'MEASURE_CAMERA',BROADCAST:'BROADCAST',CAMERA_NOT_FOUND:'CAMERA_NOT_FOUND',MICROPHONE_NOT_FOUND:'MICROPHONE_NOT_FOUND'},CAMERA_DIMENSIONS:{ONE_ONE:1,FOUR_THREE:4/3,SIXTEEN_NINE:16/9},SPEED_TEST_STATUS:{PENDING:0,SUCCESS:1,FAILED:2,SKIPPED:3},ACTIONS:{ACCEPT_ERROR_BROADCAST_COULD_NOT_START:'ACCEPT_ERROR_BROADCAST_COULD_NOT_START',FINISH_BROADCAST_REQUEST:'FINISH_BROADCAST_REQUEST',FINISH_BROADCAST_SUCCESS:'FINISH_BROADCAST_SUCCESS',GET_WEBCAM_STREAM_URL_REQUEST:'GET_WEBCAM_STREAM_URL_REQUEST',GET_WEBCAM_STREAM_URL_SUCCESS:'GET_WEBCAM_STREAM_URL_SUCCESS',HIDE_COMMENT_PLACEHOLDER:'HIDE_COMMENT_PLACEHOLDER',INITIALIZE:'INITIALIZE',FINISH_COUNT_DOWN:'FINISH_COUNT_DOWN',SET_WEBCAM_DIMENSION:'SET_WEBCAM_DIMENSION',START_BROADCAST_REQUEST:'START_BROADCAST_REQUEST',START_BROADCAST_SUCCESS:'START_BROADCAST_SUCCESS',START_LIVE_COUNTDOWN:'START_LIVE_COUNTDOWN',CANCEL_LIVE_COUNTDOWN:'CANCEL_LIVE_COUNTDOWN',UPDATE_CAMERA_STATE:'UPDATE_CAMERA_STATE',UPDATE_COUNTDOWN:'UPDATE_COUNTDOWN',SET_REPLAY_SHOULD_UPLOAD_HIGHER_QUALITY_VIDEO:'SET_REPLAY_SHOULD_UPLOAD_HIGHER_QUALITY_VIDEO',SHOW_REPLAY:'SHOW_REPLAY',ERROR_BROADCAST_COULD_NOT_START:'ERROR_BROADCAST_COULD_NOT_START',ERROR_BROADCAST_PUBLISH_FAIL:'ERROR_BROADCAST_PUBLISH_FAIL',ERROR_CONNECTION_BROKEN:'ERROR_CONNECTION_BROKEN',ERROR_CONNECTION_FAILED:'ERROR_CONNECTION_FAILED',ERROR_MEDIA_VALIDATION:'ERROR_MEDIA_VALIDATION',ATTEMPT_RECONNECTION:'ATTEMPT_RECONNECTION',WEBRTC_CONNECTION_ESTABLISHED:'WEBRTC_CONNECTION_ESTABLISHED',SET_INVITE_FRIENDS_QUERY:'SET_INVITE_FRIENDS_QUERY',SET_INVITE_FRIENDS_SHOWN:'SET_INVITE_FRIENDS_SHOWN',ICE_CONNECTION_STATE_CHANGED:'ICE_CONNECTION_STATE_CHANGED',DELETE_REPLAY_VIDEO:'DELETE_REPLAY_VIDEO',NETWORK_OFFLINE:'NETWORK_OFFLINE',NETWORK_ONLINE:'NETWORK_ONLINE',PREPARE_THUMBNAIL_URI:'PREPARE_THUMBNAIL_URI',SET_THUMBNAIL_URI:'SET_THUMBNAIL_URI',SET_COPYRIGHT_TRIGGERED:'SET_COPYRIGHT_TRIGGERED',SET_BROADCAST_ENDED_WITH_COPYRIGHT_VIOLATION:'SET_BROADCAST_ENDED_WITH_COPYRIGHT_VIOLATION',SET_VOD_READY:'SET_VOD_READY',INVITE_FRIEND:'INVITE_FRIEND',SET_INVITE_FRIENDS_RESULTS:'SET_INVITE_FRIENDS_RESULTS',SET_INVITE_FRIENDS_SUGGESTIONS:'SET_INVITE_FRIENDS_SUGGESTIONS',HANDLE_COPYRIGHT_EVENT:'HANDLE_COPYRIGHT_EVENT',SET_SHOW_NUX:'SET_SHOW_NUX',REQUEST_UFI:'REQUEST_UFI',SET_UFI_MARKUP:'SET_UFI_MARKUP',SET_DIALOG:'SET_DIALOG',SET_DIALOG_CONTAINER_ID:'SET_DIALOG_CONTAINER_ID',SET_COMPOSER_CONFIG:'SET_COMPOSER_CONFIG',SET_UFI_SCROLL_AREA:'SET_UFI_SCROLL_AREA',LOG_WEBRTC_STATS:'LOG_WEBRTC_STATS',SET_DESCRIPTION_EXPANDED:'SET_DESCRIPTION_EXPANDED',SET_SPEED_TEST_STATUS:'SET_SPEED_TEST_STATUS',LOG_SPEED_TEST_RESULT:'LOG_SPEED_TEST_RESULT',LOG_STREAM_LINK_CLICK:'LOG_STREAM_LINK_CLICK',CLEANUP:'CLEANUP',SET_DESCRIPTION:'SET_DESCRIPTION',SET_TAG_LIST:'SET_TAG_LIST',ERROR_TIME_OUT_WAITING_FOR_PUBLISH:'ERROR_TIME_OUT_WAITING_FOR_PUBLISH',SET_PEOPLE_TAGGER_SOURCE:'SET_PEOPLE_TAGGER_SOURCE',UI_MOUNTED:'UI_MOUNTED',READY_STATE_ENDED:'READY_STATE_ENDED'}};f.exports=h;}),null);
__d('LiveVideoBroadcastFunnelLogger',['ComposerSourceSurface','ComposerXMarauderLogger','FunnelLogger','LiveVideoBroadcastConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i=c('LiveVideoBroadcastConstants').SPEED_TEST_STATUS,j='FACECAST_BROADCASTER_FUNNEL',k=false,l=(h={},h[i.SUCCESS]='speed_test_ended.success',h[i.FAILED]='speed_test_ended.fail',h[i.SKIPPED]='speed_test_ended.skipped',h),m={composerID:null,startAndSelectLiveAttachment:function n(o){this.composerID=o;m._startInternal(m._getSourceSurface(o));c('FunnelLogger').appendAction(j,'select_live_attachment');},maybeStartAndLaunchLiveComposer:function n(o,p,q){this.composerID=o;var r=p?'postTTI':'preTTI',s=q?'usedComposerDialog':'didNotUseComposerDialog';if(!c('FunnelLogger').getFunnelInstance(j))m._startInternal(m._getSourceSurface(o));this.addFunnelTags([r,s]);c('FunnelLogger').appendAction(j,'launch_live_composer');},startFromLiveMapAndSelectLiveAttachment:function n(){m._startInternal(c('ComposerSourceSurface').LIVE_MAP);c('FunnelLogger').appendAction(j,'select_live_attachment');},addFunnelTags:function n(o){o.forEach(function(p){return c('FunnelLogger').addFunnelTag(j,p);});},speedTestResult:function n(o){var p=l[o];if(p){c('FunnelLogger').appendAction(j,p);}else c('FunnelLogger').appendActionWithPayload(j,'speed_test_ended.unknown',{status:o});c('FunnelLogger').appendAction(j,'speed_test_ended');if(o===i.SUCCESS)c('FunnelLogger').appendAction(j,'go_live_enabled');},fetchedBroadcastID:function n(o){c('FunnelLogger').appendAction(j,'fetched_broadcast_id');c('FunnelLogger').addFunnelTag(j,'broadcast_id:'+o);},endWithFailedBroadcastID:function n(){c('FunnelLogger').appendAction(j,'failed.broadcast_id');c('FunnelLogger').appendAction(j,'failed');m.end();},uploadStarted:function n(){c('FunnelLogger').appendAction(j,'upload_started');},goLiveClicked:function n(){c('FunnelLogger').appendAction(j,'go_live_clicked');},goLiveCancelled:function n(){c('FunnelLogger').appendAction(j,'go_live_cancelled');},finishClicked:function n(){c('FunnelLogger').appendAction(j,'finish_clicked');},endFinishedFromUser:function n(){c('FunnelLogger').appendAction(j,'finished.from_user');c('FunnelLogger').appendAction(j,'finished');m.end();},endPublishFailed:function n(){c('FunnelLogger').appendAction(j,'failed.publish');c('FunnelLogger').appendAction(j,'failed');m.end();},requestCameraAccess:function n(){c('FunnelLogger').appendAction(j,'request_camera_access');},endCameraNotFound:function n(){c('FunnelLogger').appendAction(j,'failed.no_camera');c('FunnelLogger').appendAction(j,'failed');m.end();},endMicrophoneNotFound:function n(){c('FunnelLogger').appendAction(j,'failed.no_microphone');c('FunnelLogger').appendAction(j,'failed');m.end();},endCouldNotStart:function n(){c('FunnelLogger').appendAction(j,'failed.could_not_start');c('FunnelLogger').appendAction(j,'failed');m.end();},foundCamera:function n(){c('FunnelLogger').appendAction(j,'found_camera');},connectionBroken:function n(){c('FunnelLogger').appendAction(j,'connection_broken');},endCopyrightViolation:function n(){c('FunnelLogger').appendAction(j,'failed.copyright_violation');c('FunnelLogger').appendAction(j,'failed');m.end();},end:function n(){c('FunnelLogger').endFunnel(j);},endConnectionFailed:function n(){c('FunnelLogger').appendAction(j,'failed.connection_failed');c('FunnelLogger').appendAction(j,'failed');m.end();},updateSourceTag:function n(){var o=c('FunnelLogger').getFunnelInstance(j);if(o){var p=o.getTags();if(p)for(var q=Object.keys(p),r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var t;if(r){if(s>=q.length)break;t=q[s++];}else{s=q.next();if(s.done)break;t=s.value;}var u=t;if(u.indexOf('source:')!==-1)return;}var v=m._getSourceSurface(this.composerID);if(v&&v!==c('ComposerSourceSurface').UNKNOWN)c('FunnelLogger').addFunnelTag(j,'source:'+v);}},_getSourceSurface:function n(o){var p=c('ComposerXMarauderLogger').getInstance(o);return p?p.composerSourceSurface:null;},_startInternal:function n(o){c('FunnelLogger').startFunnel(j);c('FunnelLogger').setFunnelTimeout(j,86400);if(o)c('FunnelLogger').addFunnelTag(j,'source:'+o);}};f.exports=m;}),null);
__d('LiveVideoBroadcastDispatcher',['ExplicitRegistrationReactDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationReactDispatcher'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.dispatch=this.dispatch.bind(this);}f.exports=new j({strict:true});}),null);
__d('LiveVideoBroadcastUIStore',['ReactComposerActions','FluxMapStore','immutable','LiveVideoBroadcastConstants','LiveVideoBroadcastDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('LiveVideoBroadcastConstants').ACTIONS,k=c('LiveVideoBroadcastConstants').BROADCAST_STATE,l=c('LiveVideoBroadcastConstants').CAMERA_STATE,m=c('LiveVideoBroadcastConstants').SPEED_TEST_STATUS;h=babelHelpers.inherits(n,c('FluxMapStore'));i=h&&h.prototype;n.prototype.getInitialState=function(){return c('immutable').Map({broadcastCouldNotStart:false,broadcastCouldNotPublish:false,broadcastState:k.PREVIEW,cameraState:l.CHECK_CAMERA_ACCESS,countdownTime:null,connectionBroken:false,connectionFailed:false,dialog:null,dialogContainerID:null,composerConfig:null,isOnline:true,showNUX:false,showReplay:false,startTime:0,wasEverOffline:false,ufiMarkup:null,ufiScrollArea:null,webcamDimension:null,isDescriptionExpanded:false,speedTestStatus:m.PENDING,warnOnExit:true,tagList:null,peopleTaggerSource:null});};n.prototype.reduce=function(o,p){switch(p.type){case j.SHOW_REPLAY:o=o.set('showReplay',true);break;case j.UPDATE_CAMERA_STATE:o=o.set('cameraState',p.value);break;case j.UPDATE_COUNTDOWN:o=o.set('countdownTime',p.value);break;case j.FINISH_COUNT_DOWN:o=o.set('startTime',Date.now());o=o.set('broadcastState',k.READY_TO_LIVE);o=o.set('countdownTime',null);break;case j.START_BROADCAST_SUCCESS:o=o.set('broadcastState',k.LIVE);o=o.set('countdownTime',null);break;case j.START_LIVE_COUNTDOWN:o=o.set('countdownTime',c('LiveVideoBroadcastConstants').COUNTDOWN_START_TIME);break;case j.CANCEL_LIVE_COUNTDOWN:o=o.set('countdownTime',null);break;case j.FINISH_BROADCAST_REQUEST:o=o.set('broadcastState',k.FINISHING);break;case j.FINISH_BROADCAST_SUCCESS:o=o.set('broadcastState',k.FINISHED);o=o.set('showReplay',true);break;case j.SET_WEBCAM_DIMENSION:o=o.set('webcamDimension',p.value);break;case j.ERROR_CONNECTION_BROKEN:o=o.set('connectionBroken',true);break;case j.ERROR_CONNECTION_FAILED:o=o.set('connectionFailed',true);break;case j.WEBRTC_CONNECTION_ESTABLISHED:o=o.set('connectionBroken',false);break;case j.ERROR_BROADCAST_COULD_NOT_START:o=o.set('broadcastCouldNotStart',true);break;case j.ERROR_BROADCAST_PUBLISH_FAIL:case j.ERROR_TIME_OUT_WAITING_FOR_PUBLISH:o=o.set('broadcastCouldNotPublish',true);o=o.set('broadcastState',k.FINISHED);break;case j.ACCEPT_ERROR_BROADCAST_COULD_NOT_START:o=o.set('broadcastCouldNotStart',false);break;case j.NETWORK_OFFLINE:o=o.set('isOnline',false);o=o.set('wasEverOffline',true);break;case j.NETWORK_ONLINE:o=o.set('isOnline',true);break;case j.SET_SHOW_NUX:o=o.set('showNUX',p.value);break;case j.SET_UFI_MARKUP:o=o.set('ufiMarkup',p.value);break;case j.SET_DIALOG:o=o.set('dialog',p.value);break;case j.SET_DIALOG_CONTAINER_ID:o=o.set('dialogContainerID',p.value);break;case j.SET_COMPOSER_CONFIG:o=o.set('composerConfig',p.value);break;case j.SET_UFI_SCROLL_AREA:o=o.set('ufiScrollArea',p.value);break;case j.SET_DESCRIPTION_EXPANDED:o=o.set('isDescriptionExpanded',p.value);break;case j.SET_SPEED_TEST_STATUS:o=o.set('speedTestStatus',p.value);break;case j.CLEANUP:o=o.set('warnOnExit',false);this.$LiveVideoBroadcastUIStore1();break;case j.INITIALIZE:o=this.getInitialState();o=o.set('dialog',this.get('dialog'));o=o.set('composerConfig',this.get('composerConfig'));o=o.set('peopleTaggerSource',this.get('peopleTaggerSource'));o=o.set('description',p.value.description);o=o.set('shortDescription',p.value.shortDescription);o=o.set('tagList',p.value.tagList);break;case j.SET_DESCRIPTION:o=o.set('description',p.value.description);o=o.set('shortDescription',p.value.shortDescription);break;case j.SET_TAG_LIST:o=o.set('tagList',p.value);break;case j.SET_PEOPLE_TAGGER_SOURCE:o=o.set('peopleTaggerSource',p.value);break;default:break;}return o;};n.prototype.$LiveVideoBroadcastUIStore1=function(){var o=this.get('composerConfig'),p=o&&o.composerID;if(p)c('ReactComposerActions').reset(p);var q=this.get('dialog');if(q){q.destroy();}else window.close();};function n(){h.apply(this,arguments);}f.exports=new n(c('LiveVideoBroadcastDispatcher'));}),null);
__d('ReactComposerLiveVideoActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({BROADCAST_CREATED:null,PREVIEW_ERROR:null,PREVIEW_STARTED:null,SET_PREVIOUS_ATTACHMENT:null,SET_TAGGERS_CONFIG:null,SET_SHOW_NUX:null,SET_FUNNEL_TAGS:null},'ReactComposerLiveVideoActionType');}),null);
__d("XLiveVideoBroadcastCreateUIController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/broadcast\/dialog\/",{target_id:{type:"Int"},broadcast_id:{type:"Int"},container_id:{type:"String"},description:{type:"String"},place:{type:"Int"},og_action_type_id:{type:"Int"},og_object_id:{type:"Int"},og_object_str:{type:"String"},og_icon_id:{type:"Int"},with_tags:{type:"FBIDSet"},composertags_sponsors:{type:"FBIDSet"},direct_share_status:{type:"Int"},sponsor_relationship:{type:"Int"}});}),null);
__d("XLiveVideoCreateBroadcastController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/create_broadcast\/create\/",{target_id:{type:"FBID",required:true}});}),null);
__d('ReactComposerLiveVideoActionStore',['ActorURI','AsyncRequest','LiveVideoBroadcastFunnelLogger','LiveVideoBroadcastUtils','LiveVideoBroadcastUIStore','ReactComposerActionStore','ReactComposerAttachmentType','ReactComposerActions','ReactComposerLiveVideoActionType','ReactComposerLiveVideoActions','XLiveVideoBroadcastCreateUIController','XLiveVideoCreateBroadcastController'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerActionStore'));i=h&&h.prototype;function j(){'use strict';var k=void 0;i.constructor.call(this,function(){return {};},function(l){switch(l.type){case c('ReactComposerLiveVideoActionType').PREVIEW_STARTED:k&&k.$ReactComposerLiveVideoActionStore1(l);break;case c('ReactComposerLiveVideoActionType').BROADCAST_CREATED:k&&k.$ReactComposerLiveVideoActionStore2(l);break;}});k=this;}j.prototype.$ReactComposerLiveVideoActionStore2=function(k){'use strict';var l=this.validateAction(k,['actorID','broadcastID','targetID','formData']),m=l[0],n=l[1],o=l[2],p=l[3],q=c('LiveVideoBroadcastUIStore').get('dialogContainerID'),r=c('XLiveVideoBroadcastCreateUIController').getURIBuilder(),s=c('ActorURI').create(r.getURI(),m);new (c('AsyncRequest'))().setURI(s).setData({target_id:o,broadcast_id:n,container_id:q,description:p.description,place:p.place,og_action_type_id:p.og_action_type_id,og_object_id:p.og_object_id,og_object_str:p.og_object_str,og_icon_id:p.og_icon_id,with_tags:p.with_tags,composertags_sponsors:p.composertags_sponsors,direct_share_status:p.direct_share_status,sponsor_relationship:p.sponsor_relationship}).setMethod('POST').send();c('LiveVideoBroadcastFunnelLogger').fetchedBroadcastID(n);};j.prototype.$ReactComposerLiveVideoActionStore1=function(k){'use strict';var l=this.validateAction(k,['actorID','composerID','config','targetID']),m=l[0],n=l[1],o=l[2],p=l[3],q=o.attachmentsConfig[c('ReactComposerAttachmentType').LIVE_VIDEO].composerDialog,r=c('LiveVideoBroadcastUtils').getComposerFormData(n,p,o.contextInfo),s=c('XLiveVideoCreateBroadcastController').getURIBuilder().setFBID('target_id',p).getURI();s=c('ActorURI').create(s,m);new (c('AsyncRequest'))(s).setData(r).setHandler(function(t){c('ReactComposerLiveVideoActions').broadcastCreated(n,{actorID:m,broadcastID:t.payload.id,targetID:p,formData:r});if(!q)c('ReactComposerActions').reset(n);}).setErrorHandler(function(){if(!q)c('ReactComposerActions').reset(n);}).send();};f.exports=new j();}),null);
__d('ReactComposerLiveVideoAttachmentStore',['ReactComposerLiveVideoActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k=void 0;i.constructor.call(this,function(){return {liveVideoTaggersConfig:{},isPreviewStarted:false,showLivePreviewButtonNUX:false,funnelTags:[]};},function(l){switch(l.type){case c('ReactComposerLiveVideoActionType').SET_PREVIOUS_ATTACHMENT:k&&k.$ReactComposerLiveVideoAttachmentStore1(l);break;case c('ReactComposerLiveVideoActionType').SET_TAGGERS_CONFIG:k&&k.$ReactComposerLiveVideoAttachmentStore2(l);break;case c('ReactComposerLiveVideoActionType').PREVIEW_ERROR:k&&k.$ReactComposerLiveVideoAttachmentStore3(l);break;case c('ReactComposerLiveVideoActionType').PREVIEW_STARTED:k&&k.$ReactComposerLiveVideoAttachmentStore4(l);break;case c('ReactComposerLiveVideoActionType').SET_SHOW_NUX:k&&k.$ReactComposerLiveVideoAttachmentStore5(l);break;case c('ReactComposerLiveVideoActionType').SET_FUNNEL_TAGS:k&&k.$ReactComposerLiveVideoAttachmentStore6(l);break;}});k=this;}j.prototype.getPreviousAttachment=function(k){'use strict';return this.getComposerData(k).liveVideoPreviousAttachment;};j.prototype.getTaggersConfig=function(k){'use strict';return this.getComposerData(k).liveVideoTaggersConfig;};j.prototype.isPreviewStarted=function(k){'use strict';return this.getComposerData(k).isPreviewStarted;};j.prototype.getShowNUX=function(k){'use strict';return this.getComposerData(k).showLivePreviewButtonNUX;};j.prototype.getFunnelTags=function(k){'use strict';return this.getComposerData(k).funnelTags;};j.prototype.$ReactComposerLiveVideoAttachmentStore1=function(k){'use strict';var l=this.getComposerData(k.composerID);l.liveVideoPreviousAttachment=k.previousAttachment;this.emitChange(k.composerID);};j.prototype.$ReactComposerLiveVideoAttachmentStore2=function(k){'use strict';var l=this.getComposerData(k.composerID);l.liveVideoTaggersConfig=k.taggersConfig;this.emitChange(k.composerID);};j.prototype.$ReactComposerLiveVideoAttachmentStore4=function(k){'use strict';var l=this.getComposerData(k.composerID);l.isPreviewStarted=true;this.emitChange(k.composerID);};j.prototype.$ReactComposerLiveVideoAttachmentStore3=function(k){'use strict';var l=this.getComposerData(k.composerID);l.isPreviewStarted=false;this.emitChange(k.composerID);};j.prototype.$ReactComposerLiveVideoAttachmentStore5=function(k){'use strict';var l=this.getComposerData(k.composerID);l.showLivePreviewButtonNUX=k.showNUX;this.emitChange(k.composerID);};j.prototype.$ReactComposerLiveVideoAttachmentStore6=function(k){'use strict';var l=this.getComposerData(k.composerID);l.funnelTags=k.funnelTags;this.emitChange(k.composerID);};f.exports=new j();}),null);
__d('ReactComposerLiveVideoActions',['ReactComposerLiveVideoActionType','ReactComposerDispatcher','ReactComposerLiveVideoActionStore','ReactComposerLiveVideoAttachmentStore'],(function a(b,c,d,e,f,g){c('ReactComposerLiveVideoActionStore');c('ReactComposerLiveVideoAttachmentStore');var h={broadcastCreated:function i(j,k){setTimeout(function(){return c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerLiveVideoActionType').BROADCAST_CREATED,actorID:k.actorID,broadcastID:k.broadcastID,targetID:k.targetID,formData:k.formData});},0);},previewStarted:function i(j,k){setTimeout(function(){return c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerLiveVideoActionType').PREVIEW_STARTED,actorID:k.actorID,config:k.config,targetID:k.targetID});},0);},setPreviousAttachment:function i(j,k){var l={composerID:j,type:c('ReactComposerLiveVideoActionType').SET_PREVIOUS_ATTACHMENT,previousAttachment:k};c('ReactComposerDispatcher').dispatch(l);},setTaggersConfig:function i(j,k){var l={composerID:j,type:c('ReactComposerLiveVideoActionType').SET_TAGGERS_CONFIG,taggersConfig:k};c('ReactComposerDispatcher').dispatch(l);},setShowNUX:function i(j,k){var l={composerID:j,type:c('ReactComposerLiveVideoActionType').SET_SHOW_NUX,showNUX:k};c('ReactComposerDispatcher').dispatch(l);},setFunnelTags:function i(j,k){var l={composerID:j,type:c('ReactComposerLiveVideoActionType').SET_FUNNEL_TAGS,funnelTags:k};c('ReactComposerDispatcher').dispatch(l);}};f.exports=h;}),null);
__d("XLiveVideoSuggestedInviteFriendsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live_video\/invite_friends_suggestion\/",{});}),null);
__d('LiveVideoBroadcastActions',['AsyncRequest','LiveVideoBroadcastDispatcher','XLiveVideoSuggestedInviteFriendsController'],(function a(b,c,d,e,f,g){var h={initialize:function i(j){var k={type:'INITIALIZE',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},updateCameraState:function i(j){var k={type:'UPDATE_CAMERA_STATE',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},startLiveBroadcastRequest:function i(j){var k={type:'START_BROADCAST_REQUEST',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},startLiveCountdown:function i(){var j={type:'START_LIVE_COUNTDOWN'};c('LiveVideoBroadcastDispatcher').dispatch(j);},startLiveBroadcastSuccess:function i(){var j={type:'START_BROADCAST_SUCCESS'};c('LiveVideoBroadcastDispatcher').dispatch(j);},finishBroadcastRequest:function i(){var j={type:'FINISH_BROADCAST_REQUEST'};c('LiveVideoBroadcastDispatcher').dispatch(j);},finishBroadcastSuccess:function i(){var j={type:'FINISH_BROADCAST_SUCCESS'};c('LiveVideoBroadcastDispatcher').dispatch(j);},cancelLiveCountdown:function i(){var j={type:'CANCEL_LIVE_COUNTDOWN'};c('LiveVideoBroadcastDispatcher').dispatch(j);},updateCountdown:function i(j){var k={type:'UPDATE_COUNTDOWN',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},showReplay:function i(){var j={type:'SHOW_REPLAY'};c('LiveVideoBroadcastDispatcher').dispatch(j);},hideCommentPlaceholder:function i(){var j={type:'HIDE_COMMENT_PLACEHOLDER'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setWebcamDimension:function i(j){var k={type:'SET_WEBCAM_DIMENSION',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},getWebcamStreamUrlRequest:function i(){var j={type:'GET_WEBCAM_STREAM_URL_REQUEST'};c('LiveVideoBroadcastDispatcher').dispatch(j);},getWebcamStreamUrlSuccess:function i(j){var k={type:'GET_WEBCAM_STREAM_URL_SUCCESS',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},actionButtonClick:function i(){var j={type:'ACTION_BUTTON_CLICK'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setReplayShouldUploadHigherQualityVideo:function i(j){var k={type:'SET_REPLAY_SHOULD_UPLOAD_HIGHER_QUALITY_VIDEO',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},errorConnectionBroken:function i(){var j={type:'ERROR_CONNECTION_BROKEN'};c('LiveVideoBroadcastDispatcher').dispatch(j);},errorConnectionFailed:function i(){var j={type:'ERROR_CONNECTION_FAILED'};c('LiveVideoBroadcastDispatcher').dispatch(j);},errorMediaValidation:function i(j,k){var l={type:'ERROR_MEDIA_VALIDATION',errorMessage:j.toString(),blockedFromGoingLive:k};c('LiveVideoBroadcastDispatcher').dispatch(l);},attemptReconnection:function i(){var j={type:'ATTEMPT_RECONNECTION'};c('LiveVideoBroadcastDispatcher').dispatch(j);},webRTCConnectionEstablished:function i(){var j={type:'WEBRTC_CONNECTION_ESTABLISHED'};c('LiveVideoBroadcastDispatcher').dispatch(j);},iceConnectionStateChanged:function i(j){var k={type:'ICE_CONNECTION_STATE_CHANGED',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},errorBroadcastCouldNotStart:function i(){var j={type:'ERROR_BROADCAST_COULD_NOT_START'};c('LiveVideoBroadcastDispatcher').dispatch(j);},errorBroadcastCouldNotStartAccepted:function i(){var j={type:'ACCEPT_ERROR_BROADCAST_COULD_NOT_START'};c('LiveVideoBroadcastDispatcher').dispatch(j);},deleteReplayVideo:function i(){var j={type:'DELETE_REPLAY_VIDEO'};c('LiveVideoBroadcastDispatcher').dispatch(j);},errorBroadcastPublishFail:function i(){var j={type:'ERROR_BROADCAST_PUBLISH_FAIL'};c('LiveVideoBroadcastDispatcher').dispatch(j);},handleNetworkOffline:function i(){var j={type:'NETWORK_OFFLINE'};c('LiveVideoBroadcastDispatcher').dispatch(j);},handleNetworkOnline:function i(){var j={type:'NETWORK_ONLINE'};c('LiveVideoBroadcastDispatcher').dispatch(j);},prepareThumbnailUri:function i(){var j={type:'PREPARE_THUMBNAIL_URI'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setThumbnailUri:function i(j){var k={type:'SET_THUMBNAIL_URI',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setCopyrightTriggered:function i(j){var k={type:'SET_COPYRIGHT_TRIGGERED',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setVodReady:function i(){var j={type:'SET_VOD_READY'};c('LiveVideoBroadcastDispatcher').dispatch(j);},handleCopyrightEvent:function i(j){var k={type:'HANDLE_COPYRIGHT_EVENT',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setBroadcastEndedWithCopyrightViolation:function i(){var j={type:'SET_BROADCAST_ENDED_WITH_COPYRIGHT_VIOLATION'};c('LiveVideoBroadcastDispatcher').dispatch(j);},finishCountdown:function i(){var j={type:'FINISH_COUNT_DOWN'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setShowNUX:function i(j){var k={type:'SET_SHOW_NUX',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},requestUFI:function i(){var j={type:'REQUEST_UFI'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setUfiMarkup:function i(j){var k={type:'SET_UFI_MARKUP',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setDialog:function i(j){var k={type:'SET_DIALOG',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setDialogContainerID:function i(j){var k={type:'SET_DIALOG_CONTAINER_ID',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setComposerConfig:function i(j){var k={type:'SET_COMPOSER_CONFIG',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setUfiScrollArea:function i(j){var k={type:'SET_UFI_SCROLL_AREA',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setInviteFriendsShown:function i(j){c('LiveVideoBroadcastDispatcher').dispatch({type:'SET_INVITE_FRIENDS_SHOWN',value:j});},setInviteFriendsQuery:function i(j){var k={type:'SET_INVITE_FRIENDS_QUERY',value:{inviteFriendsQueryString:j}};c('LiveVideoBroadcastDispatcher').dispatch(k);},setInviteFriendsSearchResults:function i(j){var k={type:'SET_INVITE_FRIENDS_RESULTS',value:{results:j}};c('LiveVideoBroadcastDispatcher').dispatch(k);},setInviteFriendsSuggestions:function i(j){var k={type:'SET_INVITE_FRIENDS_SUGGESTIONS',value:{results:j}};c('LiveVideoBroadcastDispatcher').dispatch(k);},fetchInviteFriendsSuggestions:function i(){var j=c('XLiveVideoSuggestedInviteFriendsController').getURIBuilder().getURI();new (c('AsyncRequest'))(j).send();},inviteFriend:function i(j){var k={type:'INVITE_FRIEND',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},logWebRTCStats:function i(j){var k={type:'LOG_WEBRTC_STATS',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setDescriptionExpanded:function i(j){var k={type:'SET_DESCRIPTION_EXPANDED',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setSpeedTestStatus:function i(j){var k={type:'SET_SPEED_TEST_STATUS',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},logSpeedTestResult:function i(j){var k={type:'LOG_SPEED_TEST_RESULT',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},logStreamLinkClick:function i(){var j={type:'LOG_STREAM_LINK_CLICK'};c('LiveVideoBroadcastDispatcher').dispatch(j);},cleanup:function i(){var j={type:'CLEANUP'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setDescription:function i(j){var k={type:'SET_DESCRIPTION',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},setTagList:function i(j){var k={type:'SET_TAG_LIST',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},errorTimeOutWaitingForPublish:function i(){var j={type:'ERROR_TIME_OUT_WAITING_FOR_PUBLISH'};c('LiveVideoBroadcastDispatcher').dispatch(j);},setPeopleTaggerSource:function i(j){var k={type:'SET_PEOPLE_TAGGER_SOURCE',value:j};c('LiveVideoBroadcastDispatcher').dispatch(k);},uiMounted:function i(){var j={type:'UI_MOUNTED'};c('LiveVideoBroadcastDispatcher').dispatch(j);},readyStateEnded:function i(){var j={type:'READY_STATE_ENDED'};c('LiveVideoBroadcastDispatcher').dispatch(j);}};f.exports=h;}),null);
__d('ReactComposerMediaPrefillConfig',['React'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes;f.exports=h.shape({photoID:h.string,uploadID:h.string,thumbSrc:h.string,fileURL:h.string,filename:h.string,cubestripURI:h.string,mediaType:h.string});}),null);
__d('ReactComposerMediaUploadType',[],(function a(b,c,d,e,f,g){f.exports={PHOTO:'PHOTO',VIDEO:'VIDEO'};}),null);
__d('ReactComposerPhotoActions',['ReactComposerPhotoActionType','ReactComposerDispatcher','ReactComposerPhotoStore'],(function a(b,c,d,e,f,g){c('ReactComposerPhotoStore');var h={startRecognizing:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,photoID:k,type:c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_STARTED});},finishRecognizingPhoto:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_FINISHED,photoID:k});},finishRecognizing:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_ALL_FINISHED,photos:k,facerecWaterfallEvent:l});},addFacebox:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_ADD_FACEBOX,photoID:k,facebox:l});},tagXY:function i(j,k,l,m,n,o,p){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_TAG_XY,value:l,photoID:k,source:m,subject:n,x:o,y:p});},tagXYProduct:function i(j,k,l,m,n,o,p){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_TAG_XY_PRODUCT,value:l,photoID:k,source:m,subject:n,x:o,y:p});},tagFacebox:function i(j,k,l,m,n){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_TAG_FACEBOX,photoID:k,faceboxID:l,subjectID:m,value:n});},untagFacebox:function i(j,k,l,m){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_UNTAG_FACEBOX,photoID:k,faceboxID:l,subjectID:m});},removePhoto:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_REMOVE,photoID:k,uploadID:l});},untagSubjectFromAllPhotos:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS,subjectID:k});},untagAllForPhoto:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_UNTAG_ALL,photoID:k});},startPhotoEdit:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,photoID:k,type:c('ReactComposerPhotoActionType').PHOTO_EDIT_STARTED});},finishPhotoEdit:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_EDIT_FINISHED});},setPhotoBeingTagged:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,photoID:k,type:c('ReactComposerPhotoActionType').PHOTO_SET_BEING_TAGGED});},finishLoadingPhotoEdit:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_LOADING_EDIT_FINISHED,photoID:k});},changeSphericalPhotoUpdateStatus:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_SPHERICAL_UPDATING,isSphericalPhotoUpdating:k});},updateAllPhotoTags:function i(j,k,l,m){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerPhotoActionType').PHOTO_UPDATE_ALL_PHOTO_TAGS,photoID:k,faceboxes:l,xyTags:m});}};f.exports=h;}),null);
__d('ReactComposerPhotoUploadState',[],(function a(b,c,d,e,f,g){f.exports={PHOTO_UPLOAD_ENQUEUED:'PHOTO_UPLOAD_ENQUEUED',PHOTO_UPLOAD_RESIZE_STARTED:'PHOTO_UPLOAD_RESIZE_STARTED',PHOTO_UPLOAD_RESIZE_DONE:'PHOTO_UPLOAD_RESIZE_DONE',PHOTO_UPLOAD_RESIZE_FAILED:'PHOTO_UPLOAD_RESIZE_FAILED',PHOTO_UPLOAD_UPLOADING:'PHOTO_UPLOAD_UPLOADING',PHOTO_UPLOAD_DONE:'PHOTO_UPLOAD_DONE',PHOTO_UPLOAD_FAILED:'PHOTO_UPLOAD_FAILED'};}),null);
__d('ReactComposerMediaUploadActions',['ReactComposerDispatcher','ReactComposerMediaUploadType','ReactComposerMediaPrefillConfig','ReactComposerPhotoActions','ReactComposerPhotoUploadState','ReactComposerMediaUploadActionType','immutable','ReactComposerMediaUploadStore','ReactComposerPhotoStore'],(function a(b,c,d,e,f,g){c('ReactComposerMediaUploadStore');c('ReactComposerPhotoStore');var h={enqueue:function i(j,k,l,m,n,o,p){var q=arguments.length<=7||arguments[7]===undefined?[]:arguments[7],r=arguments.length<=8||arguments[8]===undefined?false:arguments[8];c('ReactComposerDispatcher').dispatch({composerID:j,mediaType:o,uploadID:k,type:n,filename:l,fileURL:p?p:'',index:m,xyTags:q,isSpherical:r});},startResizing:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,loggingData:l,uploadID:k,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_STARTED});},progressResizing:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,uploadID:k,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_PROGRESS,progress:l});},doneResizing:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,loggingData:l,uploadID:k,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_DONE});},failResizing:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,loggingData:l,uploadID:k,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_FAILED});},doneSphericalCheck:function i(j,k,l,m,n){c('ReactComposerDispatcher').dispatch({composerID:j,loggingData:l,uploadID:k,type:c('ReactComposerMediaUploadActionType').SPHERICAL_PHOTO_CHECK_DONE,sphericalImage:m,useLocalSphericalImage:n});},failSphericalCheck:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,loggingData:l,uploadID:k,type:c('ReactComposerMediaUploadActionType').SPHERICAL_PHOTO_CHECK_FAILED});},startUploading:function i(j,k,l,m){c('ReactComposerDispatcher').dispatch({composerID:j,uploadID:k,type:m,fileUpload:l});},progressUploading:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,uploadID:k,type:c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_PROGRESS,progress:l});},isSpherical:function i(j,k,l,m){c('ReactComposerDispatcher').dispatch({composerID:j,uploadID:k,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_IS_SPHERICAL,isSpherical:l,projectionType:m});},doneUploading:function i(j,k,l,m,n,o,p,q,r,s,t,u,v,w){c('ReactComposerDispatcher').dispatch({composerID:j,uploadID:k,fileUpload:m,mediaLocation:s,timeToUpload:n,type:l,photoID:o,sphericalPhotoID:p,thumbSrc:q,originalPhotoID:r,cubestripURI:t,imageSrc:u,width:v,height:w});},doneUploadingExtra:function i(j,k,l,m,n,o,p,q){c('ReactComposerDispatcher').dispatch({type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_EXTRA_DONE,composerID:j,uploadID:k,photoID:l,thumbSrc:m,cubestripURI:n,imageSrc:o,width:p,height:q});},failUploading:function i(j,k,l,m,n,o){c('ReactComposerDispatcher').dispatch({composerID:j,uploadID:k,type:o,error:n,fileUpload:l,timeToUpload:m});},removeAllPhotoUploads:function i(j,k){k.forEach(function(l){return this.removePhotoAndPhotoUpload(j,l);}.bind(this));},removePhotoAndPhotoUpload:function i(j,k){if(k.state===c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE){c('ReactComposerPhotoActions').removePhoto(j,k.photoID,k.id);}else this.removeMediaUpload(j,k.id);},removeMediaUpload:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_REMOVE,uploadID:k});},mediaMoved:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_MOVED,from:k,to:l});},resizerUnavailable:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZER_UNAVAILABLE});},photosSelect:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,method:l,numPhotos:k,type:c('ReactComposerMediaUploadActionType').PHOTOS_SELECT});},retryMediaUpload:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:k});},reorderMedias:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,mediaIDs:k,type:c('ReactComposerMediaUploadActionType').REORDER_MEDIAS});},prefillMedias:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,medias:k,type:c('ReactComposerMediaUploadActionType').PREFILL_MEDIAS});},setVideoThumbnail:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').VIDEO_SET_THUMBNAIL,thumbSrc:l,uploadID:k});},addPhotoUpload:function i(j,k,l,m){c('ReactComposerDispatcher').dispatch({type:c('ReactComposerMediaUploadActionType').PHOTO_ADD_UPLOAD,composerID:j,index:k,photo:m,upload:l});},setPhotoThumbnail:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerMediaUploadActionType').PHOTO_SET_THUMBNAIL,thumbSrc:l,uploadID:k});}};f.exports=h;}),null);
__d('ReactComposerPhotoUpload',['immutable'],(function a(b,c,d,e,f,g){f.exports=c('immutable').Record({error:{},filename:null,fileSize:null,fileUpload:null,fileURL:null,height:null,id:null,mediaType:null,originalPhotoID:null,photoID:null,progress:null,state:null,thumbSrc:null,width:null,xyTags:[],canShowSphericalSingletonNux:false,flatPhotoID:null,sphericalImage:null,isSpherical:false,projectionType:null,sphericalPhotoID:null,useLocalSphericalImage:false});}),null);
__d('ReactComposerMediaUploadStore',['invariant','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerDispatcher','ReactComposerMediaUploadType','ReactComposerStoreBase','ReactComposerMediaUploadActionType','ReactComposerPhotoUploadState','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerPhotoUpload','ReactComposerVideoXUploader','Bootloader','immutable','PhotoEditorSaveStates'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('ReactComposerStoreBase'));j=i&&i.prototype;function k(){'use strict';var l;j.constructor.call(this,function(){return {removedIDs:c('immutable').Set(),uploads:c('immutable').List(),uploadsByID:c('immutable').Map(),videoUploader:null};},function(m){if(l&&l.$ReactComposerMediaUploadStore1(m))return;switch(m.type){case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_ENQUEUED:l&&l.$ReactComposerMediaUploadStore2(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_STARTED:l&&l.$ReactComposerMediaUploadStore3(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_PROGRESS:l&&l.$ReactComposerMediaUploadStore4(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_DONE:l&&l.$ReactComposerMediaUploadStore5(m,c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_RESIZE_DONE);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_FAILED:l&&l.$ReactComposerMediaUploadStore5(m,c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_RESIZE_FAILED);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_UPLOADING:case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_UPLOADING:l&&l.$ReactComposerMediaUploadStore6(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_IS_SPHERICAL:l&&l.$ReactComposerMediaUploadStore7(m);break;case c('ReactComposerMediaUploadActionType').VIDEO_SET_THUMBNAIL:case c('ReactComposerMediaUploadActionType').PHOTO_SET_THUMBNAIL:l&&l.$ReactComposerMediaUploadStore8(m);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_PROGRESS:l&&l.$ReactComposerMediaUploadStore4(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);l&&l.$ReactComposerMediaUploadStore9(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_EXTRA_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);l&&l.$ReactComposerMediaUploadStore10(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_FAILED:case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_FAILED:l&&l.$ReactComposerMediaUploadStore11(m);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_REMOVE:case c('ReactComposerPhotoActionType').PHOTO_REMOVE:l&&l.$ReactComposerMediaUploadStore12(m);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_MOVED:l&&l.$ReactComposerMediaUploadStore13(m);break;case c('ReactComposerMediaUploadActionType').PREFILL_MEDIAS:l&&l.$ReactComposerMediaUploadStore14(m);break;case c('ReactComposerMediaUploadActionType').REORDER_MEDIAS:l&&l.$ReactComposerMediaUploadStore15(m);break;case c('ReactComposerMediaUploadActionType').PHOTO_ADD_UPLOAD:l&&l.$ReactComposerMediaUploadStore16(m);break;case c('ReactComposerMediaUploadActionType').SPHERICAL_PHOTO_CHECK_DONE:l&&l.$ReactComposerMediaUploadStore17(m);break;default:}});l=this;}k.prototype.getMediaUploadExists=function(l,m){'use strict';var n=this.getComposerData(l);return n.uploadsByID.get(m)!==undefined;};k.prototype.getMediaUpload=function(l,m){'use strict';return this.$ReactComposerMediaUploadStore18(this.getComposerData(l),m);};k.prototype.getUploadIndex=function(l,m){'use strict';return this.$ReactComposerMediaUploadStore19(this.getComposerData(l),m);};k.prototype.getUploads=function(l){'use strict';return this.getComposerData(l).uploads;};k.prototype.getUploadsOfType=function(l,m){'use strict';var n=this.getComposerData(l).uploads.filter(function(o){return o.mediaType===m;});return n;};k.prototype.getUploadsCount=function(l,m){'use strict';if(!m)return this.getComposerData(l).uploads.size;return this.getComposerData(l).uploads.filter(function(n){return n.mediaType===m;}).size;};k.prototype.getSphericalPhotoCount=function(l){'use strict';return this.getUploadsOfType(l,c('ReactComposerMediaUploadType').PHOTO).filter(function(m){return m.isSpherical;}).size;};k.prototype.getNonsphericalPhotoCount=function(l){'use strict';return this.getUploadsOfType(l,c('ReactComposerMediaUploadType').PHOTO).filter(function(m){return !m.isSpherical;}).size;};k.prototype.getHasUploadBeenRemoved=function(l,m){'use strict';var n=this.getComposerData(l);return n.removedIDs.has(m);};k.prototype.isUploading=function(l){'use strict';return this.getComposerData(l).uploads.some(function(m){return m.state!==c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_RESIZE_FAILED&&m.state!==c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE&&m.state!==c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_FAILED;});};k.prototype.getTotalNumberOfStickersOnPhotos=function(l){'use strict';var m=0;this.getComposerData(l).uploads.forEach(function(n){var o=n.get('originalPhotoID');if(o)m+=c('PhotoEditorSaveStates').getTotalNumOfStickersOnPhoto(o);});return m;};k.prototype.getVideoUploader=function(l,m){'use strict';var n=this.getComposerData(l);if(!n.videoUploader){var o=new (c('ReactComposerVideoXUploader'))({composerID:l,uploaderParams:m});n.videoUploader=o;}return n.videoUploader;};k.prototype.$ReactComposerMediaUploadStore2=function(l){'use strict';var m=this.validateAction(l,['composerID','mediaType','uploadID','filename','fileURL','index','xyTags','isSpherical']),n=m[0],o=m[1],p=m[2],q=m[3],r=m[4],s=m[5],t=m[6],u=m[7];this.$ReactComposerMediaUploadStore20(n,s,new (c('ReactComposerPhotoUpload'))({id:p,mediaType:o,state:c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_ENQUEUED,filename:q,fileURL:r,xyTags:t,isSpherical:u}));this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore3=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID']),n=m[0],o=m[1],p=this.getComposerData(n);this.$ReactComposerMediaUploadStore21(p,o,function(q){return q.withMutations(function(r){return r.set('state',c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_RESIZE_STARTED).set('progress',0);});});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','fileUpload']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n),r=p&&p.getFile&&p.getFile().size;this.$ReactComposerMediaUploadStore21(q,o,function(s){return s.withMutations(function(t){return t.set('state',c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_UPLOADING).set('progress',0).set('fileUpload',p).set('fileSize',r||null);});});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore4=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','progress']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);this.$ReactComposerMediaUploadStore21(q,o,function(r){return r.set('progress',p);});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore9=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','photoID']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);this.$ReactComposerMediaUploadStore21(q,o,function(r){return r.withMutations(function(s){return s.set('state',c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE).set('photoID',p).set('sphericalPhotoID',l.sphericalPhotoID).set('originalPhotoID',l.originalPhotoID||p).set('progress',100).remove('fileUpload');});});if(!l.cubestripURI)this.$ReactComposerMediaUploadStore21(q,o,function(r){return r.set('isSpherical',false);});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore10=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','photoID','cubestripURI']),n=m[0],o=m[1],p=m[2],q=m[3],r=this.getUploadsCount(n);this.$ReactComposerMediaUploadStore20(n,r,new (c('ReactComposerPhotoUpload'))({id:o,photoID:p,mediaType:c('ReactComposerMediaUploadType').PHOTO,originalPhotoID:p,state:c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE,isSpherical:Boolean(q)}));this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore7=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','isSpherical']),n=m[0],o=m[1],p=m[2];if(p)c('Bootloader').loadModules(["SphericalPhotoConstants","QE2Logger"],function(q,r){return r.logExposureForUser(q.QE_WWW_UNIVERSE);},'ReactComposerMediaUploadStore');this.$ReactComposerMediaUploadStore21(this.getComposerData(n),o,function(q){return q.withMutations(function(r){return r.set('isSpherical',p).set('projectionType',l.projectionType);});});};k.prototype.$ReactComposerMediaUploadStore11=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID']),n=m[0],o=m[1],p=this.getComposerData(n);this.$ReactComposerMediaUploadStore21(p,o,function(q){return q.withMutations(function(r){return r.set('state',c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_FAILED).set('error',l.error);});});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore12=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID']),n=m[0],o=m[1],p=this.getComposerData(n),q=this.$ReactComposerMediaUploadStore19(p,o),r=p.uploads.get(q);if(r.mediaType==c('ReactComposerMediaUploadType').VIDEO)if(r.state===c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_UPLOADING){p.videoUploader.cancelUpload(o);}else{if(!p.videoUploader){var s=c('ReactComposerAttachmentStore').getAttachmentsConfig(n,c('ReactComposerAttachmentType').MEDIA);s||h(0);this.getVideoUploader(n,s.videoUploadParams);}p.videoUploader.deleteUpload(o);}p.uploads=p.uploads['delete'](q);p.uploadsByID=p.uploadsByID['delete'](o);for(var t=q;t<p.uploads.size;t++){var u=p.uploads.get(t).id;p.uploadsByID=p.uploadsByID.set(u,t);}p.removedIDs=p.removedIDs.add(o);this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore8=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','thumbSrc']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);this.$ReactComposerMediaUploadStore21(q,o,function(r){return r.set('thumbSrc',p);});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore5=function(l,m){'use strict';var n=this.validateAction(l,['composerID','uploadID']),o=n[0],p=n[1];this.$ReactComposerMediaUploadStore22(o,p,m);this.emitChange(o);};k.prototype.$ReactComposerMediaUploadStore13=function(l){'use strict';var m=this.validateAction(l,['composerID','from','to']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.uploads=q.uploads.splice(o,1).splice(p,0,q.uploads.get(o));q.uploadsByID=q.uploads.groupBy(function(r,s){return s;}).toMap().map(function(r){return r.first().id;}).flip();this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore15=function(l){'use strict';var m=this.validateAction(l,['composerID','mediaIDs']),n=m[0],o=m[1],p=this.getComposerData(n);p.uploads=o.map(function(q){return this.$ReactComposerMediaUploadStore18(p,q);}.bind(this));p.uploadsByID=p.uploads.groupBy(function(q,r){return r;}).toMap().map(function(q){return q.first().id;}).flip();this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore14=function(l){'use strict';var m=this.validateAction(l,['composerID','medias']),n=m[0],o=m[1];o.forEach(function(p,q){this.$ReactComposerMediaUploadStore20(n,q,new (c('ReactComposerPhotoUpload'))({id:p.uploadID,photoID:p.photoID,mediaType:p.mediaType,originalPhotoID:p.photoID,state:c('ReactComposerPhotoUploadState').PHOTO_UPLOAD_DONE,thumbSrc:p.thumbSrc,fileURL:p.fileURL||p.imageSrc,filename:p.filename,isSpherical:Boolean(p.cubestripURI),height:p.height,width:p.width}));}.bind(this));this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore16=function(l){'use strict';var m=this.validateAction(l,['composerID','index','upload']),n=m[0],o=m[1],p=m[2],q=this.getComposerData(n);q.uploads=q.uploads.splice(o,0,p);for(var r=o;r<q.uploads.size;r++){var s=q.uploads.get(r).id;q.uploadsByID=q.uploadsByID.set(s,r);}this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore17=function(l){'use strict';var m=this.validateAction(l,['composerID','uploadID','sphericalImage','useLocalSphericalImage']),n=m[0],o=m[1],p=m[2],q=m[3],r=this.getComposerData(n);this.$ReactComposerMediaUploadStore21(r,o,function(s){return s.withMutations(function(t){return t.set('sphericalImage',p).set('useLocalSphericalImage',q);});});this.emitChange(n);};k.prototype.$ReactComposerMediaUploadStore22=function(l,m,n){'use strict';var o=this.getComposerData(l);this.$ReactComposerMediaUploadStore21(o,m,function(p){return p.set('state',n);});};k.prototype.$ReactComposerMediaUploadStore21=function(l,m,n){'use strict';var o=this.$ReactComposerMediaUploadStore23(l,m),p=o[0],q=o[1];l.uploads=l.uploads.set(q,n(p,q));};k.prototype.$ReactComposerMediaUploadStore23=function(l,m){'use strict';var n=this.$ReactComposerMediaUploadStore19(l,m);return [l.uploads.get(n),n];};k.prototype.$ReactComposerMediaUploadStore19=function(l,m){'use strict';var n=l.uploadsByID.get(m);if(n===undefined)throw new Error('Upload '+m+" hasn't been registered");return n;};k.prototype.$ReactComposerMediaUploadStore18=function(l,m){'use strict';var n=this.$ReactComposerMediaUploadStore19(l,m);return l.uploads.get(n);};k.prototype.$ReactComposerMediaUploadStore1=function(l){'use strict';if(c('ReactComposerMediaUploadActionType')[l.type]){var m=l.composerID,n=l.uploadID;if(n==null)return false;return this.getHasUploadBeenRemoved(m,n);}return false;};k.prototype.$ReactComposerMediaUploadStore20=function(l,m,n){'use strict';var o=this.getComposerData(l);o.uploads=o.uploads.splice(m,0,n);for(var p=m;p<o.uploads.size;p++){var q=o.uploads.get(p).id;o.uploadsByID=o.uploadsByID.set(q,p);}this.$ReactComposerMediaUploadStore24(l,n);};k.prototype.$ReactComposerMediaUploadStore24=function(l,m){'use strict';if(m.mediaType==c('ReactComposerMediaUploadType').PHOTO){var n=new Image();n.onload=function(){var p=this.getComposerData(l);this.$ReactComposerMediaUploadStore21(p,m.id,function(q){return q.withMutations(function(r){return r.set('height',n.height).set('width',n.width);});});this.emitChange(l);}.bind(this);n.src=m.fileURL;}else if(m.mediaType==c('ReactComposerMediaUploadType').VIDEO){var o=document.createElement('video');o.onloadedmetadata=function(){var p=this.getComposerData(l);this.$ReactComposerMediaUploadStore21(p,m.id,function(q){return q.withMutations(function(r){return r.set('height',o.videoHeight).set('width',o.videoWidth);});});this.emitChange(l);}.bind(this);o.src=m.fileURL;}};f.exports=new k();}),null);
__d('MultimediaUploadProcessingDialog.react',['fbt','React','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={dialogShown:true},this.$MultimediaUploadProcessingDialog1=function(){return this.props.numOfVideos===1?h._("The video in your post is being processed. We'll send you a notification when it's done and your post is ready to view."):h._("The videos in your post are being processed. We'll send you a notification when they're done and your post is ready to view.");}.bind(this),this.$MultimediaUploadProcessingDialog2=function(){return h._("Processing Videos");},n;}l.prototype.componentWillReceiveProps=function(m){if(m.show)this.setState({dialogShown:true});};l.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{shown:this.state.dialogShown,'data-testid':'video_processing_dialog',width:400},c('React').createElement(c('XUIDialogTitle.react'),null,this.$MultimediaUploadProcessingDialog2()),c('React').createElement(c('XUIDialogBody.react'),null,this.$MultimediaUploadProcessingDialog1()));};l.propTypes={numOfVideos:k.number.isRequired};f.exports=l;}),null);
__d('ReactComposerMediaFilterUtils',['ComposerXNativeAudioUploadsConfig','VideoUploadConfig'],(function a(b,c,d,e,f,g){var h={hasVideos:function i(j){return this.filterVideos(j).length>0;},hasAudioFiles:function i(j){return this.filterAudioFiles(j).length>0;},filterVideos:function i(j){return this.filterFileOfSupportedType(j,c('VideoUploadConfig').videoExtensions);},filterAudioFiles:function i(j){return this.filterFileOfSupportedType(j,c('ComposerXNativeAudioUploadsConfig').audioExtensions);},filterFileOfSupportedType:function i(j,k){return j.filter(function(l){var m=l.indexOf('.')!==-1?l.split('.').pop().toLowerCase():'';return k[m];});}};f.exports=h;}),null);
__d('ReactComposerVideoXUploader',['invariant','ReactComposerEvents','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerMediaFilterUtils','ReactComposerMediaUploadActionType','VideoUploader','VideoUploadProgressBar','Arbiter','DOM','ifRequired','JSLogger','Map','PhotosUploadID','SubscriptionsHandler','VideoUploadFile','MultimediaUploadProcessingDialog.react','React','ReactDOM','Run','Set','throttle','ReactComposerMediaUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=250;function j(k){this.$ReactComposerVideoXUploader10=function(){var l=c('DOM').create('div');c('DOM').appendContent(document.body,l);var m=this.$ReactComposerVideoXUploader6>0;c('ifRequired')('ReactComposerOptimisticPostingStore',function(n){if(n.hadOptimisticallyPosted(this.$ReactComposerVideoXUploader1))m=false;}.bind(this),function(){});if(m)c('ReactDOM').render(c('React').createElement(c('MultimediaUploadProcessingDialog.react'),{numOfVideos:this.$ReactComposerVideoXUploader6}),l);}.bind(this);this.$ReactComposerVideoXUploader11=function(){this.$ReactComposerVideoXUploader6=c('ReactComposerMediaUploadStore').getUploadsCount(this.$ReactComposerVideoXUploader1,c('ReactComposerMediaUploadType').VIDEO);}.bind(this);this.$ReactComposerVideoXUploader3=k;this.$ReactComposerVideoXUploader2=new (c('SubscriptionsHandler'))();this.$ReactComposerVideoXUploader6=0;this.$ReactComposerVideoXUploader7=new (c('Map'))();this.$ReactComposerVideoXUploader8=new (c('Set'))();this.$ReactComposerVideoXUploader9=false;k.composerID||h(0);k.uploaderParams||h(0);this.$ReactComposerVideoXUploader2.addSubscriptions(c('Arbiter').subscribe(c('ReactComposerEvents').POST_SUCCEEDED+k.composerID,c('throttle')(this.$ReactComposerVideoXUploader10,i,this)),c('Arbiter').subscribe(c('ReactComposerEvents').POST_STARTED+k.composerID,c('throttle')(this.$ReactComposerVideoXUploader11,i,this)));this.$ReactComposerVideoXUploader1=k.composerID;this.$ReactComposerVideoXUploader4=k.uploaderParams;this.$ReactComposerVideoXUploader5=c('JSLogger').create('composer');c('Run').onLeave(function(){return this.cancelUploads();}.bind(this));c('Run').onUnload(function(){return this.cancelUploads();}.bind(this));}j.prototype.cancelUploads=function(){this.$ReactComposerVideoXUploader8.forEach(function(k){var l=k.uploadID;this.$ReactComposerVideoXUploader8['delete'](k);var m=this.$ReactComposerVideoXUploader7.get(l);if(m)m.abandon();}.bind(this));this.$ReactComposerVideoXUploader9=false;};j.prototype.upload=function(k){k.forEach(function(m){if(!c('ReactComposerMediaFilterUtils').hasVideos([m.name]))return;if(!m.uploadID)m.uploadID=c('PhotosUploadID').getNewID();this.$ReactComposerVideoXUploader12(m);}.bind(this));var l=k.find(function(m){return c('ReactComposerMediaFilterUtils').hasVideos([m.name]);});if(!this.$ReactComposerVideoXUploader9&&l)this.uploadVideo(l);};j.prototype.uploadVideo=function(k){if(!k)return;this.$ReactComposerVideoXUploader9=true;var l=JSON.parse(JSON.stringify(this.$ReactComposerVideoXUploader4));l.isMultiMediaPost=true;var m=new (c('VideoUploader'))(l);this.$ReactComposerVideoXUploader7.set(k.uploadID,m);var n=c('VideoUploadFile').fromFile(k);this.$ReactComposerVideoXUploader2.addSubscriptions(m.subscribe('upload-started',this.$ReactComposerVideoXUploader13.bind(this,k)),m.subscribe('upload-progressed',this.$ReactComposerVideoXUploader14.bind(this,k)),m.subscribe('upload-failed',this.$ReactComposerVideoXUploader15.bind(this,k)),m.subscribe('upload-finished',this.$ReactComposerVideoXUploader16.bind(this,k)));try{m.upload(n);}catch(o){this.$ReactComposerVideoXUploader5.error('error_send_unpublished_files',o);throw o;}};j.prototype.cancelUpload=function(k){var l=this.$ReactComposerVideoXUploader7.get(k);if(l){l.cancel();l.reset();this.$ReactComposerVideoXUploader7['delete'](k);if(this.$ReactComposerVideoXUploader8.size>0){var m=this.$ReactComposerVideoXUploader8.values().next().value;this.uploadVideo(m);}else this.$ReactComposerVideoXUploader9=false;}this.deleteUpload(k);};j.prototype.deleteUpload=function(k){this.$ReactComposerVideoXUploader8.forEach(function(l){if(l.uploadID===k)this.$ReactComposerVideoXUploader8['delete'](l);}.bind(this));};j.prototype.$ReactComposerVideoXUploader16=function(k,l,m){c('ReactComposerMediaUploadActions').doneUploading(this.$ReactComposerVideoXUploader1,k.uploadID,c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_DONE,k,0,m.video_id,'','');var n=this.$ReactComposerVideoXUploader7.get(k.uploadID);if(n){n.reset();this.$ReactComposerVideoXUploader7['delete'](k.uploadID);}c('ReactComposerMediaUtils').changeToPeopleTaggerAfterUpload(this.$ReactComposerVideoXUploader1);this.$ReactComposerVideoXUploader9=false;this.$ReactComposerVideoXUploader8['delete'](k);if(this.$ReactComposerVideoXUploader8.size>0){var o=this.$ReactComposerVideoXUploader8.values().next().value;this.uploadVideo(o);}};j.prototype.$ReactComposerVideoXUploader12=function(k){this.$ReactComposerVideoXUploader8.add(k);c('ReactComposerMediaUploadActions').enqueue(this.$ReactComposerVideoXUploader1,k.uploadID,k.name,c('ReactComposerMediaUploadStore').getUploads(this.$ReactComposerVideoXUploader1).size,c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_ENQUEUED,c('ReactComposerMediaUploadType').VIDEO,URL.createObjectURL(k));};j.prototype.$ReactComposerVideoXUploader13=function(k,l){c('ReactComposerMediaUploadActions').startUploading(this.$ReactComposerVideoXUploader1,k.uploadID,k,c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_UPLOADING);};j.prototype.$ReactComposerVideoXUploader14=function(k,l,m){var n=c('VideoUploadProgressBar').computeProgress(m.start_offset,m.sent_bytes,m.file_size,0,0);c('ReactComposerMediaUploadActions').progressUploading(this.$ReactComposerVideoXUploader1,k.uploadID,Math.round(n));};j.prototype.$ReactComposerVideoXUploader15=function(k,l,m){var n={code:m.error_code,description:m.error_description,summary:m.error_summary,"transient":m.error_is_transient||m.error_code==1004||m.error_code==1006};c('ReactComposerMediaUploadActions').failUploading(this.$ReactComposerVideoXUploader1,k.uploadID,k,0,n,c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_FAILED);};j.prototype.destroy=function(){this.$ReactComposerVideoXUploader2.release();};f.exports=j;}),null);
__d('ReactComposerPhotoLegacyLimitExceededDialog',['fbt','DOM','LayerDestroyOnHide','React','ReactDOM','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogOkayButton.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h){var i={show:function j(k){var l=h._("Too Many Photos Added"),m=h._("You can only add {maxselect} photos to a post. To add more photos, try creating an album.",[h.param('maxselect',k)]),n=c('DOM').create('div');c('ReactDOM').render(c('React').createElement(c('XUIDialog.react'),{shown:true,behaviors:{LayerDestroyOnHide:c('LayerDestroyOnHide')},width:600},c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement('span',null,l)),c('React').createElement(c('XUIDialogBody.react'),null,m),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogOkayButton.react'),{use:'confirm',action:'cancel'}))),n);}};f.exports=i;}),null);
__d('ReactComposerVideoLegacyLimitExceededDialog',['fbt','ErrorDialog'],(function a(b,c,d,e,f,g,h){var i={show:function j(){c('ErrorDialog').show(h._("Too many files"),h._("Please select only one video file at a time."));}};f.exports=i;}),null);
__d('ReactComposerVideoUploadActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({VIDEO_SET_UPLOADER:null,VIDEO_UPLOAD_ADD:null,VIDEO_UPLOAD_REMOVE:null},'ReactComposerVideoUploadActionType');}),null);
__d('ReactComposerVideoUploadStore',['ReactComposerStoreBase','ReactComposerVideoUploadActionType','immutable'],(function a(b,c,d,e,f,g){var h,i,j=c('immutable').Record({file:null});h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {uploader:null,video:null};},function(m){switch(m.type){case c('ReactComposerVideoUploadActionType').VIDEO_SET_UPLOADER:l&&l.$ReactComposerVideoUploadStore1(m);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_ADD:l&&l.$ReactComposerVideoUploadStore2(m);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_REMOVE:l&&l.$ReactComposerVideoUploadStore3(m);break;default:}});l=this;}k.prototype.getUploader=function(l){'use strict';return this.getComposerData(l).uploader;};k.prototype.getVideo=function(l){'use strict';return this.getComposerData(l).video;};k.prototype.$ReactComposerVideoUploadStore1=function(l){'use strict';var m=this.validateAction(l,['composerID','uploader']),n=m[0],o=m[1],p=this.getComposerData(n);p.uploader=o;this.emitChange(n);};k.prototype.$ReactComposerVideoUploadStore2=function(l){'use strict';var m=this.validateAction(l,['composerID','file']),n=m[0],o=m[1],p=this.getComposerData(n);p.video=new j({file:o});this.emitChange(n);};k.prototype.$ReactComposerVideoUploadStore3=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.video=null;n.input&&n.input.clear();this.emitChange(m);};f.exports=new k();}),null);
__d('ReactComposerVideoUploadActions',['ReactComposerDispatcher','ReactComposerVideoUploadActionType','ReactComposerVideoUploadStore'],(function a(b,c,d,e,f,g){c('ReactComposerVideoUploadStore');var h={setUploader:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerVideoUploadActionType').VIDEO_SET_UPLOADER,uploader:k});},add:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_ADD,file:k});},remove:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_REMOVE});}};f.exports=h;}),null);
__d('ReactComposerMediaUtils',['invariant','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerLoggingName','ReactComposerMediaUploadType','ReactComposerMediaFilterUtils','ReactComposerPhotoActions','ReactComposerPhotoLegacyLimitExceededDialog','ReactComposerMediaUploadActions','ReactComposerMediaUploadStore','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerVideoLegacyLimitExceededDialog','ReactComposerVideoUploadStore','ReactComposerVideoUploadActions','Arbiter','Bootloader','Map','PUWMethods','VideoUploadFeatureDetector','VideoUploader','VideoUploadFile','curry','uniqueID'],(function a(b,c,d,e,f,g,h){'use strict';var i={clearInput:function j(k,l){var m=this.getFileNamesFromFileInput(k.getInput());if(l||!i.hasVideos(m))k.clear();},getFileNames:function j(k){var l=[];for(var m=0;m<k.length;m++)l.push(k[m].name);return l;},getFileNamesFromFileInput:function j(k){if(c('VideoUploadFeatureDetector').supportsFileAPI()){return this.getFileNames(k.files);}else return [k.value.split('/').pop().split('\\').pop()];},hasVideos:function j(k){return c('ReactComposerMediaFilterUtils').hasVideos(k);},hasAudioFiles:function j(k){return c('ReactComposerMediaFilterUtils').hasAudioFiles(k);},filterVideos:function j(k){return c('ReactComposerMediaFilterUtils').filterVideos(k);},filterAudioFiles:function j(k){return c('ReactComposerMediaFilterUtils').filterAudioFiles(k);},filterFileOfSupportedType:function j(k,l){return c('ReactComposerMediaFilterUtils').filterFileOfSupportedType(k,l);},uploadVideo:function j(k,l){var m=c('ReactComposerMediaUploadStore').getUploadsOfType(k,c('ReactComposerMediaUploadType').PHOTO);if(m.size>0)c('ReactComposerMediaUploadActions').removeAllPhotoUploads(k,m);c('ReactComposerVideoUploadActions').add(k,l);},uploadPhotos:function j(k,l,m,n,o,p){var q=m.isUploadLimitExceeded(n,l);if(q){c('ReactComposerPhotoLegacyLimitExceededDialog').show(m.getMaxSelectableFilesCount(n));return;}var r=l?l.length:1;if(r<1)return;if(c('ReactComposerVideoUploadStore').getVideo(k))c('ReactComposerVideoUploadActions').remove(k);c('ReactComposerMediaUploadActions').photosSelect(k,r,o);p&&p();},uploadVideosFromTarget:function j(k,l,m,n,o){if(o){this.uploadMultiMediaFromTarget(k,l,m,n,o);}else{if(l.files&&l.files.length>1){c('ReactComposerVideoLegacyLimitExceededDialog').show();return;}this.uploadVideo(k,c('VideoUploadFile').fromFileInput(l));}},uploadVideos:function j(k,l,m,n,o){if(o){this.uploadMultiMedia(k,l,m,n);}else{if(l&&l.length>1){c('ReactComposerVideoLegacyLimitExceededDialog').show();return;}this.uploadVideo(k,c('VideoUploadFile').fromFile(l[0]));}},uploadMultiMediaFromTarget:function j(k,l,m,n,o){var p=this.getVideoXUploader(k);p.upload(Array.from(l.files));this.uploadPhotos(k,l.files,m,n,c('PUWMethods').FILE_SELECTOR,function(){m&&m.upload(l);},o);},uploadPhotosOrVideoFromTarget:function j(k,l,m,n,o){var p=this.getFileNamesFromFileInput(l);if(this.hasVideos(p)){this.uploadVideosFromTarget(k,l,m,n,o);}else this.uploadPhotos(k,l.files,m,n,c('PUWMethods').FILE_SELECTOR,function(){m&&m.upload(l);});},uploadMultiMedia:function j(k,l,m,n){var o=arguments.length<=4||arguments[4]===undefined?c('PUWMethods').FILE_SELECTOR:arguments[4],p=this.getVideoXUploader(k);p.upload(l);var q=l.filter(function(r){return !this.hasVideos([r.name]);}.bind(this));this.uploadPhotos(k,q,m,n,o,function(){q.forEach(function(r){r.uploadID=c('uniqueID')();r.filename='';});m.enqueueAsyncUploadRequest(k,q,{},{},false);});},uploadPhotosOrVideo:function j(k,l,m,n){var o=arguments.length<=4||arguments[4]===undefined?c('PUWMethods').FILE_SELECTOR:arguments[4],p=arguments[5],q=this.getFileNames(l);if(this.hasVideos(q)){this.uploadVideos(k,l,m,n,p);}else this.uploadPhotos(k,l,m,n,o,function(){l.forEach(function(r){r.uploadID=c('uniqueID')();r.filename='';});m.enqueueAsyncUploadRequest(k,l,{},{},false);});},subscribeToImageEdit:function j(k,l){return c('Arbiter').subscribe(['AttachmentsPhotoEditor/newImage'+k,'AttachmentsPhotoEditor/tagsUpdated'+k],c('curry')(i.onImageEdited,k,l));},onImageEdited:function j(k,l,m,n){if(m==='AttachmentsPhotoEditor/newImage'+k){var o=c('ReactComposerMediaUploadStore').getUploadsOfType(k,c('ReactComposerMediaUploadType').PHOTO),p=o.find(function(t){return t.photoID===n.fbid||t.originalPhotoID===n.fbid;}),q=c('ReactComposerMediaUploadStore').getUploadIndex(k,p.id);c('ReactComposerPhotoActions').removePhoto(k,p.photoID,p.id);var r=n.blob;r.uploadID=c('uniqueID')();r.name=p.filename||c('uniqueID')();var s=new (c('Map'))([[r.uploadID,q]]);l&&l.enqueueAsyncUploadRequest(k,[r],{data:{original_fbid:n.fbid,xy_tags:n.xyTags,stickers:n.stickers,text_overlays:n.textOverlays,has_crop:n.hasCrop,has_filter:n.hasFilter},indexMap:s},{xyTags:n.xyTags},false);c('ReactComposerMediaUploadActions').photosSelect(k,1,c('PUWMethods').METHOD_EDITOR);}else if(m==='AttachmentsPhotoEditor/tagsUpdated'+k)i.handleFaceboxAndXYTags(k,n.fbid,n.xyTags);c('ReactComposerPhotoActions').finishPhotoEdit(k);},handleFaceboxAndXYTags:function j(k,l,m){c('ReactComposerPhotoActions').untagAllForPhoto(k,l);m.forEach(function(n){if(n.from_facebox){c('ReactComposerPhotoActions').tagFacebox(k,l,n.facebox,n.subject,n.name);}else if(n.is_product_tag){c('ReactComposerPhotoActions').tagXYProduct(k,l,n.name,n.source,n.subject,n.x,n.y);}else c('ReactComposerPhotoActions').tagXY(k,l,n.name,n.source,n.subject,n.x,n.y);});},handleXYTagsOnly:function j(k,l,m){m.forEach(function(n){if(n.from_facebox){return;}else c('ReactComposerPhotoActions').tagXY(k,l,n.name,n.source,n.subject,n.x,n.y);});},handleVideoUploadForDroppedFiles:function j(k,l,m){var n=c('ReactComposerMediaUploadStore').getUploadsCount(m.composerID)>0;if(n)return false;var o=this.getFileNames(k);if(!o||o.length!==1)return false;var p=i.hasVideos(o);if(p){c('Bootloader').loadModules(["ComposerXVideoUploadDialogController"],function(q){return q.showDialog({targetID:m.targetID,files:k,composerEntryPointRef:m.composerType,canShowOptimisticPost:l.shouldShowOptimisticVideoPost});},'ReactComposerMediaUtils');return true;}return false;},handleSpecialMediaUpload:function j(event,k,l,m){var n=c('ReactComposerMediaUploadStore').getUploadsCount(m.composerID)>0;if(!l.useVideoUploadDialog||n)return false;var o=event.target;if(!o||!o.files||o.files.length!==1)return false;var p=i.getFileNamesFromFileInput(o),q=i.hasVideos(p),r=i.hasAudioFiles(p);if(r&&l.canUploadAudio){c('Bootloader').loadModules(["ComposerXAudioUploadDialogController"],function(s){return s.showDialog({targetID:m.targetID,fileInput:k,originalComposerID:m.composerID});},'ReactComposerMediaUtils');return true;}else if(q){c('Bootloader').loadModules(["ComposerXVideoUploadDialogController"],function(s){return s.showDialog({targetID:m.targetID,fileInput:k,composerEntryPointRef:m.composerType,canShowOptimisticPost:l.shouldShowOptimisticVideoPost,originalComposerID:m.composerID});},'ReactComposerMediaUtils');return true;}return false;},isMultimediaPost:function j(k){return c('ReactComposerMediaUploadStore').getUploadsCount(k,c('ReactComposerMediaUploadType').VIDEO)>0&&c('ReactComposerMediaUploadStore').getUploadsCount(k,c('ReactComposerMediaUploadType').PHOTO)>0;},getVideoXUploader:function j(k){var l=c('ReactComposerAttachmentStore').getAttachmentsConfig(k,c('ReactComposerAttachmentType').MEDIA);l||h(0);var m=c('ReactComposerMediaUploadStore').getVideoUploader(k,l.videoUploadParams);return m;},getVideoUploader:function j(k){var l=c('ReactComposerAttachmentStore').getAttachmentsConfig(k,c('ReactComposerAttachmentType').MEDIA);l||h(0);var m=JSON.parse(JSON.stringify(l.videoUploadParams));return new (c('VideoUploader'))(m);},changeToPeopleTaggerAfterUpload:function j(k){var l=c('ReactComposerTaggerStore').getSelectedTagger(k),m=c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').MEDIA);if(l===null&&m)c('ReactComposerTaggerActions').selectTaggerWithoutAutofocus(k,c('ReactComposerLoggingName').PHOTO_UPLOAD_DONE,c('ReactComposerTaggerType').PEOPLE);}};f.exports=i;}),null);
__d('ReactComposerPerfLogger',['ComposerType','ComposerXSessionIDs','MarauderLogger'],(function a(b,c,d,e,f,g){var h={},i=c('ComposerType').STATUS,j={logEvent:function k(l,m){var n=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],o=h[m],p=c('ComposerXSessionIDs').getSessionID(m);if(!o||!p)return;if(n.logOncePerSession){if(!o.loggedEventTypes[p])o.loggedEventTypes[p]={};if(o.loggedEventTypes[p][l])return;o.loggedEventTypes[p][l]=true;}var q=babelHelpers['extends']({},n.extraData,{composer_type:i,target_type:o.targetType,target_id:o.targetID,ref:o.entryPointRef});c('MarauderLogger').log(l,'composer',q,undefined,undefined,p);},registerComposer:function k(l,m,n,o){h[l.id]={targetID:o,targetType:m,entryPointRef:n,loggedEventTypes:{}};},getInstance:function k(l){return h[l];}};f.exports=j;}),null);
__d("XReactComposerScrapedAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/scraper\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},scrape_url:{type:"String",required:true},carousel_params:{type:"String"},entry_point:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""},source_logging_name:{type:"Enum",defaultValue:"others",enumType:1}});}),null);
__d("XReactComposerShareAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/share_attachment\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},share_type:{type:"Int",required:true},share_params:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""}});}),null);
__d('ReactComposerScrapedAttachmentStore',['ActorURI','CallToActionLinkFormats','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerScrapedAttachmentActionType','ReactComposerStoreBase','XReactComposerScrapedAttachmentController','XReactComposerShareAttachmentController','AsyncRequest','PagesComposerCarouselPostChildAttachmentAttributes','PagesComposerCarouselPostLogAttributes','DialogX','DOM'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {markup:null,attachmentConfig:{},enabled:false,isScraping:false,permissiveMatch:null,sourceAttachment:null};},function(l){switch(l.type){case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_ENABLED:k&&k.$ReactComposerScrapedAttachmentStore1(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_PERMISSIVE_MATCH_SETTED:k&&k.$ReactComposerScrapedAttachmentStore2(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_INTENDED:k&&k.$ReactComposerScrapedAttachmentStore3(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SHARE_SELECTED:k&&k.$ReactComposerScrapedAttachmentStore4(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:k&&k.$ReactComposerScrapedAttachmentStore5(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerScrapedAttachmentStore6(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_CAROUSEL_UPLOAD:k&&k.$ReactComposerScrapedAttachmentStore7(l);}});k=this;}j.prototype.isEnabled=function(k){'use strict';return this.getComposerData(k).isEnabled;};j.prototype.hasAttachment=function(k){'use strict';return !!this.getMarkup(k);};j.prototype.isScraping=function(k){'use strict';return this.getComposerData(k).isScraping;};j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.isReadOnly=function(k){'use strict';var l=this.getComposerData(k);return l.attachmentConfig&&l.attachmentConfig.readOnly;};j.prototype.getAttachmentConfig=function(k){'use strict';var l=this.getComposerData(k);if(!l.markup)return null;if(!l.attachmentConfig.readOnly){var m=c('DOM').scry(l.markup,'input[name="attachment[params][images][0]"]').pop(),n=c('DOM').scry(l.markup,'input[name="attachment[params][title]"]').pop(),o=c('DOM').scry(l.markup,'input[name="attachment[params][summary]"]').pop();if(m!=null){if(l.attachmentConfig.params.images===undefined)l.attachmentConfig.params.images=[];l.attachmentConfig.params.images[0]=m.value;}if(n!=null)l.attachmentConfig.params.title=n.value;if(o!=null)l.attachmentConfig.params.summary=o.value;var p=c('DOM').scry(l.markup,'input[name="attachment[carousel_log]['+c('PagesComposerCarouselPostLogAttributes').USE_CAROUSEL_COMPOSER+']"]').pop();if(p!=null&&p.value==='1'){this.$ReactComposerScrapedAttachmentStore8(l);this.$ReactComposerScrapedAttachmentStore9(l);}this.$ReactComposerScrapedAttachmentStore10(l);}return l.attachmentConfig;};j.prototype.getPostConfirmationDialog=function(k){'use strict';return this.getComposerData(k).postConfirmationDialog;};j.prototype.$ReactComposerScrapedAttachmentStore10=function(k){'use strict';var l={},m=Object.keys(c('PagesComposerCarouselPostLogAttributes'));for(var n=0;n<m.length;n++){var o=c('PagesComposerCarouselPostLogAttributes')[m[n]],p=c('DOM').scry(k.markup,'input[name="attachment[carousel_log]['+o+']"]').pop();if(!p)continue;l[o]=p.value;}if(Object.keys(l).length!==0)k.attachmentConfig.carousel_log=l;};j.prototype.$ReactComposerScrapedAttachmentStore8=function(k){'use strict';k.attachmentConfig.params.child_attachments={};var l=Object.keys(c('PagesComposerCarouselPostChildAttachmentAttributes')),m=0,n={};while(true){var o=false,p=0;n={};for(p=0;p<l.length;p++){var q=c('DOM').scry(k.markup,'input[name="attachment[params][child_attachments]['+m+']['+c('PagesComposerCarouselPostChildAttachmentAttributes')[l[p]]+']"]').pop();if(q==null)continue;n[c('PagesComposerCarouselPostChildAttachmentAttributes')[l[p]]]=q.value;o=true;}if(!o)break;k.attachmentConfig.params.child_attachments[m]=n;m++;}};j.prototype.$ReactComposerScrapedAttachmentStore9=function(k){'use strict';var l=k.attachmentConfig.params.child_attachments;if(!l)return;var m=null,n=0;for(var o in l)if(Object.prototype.hasOwnProperty.call(l,o))if(l[o].selected==='1'){n+=1;if(n>1)return;if(l[o].video_id)m=l[o];}if(m){k.attachmentConfig.params.carousel_video_lpp={};Object.assign(k.attachmentConfig.params.carousel_video_lpp,{video_id:m.video_id,publish:true,link_title:m.name,link_description:m.description,cta_type:m.cta_type?m.cta_type:'NO_BUTTON',cta_link:m.link,cta_link_format:c('CallToActionLinkFormats').VIDEO_LPP});}};j.prototype.getPermissiveMatch=function(k){'use strict';return this.getComposerData(k).permissiveMatch;};j.prototype.$ReactComposerScrapedAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n;};j.prototype.$ReactComposerScrapedAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','permissiveMatch']),m=l[0],n=l[1],o=this.getComposerData(m);o.permissiveMatch=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','value','entryPoint','actorID','sourceLoggingName']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5];if(!this.isEnabled(m))return;var s=this.getComposerData(k.composerID);s.isScraping=true;var t=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),u=c('XReactComposerScrapedAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setString('scrape_url',o).setString('entry_point',p).setString('source_attachment',t).setEnum('source_logging_name',r).getURI();u=c('ActorURI').create(u,q);new (c('AsyncRequest'))(u).send();this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore5=function(k){'use strict';if(!this.isEnabled(k.composerID))return;var l=this.getComposerData(k.composerID);l.markup=k.markup;l.attachmentConfig=k.attachmentConfig;l.isScraping=false;l.sourceAttachment=c('ReactComposerAttachmentStore').getSelectedAttachmentID(k.composerID);l.postConfirmationDialog=k.postConfirmationDialog;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore6=function(k){'use strict';var l=this.getComposerData(k.composerID);if(k.id===l.sourceAttachment)return;l.markup=null;l.attachmentConfig={};l.isScraping=false;l.sourceAttachment=null;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore7=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','scrapeUrl','carouselParams','entryPoint','actorID']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5],s=this.getComposerData(k.composerID);s.isScraping=true;var t=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),u=c('XReactComposerScrapedAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setString('scrape_url',o).setString('carousel_params',p).setString('entry_point',q).setString('source_attachment',t).getURI();u=c('ActorURI').create(u,r);new (c('AsyncRequest'))(u).send();this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','actorID','shareType','shareParams']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4];if(!this.isEnabled(m))return;var r=this.getComposerData(m);r.isScraping=true;var s=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),t=c('XReactComposerShareAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setInt('share_type',p).setString('share_params',JSON.stringify(q)).setString('source_attachment',s).getURI();t=c('ActorURI').create(t,o);new (c('AsyncRequest'))(t).send();this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerLoggingStore',['invariant','ReactComposerActionTypes','ReactComposerAlbumActionType','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerAudienceActionTypes','ReactComposerAudienceStore','ReactComposerCollectionsActionTypes','ReactComposerDispatcher','ReactComposerFeatureType','ReactComposerLoggingQueue','ReactComposerPerfLogger','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerScrapedAttachmentActionType','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerVideoUploadActionType','Bootloader','ComposerEntryPointRef','ComposerPerfEvent','ComposerWaterfallEvent','ComposerXMarauderLogger','ComposerXSessionIDs','immutable','LiveVideoBroadcastFunnelLogger','PhotosUploadWaterfallXMixin','PUWApplications','PUWMethods','PUWSteps','classWithMixins','mixin','performanceAbsoluteNow','nullthrows','PhotoUploadFacerecWaterfallTypedLogger','FacerecWaterfallEvent'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('classWithMixins')(c('ReactComposerStoreBase'),c('mixin')(c('PhotosUploadWaterfallXMixin'))));j=i&&i.prototype;function k(){var l;j.constructor.call(this,function(){return {activated:false,perfTimes:{},sessionID:null,uniqueEvents:c('immutable').Map([[c('PUWSteps').CLIENT_PUBLISH_SUCCESS,false],[c('PUWSteps').CLIENT_FLOW_SUCCESS,false]])};},function(m){l&&l.handler(m);});l=this;}k.prototype.handler=function(l){if(l.suppressWaterfallLogging)return;var m=this.getComposerData(l.composerID);if(!m.activated)return;switch(l.type){case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:this.$ReactComposerLoggingStore1(l);break;case c('ReactComposerActionTypes').COMPOSER_ENTRY:this.$ReactComposerLoggingStore2(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTLOADED:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore3(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTSTRAPPED:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore4(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore5(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_INPUT_DONE:this.$ReactComposerLoggingStore6(l);break;case c('ReactComposerAlbumActionType').CREATE_ALBUM_SELECTOR_CLICKED:this.$ReactComposerLoggingStore7(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore8(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore9(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore10(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore11(l);break;case c('ReactComposerMediaUploadActionType').SPHERICAL_PHOTO_CHECK_DONE:this.$ReactComposerLoggingStore12(l);break;case c('ReactComposerMediaUploadActionType').SPHERICAL_PHOTO_CHECK_FAILED:this.$ReactComposerLoggingStore13(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore14(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore15(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore16(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore17(l);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_REMOVE:this.$ReactComposerLoggingStore18(l);break;case c('ReactComposerPhotoActionType').PHOTO_REMOVE:this.$ReactComposerLoggingStore19(l);break;case c('ReactComposerMediaUploadActionType').VIDEO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore20(l);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore21(l);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore22(l);break;case c('ReactComposerTaggerActionType').DESELECT_TAGGER:this.$ReactComposerLoggingStore23(l);break;case c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerTaggerStore').getDispatchToken()]);this.$ReactComposerLoggingStore24(l);break;case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:if(c('ReactComposerDispatcher').isDispatching())c('ReactComposerDispatcher').waitFor([c('ReactComposerTaggerStore').getDispatchToken()]);this.$ReactComposerLoggingStore25(l);break;case c('ReactComposerActionTypes').POST_STARTED:this.$ReactComposerLoggingStore26(l);break;case c('ReactComposerActionTypes').POST_SUCCEEDED:this.$ReactComposerLoggingStore27(l);break;case c('ReactComposerActionTypes').POST_ERROR:this.$ReactComposerLoggingStore28(l);break;case c('ReactComposerMediaUploadActionType').PHOTOS_SELECT:this.$ReactComposerLoggingStore29(l);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore30(l);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore31(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore32(l);break;case c('ReactComposerPhotoActionType').PHOTO_ADD_FACEBOX:this.$ReactComposerLoggingStore33(l);break;case c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_ALL_FINISHED:this.$ReactComposerLoggingStore34(l);break;case c('ReactComposerActionTypes').FEATURE_INTENT:this.$ReactComposerLoggingStore35(l);break;case c('ReactComposerActionTypes').FEATURE_DONE:this.$ReactComposerLoggingStore36(l);break;case c('ReactComposerActionTypes').FEATURE_CANCEL:this.$ReactComposerLoggingStore37(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:c('ReactComposerDispatcher').waitFor([c('ReactComposerScrapedAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore38(l);break;case c('ReactComposerAudienceActionTypes').SET_AUDIENCE:this.$ReactComposerLoggingStore39(l);break;case c('ReactComposerActionTypes').COMPOSER_CANCEL:this.$ReactComposerLoggingStore40(l);break;case c('ReactComposerCollectionsActionTypes').SHOW_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore41(l);break;case c('ReactComposerCollectionsActionTypes').HIDE_COLLECTION_SELECTOR:this.$ReactComposerLoggingStore42(l);break;case c('ReactComposerAudienceActionTypes').SET_COLLECTION:c('ReactComposerDispatcher').waitFor([c('ReactComposerAudienceStore').getDispatchToken()]);this.$ReactComposerLoggingStore43(l);break;case c('ReactComposerCollectionsActionTypes').SHOW_CREATION_LAYER:this.$ReactComposerLoggingStore44(l);break;case c('ReactComposerCollectionsActionTypes').HIDE_CREATION_LAYER:this.$ReactComposerLoggingStore45(l);break;default:}};k.prototype.getSessionID=function(l){return c('ComposerXSessionIDs').getSessionID(l);};k.prototype.isActivated=function(l){return this.getComposerData(l).activated;};k.prototype.activate=function(l){var m=this.getComposerData(l);m.activated=true;if(c('ReactComposerLoggingQueue').getLength()>0)this.$ReactComposerLoggingStore46();};k.prototype.$ReactComposerLoggingStore2=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').COMPOSER_ENTRY,{logOncePerSession:true,extraData:{composer_entry_point_name:l.uiElementName}});};k.prototype.$ReactComposerLoggingStore35=function(l){var m=this.validateAction(l,['composerID','featureType','uiElementName']),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore48(n,o,p);};k.prototype.$ReactComposerLoggingStore36=function(l){var m=this.validateAction(l,['composerID','featureType','uiElementName']),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore49(n,o,p);};k.prototype.$ReactComposerLoggingStore37=function(l){var m=this.validateAction(l,['composerID','featureType','uiElementName']),n=m[0],o=m[1],p=m[2];this.$ReactComposerLoggingStore50(n,o,p);};k.prototype.$ReactComposerLoggingStore1=function(l){var m=this.validateAction(l,['id','currentAttachmentID','composerID']),n=m[0],o=m[1],p=m[2];if(n===c('ReactComposerAttachmentType').LIVE_VIDEO&&o!==c('ReactComposerAttachmentType').LIVE_VIDEO){c('LiveVideoBroadcastFunnelLogger').startAndSelectLiveAttachment(p);}else if(o===c('ReactComposerAttachmentType').LIVE_VIDEO&&n!==c('ReactComposerAttachmentType').LIVE_VIDEO)c('LiveVideoBroadcastFunnelLogger').end();if(c('ReactComposerAttachmentStore').isSelectedAttachmentActive(p))this.$ReactComposerLoggingStore2(l);};k.prototype.$ReactComposerLoggingStore3=function(l){var m=this.validateAction(l,['id','composerID']),n=m[0],o=m[1];this.$ReactComposerLoggingStore51(o,c('ComposerPerfEvent').CLIENT_BOOTLOADED,{extraData:{attachment_type:n,duration:c('ReactComposerAttachmentStore').getBootloadDuration(o,n)}});};k.prototype.$ReactComposerLoggingStore4=function(l){var m=this.validateAction(l,['id','composerID']),n=m[0],o=m[1];this.$ReactComposerLoggingStore51(o,c('ComposerPerfEvent').CLIENT_BOOTSTRAPPED,{extraData:{attachment_type:n,duration:c('ReactComposerAttachmentStore').getBootstrapDuration(o,n)}});};k.prototype.$ReactComposerLoggingStore7=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').ALBUM_INTENT);};k.prototype.$ReactComposerLoggingStore5=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore48(n,c('ReactComposerFeatureType').MEDIA,o);this.$ReactComposerLoggingStore47(n,c('ComposerWaterfallEvent').MEDIA_INTENT);this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_SELECT_BEGIN);};k.prototype.$ReactComposerLoggingStore6=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore49(n,c('ReactComposerFeatureType').MEDIA,o);};k.prototype.$ReactComposerLoggingStore8=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').PHOTO_ADD);this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore9=function(l){var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_PROCESS_BEGIN,o);};k.prototype.$ReactComposerLoggingStore10=function(l){var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_PROCESS_SUCCESS,o);};k.prototype.$ReactComposerLoggingStore11=function(l){var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_PROCESS_FAIL,o);};k.prototype.$ReactComposerLoggingStore12=function(l){var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_SPHERICAL_CHECK_SUCCESS,o);};k.prototype.$ReactComposerLoggingStore13=function(l){var m=this.validateAction(l,['composerID','loggingData']),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_SPHERICAL_CHECK_FAIL,o);};k.prototype.$ReactComposerLoggingStore14=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_PROCESS_UNAVAILABLE);};k.prototype.$ReactComposerLoggingStore15=function(l){var m=this.validateAction(l,['composerID','fileUpload']),n=m[0],o=m[1];this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_TRANSFER_BEGIN,{bytes:o.getFile().size});};k.prototype.$ReactComposerLoggingStore16=function(l){var m=this.validateAction(l,['composerID','fileUpload','timeToUpload']),n=m[0],o=m[1],p=m[2],q={};if(l.uploadID&&c('ReactComposerMediaUploadStore').getMediaUploadExists(n,l.uploadID))q=c('ReactComposerMediaUploadStore').getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore47(n,c('ComposerWaterfallEvent').PHOTO_ADD_SUCCESS);this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_TRANSFER_SUCCESS,{bytes:o.getFile().size,auto_retry_count:o.getRetryCount(),dt:p,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:q.projectionType,fbid:l.photoID,sheight:q.height,swidth:q.width,theight:l.height,twidth:l.width});};k.prototype.$ReactComposerLoggingStore17=function(l){var m=this.validateAction(l,['composerID','fileUpload','error','timeToUpload']),n=m[0],o=m[1],p=m[2],q=m[3],r={};if(l.uploadID&&c('ReactComposerMediaUploadStore').getMediaUploadExists(n,l.uploadID))r=c('ReactComposerMediaUploadStore').getMediaUpload(n,l.uploadID);this.$ReactComposerLoggingStore47(n,c('ComposerWaterfallEvent').PHOTO_ADD_FAILURE);this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_TRANSFER_FAIL,{bytes:o.getFile().size,error_code:p.code,error_info:p.description,auto_retry_count:o.getRetryCount(),dt:q,custom_tags:{manual_retry:!!o.getFile().manuallyRetried},projection_type:r.projectionType,sheight:r.height,swidth:r.width});};k.prototype.$ReactComposerLoggingStore18=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').PHOTO_REMOVE);this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').MEDIA);this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_TRANSFER_CANCEL);};k.prototype.$ReactComposerLoggingStore19=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').PHOTO_REMOVE);this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore20=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore21=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').VIDEO_ADD);};k.prototype.$ReactComposerLoggingStore22=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').VIDEO_REMOVE);this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').MEDIA);};k.prototype.$ReactComposerLoggingStore23=function(l){var m=this.validateAction(l,['composerID','taggerID','sourceLoggingName']),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore54(o);q!==null||h(0);if(q)this.$ReactComposerLoggingStore49(n,q,p);};k.prototype.$ReactComposerLoggingStore24=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1],p=c('ReactComposerTaggerStore').getSelectedTagger(n),event=null;switch(p){case c('ReactComposerTaggerType').PEOPLE:this.$ReactComposerLoggingStore48(n,c('ReactComposerFeatureType').WITH_TAG,o);event=c('ComposerWaterfallEvent').FRIEND_TAG_INTENT;break;case c('ReactComposerTaggerType').LOCATION:this.$ReactComposerLoggingStore48(n,c('ReactComposerFeatureType').LOCATION,o);event=c('ComposerWaterfallEvent').LOCATION_INTENT;break;case c('ReactComposerTaggerType').ACTIVITY:this.$ReactComposerLoggingStore48(n,c('ReactComposerFeatureType').MINUTIAE,o);event=c('ComposerWaterfallEvent').MINUTIAE_INTENT;break;case c('ReactComposerTaggerType').MARKDOWN:event=c('ComposerWaterfallEvent').MARKDOWN_INTENT;break;default:var q=this.$ReactComposerLoggingStore54(p);if(q)this.$ReactComposerLoggingStore48(n,q,o);break;}if(event===null)return;this.$ReactComposerLoggingStore47(n,event);};k.prototype.$ReactComposerLoggingStore25=function(l){var m=this.validateAction(l,['composerID','taggerID','sourceLoggingName']),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerLoggingStore54(o);q!==null||h(0);if(q)this.$ReactComposerLoggingStore53(n,q,p);};k.prototype.$ReactComposerLoggingStore26=function(l){var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.perfTimes.postStartTime=c('performanceAbsoluteNow')();this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').COMPOSER_POST);if(this.$ReactComposerLoggingStore55(m)){this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_PUBLISH_BEGIN,this.$ReactComposerLoggingStore56(m));c('ReactComposerPhotoStore').getPhotos(m).forEach(function(o){o.faceboxes.forEach(function(p){return new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('FacerecWaterfallEvent').CLIENT_PHOTO_PUBLISHED).setPhotoFbid(o.id).setFaceBoxID(p.id).setRecognizedUser(p.recognizedSubjectID).setTaggedUser(p.taggedSubjectID).log();});});}};k.prototype.$ReactComposerLoggingStore27=function(l){var m,n=this,o=this.validateAction(l,'composerID'),p=this.getComposerData(o);this.$ReactComposerLoggingStore47(o,c('ComposerWaterfallEvent').COMPOSER_POST_SUCCESS);this.$ReactComposerLoggingStore51(o,c('ComposerPerfEvent').CLIENT_POST_SUCCEEDED,{extraData:{attachment_type:c('ReactComposerAttachmentStore').getSelectedAttachmentID(o),duration:c('performanceAbsoluteNow')()-p.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore55(o)){var q=this.$ReactComposerLoggingStore56(o);this.$ReactComposerLoggingStore52(o,c('PUWSteps').CLIENT_PUBLISH_SUCCESS,q);this.$ReactComposerLoggingStore52(o,c('PUWSteps').CLIENT_FLOW_SUCCESS);var r=c('ReactComposerPhotoStore').getPhotos(o);if(r&&r.forEach)(function(){var s=0;r.forEach(function(t){if(t.cubestripURI)s++;});if(s>0)c('Bootloader').loadModules(["SphericalPhotoViewerLoggerUtil","SphericalMediaConstants"],function(t,u){t.logNumberOfSphericalPhoto({composerSessionID:this.getSessionID(o)||'',surface:u.LOGGER_SURFACES.composer,numberOfSphericalPhoto:s});}.bind(n),'ReactComposerLoggingStore');})();}};k.prototype.$ReactComposerLoggingStore28=function(l){var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').COMPOSER_POST_FAILURE);this.$ReactComposerLoggingStore51(m,c('ComposerPerfEvent').CLIENT_POST_FAILED,{extraData:{attachment_type:c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),duration:c('performanceAbsoluteNow')()-n.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore55(m)){var o=l.response,p=Object.assign(this.$ReactComposerLoggingStore56(m),{error_code:o&&o.getError&&o.getError(),error_info:o&&o.getErrorDescription&&o.getErrorDescription()});this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_PUBLISH_FAIL,p);}};k.prototype.$ReactComposerLoggingStore29=function(l){var m=this.validateAction(l,['composerID','numPhotos','method']),n=m[0],o=m[1],p=m[2],q={method:p,volume:o};this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});if(p!==c('PUWMethods').FILE_SELECTOR)this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_SELECT_BEGIN);this.$ReactComposerLoggingStore52(n,c('PUWSteps').CLIENT_SELECT_SUCCESS,q);};k.prototype.$ReactComposerLoggingStore30=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_PHOTO_EDIT_BEGIN);};k.prototype.$ReactComposerLoggingStore31=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_PHOTO_EDIT_SUCCESS);};k.prototype.$ReactComposerLoggingStore32=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore52(m,c('PUWSteps').CLIENT_TRANSFER_MANUAL_RETRY);};k.prototype.$ReactComposerLoggingStore33=function(l){var m=this.validateAction(l,['photoID','facebox']),n=m[0],o=m[1],p=o.bestRecognition,q=null;if(p)q=p.subjectID;new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('FacerecWaterfallEvent').RECOGNITION_RECEIVED_BY_CLIENT).setPhotoFbid(n).setFaceBoxID(o.id).setRecognizedUser(q).log();};k.prototype.$ReactComposerLoggingStore34=function(l){var m=this.validateAction(l,['photos','facerecWaterfallEvent']),n=m[0],o=m[1];n.forEach(function(p){new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('nullthrows')(o)).setPhotoFbid(p).log();});};k.prototype.$ReactComposerLoggingStore38=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').LINK,l.sourceLoggingName);};k.prototype.$ReactComposerLoggingStore39=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore53(m,c('ReactComposerFeatureType').PRIVACY,l.sourceLoggingName);};k.prototype.$ReactComposerLoggingStore40=function(l){var m=this.validateAction(l,'composerID');this.$ReactComposerLoggingStore47(m,c('ComposerWaterfallEvent').COMPOSER_CANCEL);};k.prototype.$ReactComposerLoggingStore41=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore48(n,c('ReactComposerFeatureType').COLLECTIONS,o);};k.prototype.$ReactComposerLoggingStore42=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore49(n,c('ReactComposerFeatureType').COLLECTIONS,o);};k.prototype.$ReactComposerLoggingStore43=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore53(n,c('ReactComposerFeatureType').COLLECTIONS,o);};k.prototype.$ReactComposerLoggingStore44=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName']),n=m[0],o=m[1];this.$ReactComposerLoggingStore48(n,c('ReactComposerFeatureType').COLLECTION_CREATION,o);};k.prototype.$ReactComposerLoggingStore45=function(l){var m=this.validateAction(l,['composerID','sourceLoggingName','isCancel']),n=m[0],o=m[1],p=m[2],q=p?this.$ReactComposerLoggingStore50.bind(this):this.$ReactComposerLoggingStore49.bind(this);q(n,c('ReactComposerFeatureType').COLLECTION_CREATION,o);};k.prototype.$ReactComposerLoggingStore55=function(l){var m=c('ReactComposerAttachmentStore').getIsAttachmentSelected(l,c('ReactComposerAttachmentType').MEDIA),n=c('ReactComposerMediaUploadStore').getUploadsOfType(l,c('ReactComposerMediaUploadType').PHOTO);return m&&!!n.size;};k.prototype.$ReactComposerLoggingStore56=function(l){var m=c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').PEOPLE)||[],n=c('ReactComposerMediaUploadStore').getTotalNumberOfStickersOnPhotos(l);return {volume:c('ReactComposerPhotoStore').getPhotos(l).size,with_tag_count:m.length,sticker_count:n};};k.prototype.$ReactComposerLoggingStore48=function(l,m,n){this.$ReactComposerLoggingStore47(l,c('ComposerWaterfallEvent').FEATURE_INTENT,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore53=function(l,m,n){this.$ReactComposerLoggingStore47(l,c('ComposerWaterfallEvent').FEATURE_UPDATE,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore50=function(l,m,n){this.$ReactComposerLoggingStore47(l,c('ComposerWaterfallEvent').FEATURE_CANCEL,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore49=function(l,m,n){this.$ReactComposerLoggingStore47(l,c('ComposerWaterfallEvent').FEATURE_DONE,{extraData:{feature_type:m,source:n}});};k.prototype.$ReactComposerLoggingStore47=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true);}if(c('ReactComposerStore').getRef(l)===c('ComposerEntryPointRef').RECENT_POSTS)c('Bootloader').loadModules(["FeedbackDigestNotifTypedLogger"],function(o){new o().setComposerWaterfallEvent(event).addToExtraData('payload',JSON.stringify(this.$ReactComposerLoggingStore57(l))).addToExtraData('message',c('ReactComposerStatusStore').getMessageText(l)).log();}.bind(this),'ReactComposerLoggingStore');m.extraData=Object.assign({is_markdown_enabled:!!c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').MARKDOWN).isMarkdown,payload:this.$ReactComposerLoggingStore57(l)},m.extraData);c('ComposerXMarauderLogger').logEvent(event,l,m);};k.prototype.$ReactComposerLoggingStore51=function(l,event){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=this.getComposerData(l);if(n.uniqueEvents.has(event)){if(n.uniqueEvents.get(event))return;n.uniqueEvents=n.uniqueEvents.set(event,true);}c('ReactComposerPerfLogger').logEvent(event,l,m);};k.prototype.$ReactComposerLoggingStore52=function(l,m,n,o,p){var q=this.getComposerData(l);if(q.uniqueEvents.has(m)){if(q.uniqueEvents.get(m))return;q.uniqueEvents=q.uniqueEvents.set(m,true);}this.logPUWStep(m,this.getSessionID(l),c('PUWApplications').WEB_REACT_COMPOSER,c('ReactComposerStore').getRef(l),n,o,p);};k.prototype.$ReactComposerLoggingStore46=function(){while(c('ReactComposerLoggingQueue').getLength()>0){var l=c('ReactComposerLoggingQueue').pop();this.handler(l);}};k.prototype.$ReactComposerLoggingStore57=function(l){return {character:c('ReactComposerStatusStore').getTextLength(l),location_tag:c('ReactComposerTaggerStore').hasLocationTag(l),implicit_location:c('ReactComposerTaggerStore').hasImplicitLocation(l),minutiae:c('ReactComposerTaggerStore').hasMinutiae(l),with_who_tag:c('ReactComposerTaggerStore').getNumberOfWithWhoTags(l),photo:c('ReactComposerMediaUploadStore').getNonsphericalPhotoCount(l),three_sixty_photo:c('ReactComposerMediaUploadStore').getSphericalPhotoCount(l),video:c('ReactComposerMediaUploadStore').getUploadsCount(l,c('ReactComposerMediaUploadType').VIDEO),shared_link:c('ReactComposerScrapedAttachmentStore').hasAttachment(l)?1:0,backdated:c('ReactComposerTaggerStore').hasBackdate(l)?c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').BACKDATE):null,audience:c('ReactComposerAudienceStore').getAudience(l),collection:c('ReactComposerAudienceStore').getCollectionID(l)};};k.prototype.$ReactComposerLoggingStore54=function(l){switch(l){case c('ReactComposerTaggerType').PEOPLE:return c('ReactComposerFeatureType').WITH_TAG;case c('ReactComposerTaggerType').LOCATION:return c('ReactComposerFeatureType').LOCATION;case c('ReactComposerTaggerType').ACTIVITY:return c('ReactComposerFeatureType').MINUTIAE;case c('ReactComposerTaggerType').MARKDOWN:return c('ReactComposerFeatureType').MARKDOWN;case c('ReactComposerTaggerType').BACKDATE:return c('ReactComposerFeatureType').DATE;case c('ReactComposerTaggerType').SPONSOR:return c('ReactComposerFeatureType').SPONSOR;case c('ReactComposerTaggerType').PRODUCT:return c('ReactComposerFeatureType').PRODUCT;case c('ReactComposerTaggerType').PAGE_CTA:return c('ReactComposerFeatureType').PAGE_CTA;case c('ReactComposerTaggerType').FORMATTED_TEXT:return c('ReactComposerFeatureType').FORMATTED_TEXT;case c('ReactComposerTaggerType').ISSUE_TAG:return c('ReactComposerFeatureType').ISSUE_TAG;case c('ReactComposerTaggerType').STICKER:return c('ReactComposerFeatureType').STICKER;case c('ReactComposerTaggerType').MESSAGING:return c('ReactComposerFeatureType').MESSAGING;case c('ReactComposerTaggerType').CONTACT_YOUR_REPRESENTATIVE:return c('ReactComposerFeatureType').CONTACT_YOUR_REPRESENTATIVE;default:return null;}};f.exports=new k();}),null);
__d('ReactComposerMinutiaeAttachmentActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({FETCH_ATTACHMENT:null,SET_EXPLICIT_LOCATION:null,SET_MARKUP:null,SET_HIDE_OBJECT_ATTACHMENT:null},'ReactComposerMinutiaeAttachmentActionType');}),null);
__d("XReactComposerMinutiaeAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/minutiae\/attachment\/",{av:{type:"FBID"},composer_id:{type:"String",required:true},action_id:{type:"String",required:true},object_id:{type:"String",required:true},target_id:{type:"String",required:true},is_timeline:{type:"Bool",defaultValue:false},explicit_place_tag_id:{type:"String"}});}),null);
__d('ReactComposerMinutiaeAttachmentStore',['ActorURI','ReactComposerAttachmentActionType','ReactComposerAttachmentType','ReactComposerMinutiaeAttachmentActionType','ReactComposerStoreBase','XReactComposerMinutiaeAttachmentController','AsyncRequest'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {isFetching:false,markup:null,pendingRequest:null,explicitLocation:null};},function(l){switch(l.type){case c('ReactComposerMinutiaeAttachmentActionType').FETCH_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore1(l);break;case c('ReactComposerMinutiaeAttachmentActionType').SET_MARKUP:k&&k.$ReactComposerMinutiaeAttachmentStore2(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore3(l);break;case c('ReactComposerMinutiaeAttachmentActionType').SET_EXPLICIT_LOCATION:k&&k.$ReactComposerMinutiaeAttachmentStore4(l);break;case c('ReactComposerMinutiaeAttachmentActionType').SET_HIDE_OBJECT_ATTACHMENT:k&&k.$ReactComposerMinutiaeAttachmentStore5(l);break;}});k=this;}j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.getHideObjectAttachment=function(k){'use strict';return this.getComposerData(k).hideObjectAttachment;};j.prototype.isFetching=function(k){'use strict';return this.getComposerData(k).isFetching;};j.prototype.$ReactComposerMinutiaeAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','explicitLocation']),m=l[0],n=l[1],o=this.getComposerData(m);o.explicitLocation=n;this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','actionID','objectID','targetID','actorID','isTimeline']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5],s=this.getComposerData(m);s.isFetching=true;var t=c('XReactComposerMinutiaeAttachmentController').getURIBuilder().setString('composer_id',m).setString('action_id',n).setString('object_id',o).setString('target_id',p).setBool('is_timeline',r);if(s.explicitLocation)t.setString('explicit_place_tag_id',s.explicitLocation);var u=c('ActorURI').create(t.getURI(),q);s.pendingRequest=new (c('AsyncRequest'))(u).setFinallyHandler(function(){s.isFetching=false;s.pendingRequest=null;this.emitChange(m);}.bind(this));s.pendingRequest.send();this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','markup']),m=l[0],n=l[1],o=this.getComposerData(m);o.markup=n;this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore5=function(k){'use strict';var l=this.validateAction(k,['composerID','hideAttachment']),m=l[0],n=l[1],o=this.getComposerData(m);o.hideObjectAttachment=n;this.emitChange(m);};j.prototype.$ReactComposerMinutiaeAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','id']),m=l[0],n=l[1];if(n===c('ReactComposerAttachmentType').STATUS)return;var o=this.getComposerData(m);o.markup=null;o.isFetching=false;o.pendingRequest&&o.pendingRequest.abandon();this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerPostUtilsCore',['invariant','ReactComposerActions'],(function a(b,c,d,e,f,g,h){var i={getCoreData:function j(k,l,m){!isNaN(m)&&m>0||h(0);return Object.assign({is_react:true,xhpc_composerid:k,xhpc_targetid:m},l);},handlePostSucceeded:function j(k){c('ReactComposerActions').postSucceeded(k);c('ReactComposerActions').reset(k);}};f.exports=i;}),null);
__d('ReactComposerPromptsActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_MINUTIAE_DATA:null,SET_PROMPT_DATA:null,SET_PROMPT_XHP:null},'ReactComposerPromptsActionTypes');}),null);
__d('ReactComposerPromptsStore',['ReactComposerPromptsActionTypes','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {promptData:null,promptXHP:null};},function(l){k&&k.handler(l);});k=this;}j.prototype.handler=function(k){'use strict';switch(k.type){case c('ReactComposerPromptsActionTypes').SET_MINUTIAE_DATA:this.$ReactComposerPromptsStore1(k);break;case c('ReactComposerPromptsActionTypes').SET_PROMPT_DATA:this.$ReactComposerPromptsStore2(k);break;case c('ReactComposerPromptsActionTypes').SET_PROMPT_XHP:this.$ReactComposerPromptsStore3(k);break;default:}};j.prototype.$ReactComposerPromptsStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','minutiaeData']),m=l[0],n=l[1],o=this.getComposerData(m);o.minutiaeData=n;};j.prototype.getMinutiaeData=function(k){'use strict';return this.getComposerData(k).minutiaeData;};j.prototype.$ReactComposerPromptsStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','promptData']),m=l[0],n=l[1],o=this.getComposerData(m);o.promptData=n;};j.prototype.getPromptData=function(k){'use strict';return this.getComposerData(k).promptData;};j.prototype.$ReactComposerPromptsStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','promptXHP']),m=l[0],n=l[1],o=this.getComposerData(m);o.promptXHP=n;this.emitChange(m);};j.prototype.getPromptXHP=function(k){'use strict';return this.getComposerData(k).promptXHP;};f.exports=new j();}),null);
__d('ReactComposerSlideshowActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({AUDIO_FILE_UPLOAD_ERROR:null,AUDIO_FILE_UPLOAD_STARTED:null,AUDIO_FILE_UPLOAD_SUCCESS:null,CLOSE_EDIT_SLIDESHOW_DIALOG:null,CREATE:null,DURATION_CHANGE:null,FORMAT_CHANGE:null,HIDE_SLIDESHOW_EDIT_FIELD:null,IMAGE_REMOVE:null,IMAGES_SELECT_CONFIRM:null,MUSIC_CATEGORY_SELECT:null,PREVIEW_STATE_CHANGE:null,REORDER_IMAGES:null,SELECT_TAB:null,SHOW_EDIT_SLIDESHOW_DIALOG:null,SHOW_SLIDESHOW_EDIT_FIELD:null,SET_STORYLINE_MOOD_FILES:null,STORYLINE_MOOD_CHANGE:null,STORYLINE_MOOD_DELETE:null,STORYLINE_MOOD_SOURCE_CHANGE:null,STORYLINE_MOOD_SOURCE_MAP_CHANGE:null,TOGGLE_SLIDESHOW_DIALOG:null,TRANSITION_CHANGE:null},'ReactComposerSlideshowActionType');}),null);
__d('ReactComposerSelectedImagesStore',['ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerPhotoStore','ReactComposerSlideshowActionType','ReactComposerStoreBase','SlideshowConstants','SlideshowImageUtil','immutable','mergeDeepInto'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('SlideshowConstants').formats,k=c('SlideshowConstants').max_photo_num;h=babelHelpers.inherits(l,c('ReactComposerStoreBase'));i=h&&h.prototype;l.prototype.$ReactComposerSelectedImagesStore1=function(m,n,o){var p;if(m.isLoading)return {};var q=c('SlideshowImageUtil').calculateDefaultCoordinates({width:m.width,height:m.height},o);return p={},p[n]=q,p;};l.prototype.$ReactComposerSelectedImagesStore2=function(m,n,o){var p=o;if(!p)p=this.getComposerData(m).format;return this.$ReactComposerSelectedImagesStore3(n,p);};l.prototype.$ReactComposerSelectedImagesStore3=function(m,n){if(!m.length)return [];switch(n){case j.Original:var o=m[0];return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,o.width+c('SlideshowConstants').SIZE_DELIMITER+o.height,o.width/o.height);}.bind(this));case j.Wide:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c('SlideshowConstants').LANDSCAPE_ASPECT_RATIO);}.bind(this));case j.Square:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c('SlideshowConstants').SQUARE_ASPECT_RATIO);}.bind(this));case j.Vertical:return m.map(function(p){return this.$ReactComposerSelectedImagesStore1(p,n,c('SlideshowConstants').VERTICAL_ASPECT_RATIO);}.bind(this));default:return [];}};function l(){var m=void 0;i.constructor.call(this,function(){return {selectedImages:[],imagesCrops:[],editState:null,format:c('SlideshowConstants').formats.Original,removedUploadIDs:[],addedUploadIDs:[]};},function(n){switch(n.type){case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:c('ReactComposerDispatcher').waitFor([c('ReactComposerMediaUploadStore').getDispatchToken()]);m&&m.$ReactComposerSelectedImagesStore4(n);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);m&&m.$ReactComposerSelectedImagesStore5(n);break;case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:m&&m.$ReactComposerSelectedImagesStore6(n);break;case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:m&&m.$ReactComposerSelectedImagesStore7(n);break;case c('ReactComposerSlideshowActionType').REORDER_IMAGES:m&&m.$ReactComposerSelectedImagesStore8(n);break;case c('ReactComposerSlideshowActionType').FORMAT_CHANGE:m&&m.$ReactComposerSelectedImagesStore9(n);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore10(n);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:m&&m.$ReactComposerSelectedImagesStore11(n);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore12(n);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:m&&m.$ReactComposerSelectedImagesStore13(n);break;case c('ReactComposerSlideshowActionType').CREATE:m&&m.$ReactComposerSelectedImagesStore14(n);break;default:break;}});m=this;}l.prototype.$ReactComposerSelectedImagesStore4=function(m){var n=m.composerID,o=this.getComposerData(n),p=c('ReactComposerMediaUploadStore').getUploads(n),q=this.addNewImagesFromPhotoUploads(p,o.selectedImages,o.removedUploadIDs);o.selectedImages=o.selectedImages.concat(q);if(o.editState!==null)o.addedUploadIDs=o.addedUploadIDs.concat(q.map(function(r){return r.key;}));this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore5=function(m){var n=m.composerID,o=this.getComposerData(n),p=c('ReactComposerPhotoStore').getPhotos(n);o.selectedImages=this.replacePhotoUploadsFromPhotos(p,o.selectedImages);o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages);this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore11=function(m){var n=m.composerID,o=this.getComposerData(n);o.selectedImages=[];o.imagesCrops=[];this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore10=function(m){var n=m.composerID,o=this.getComposerData(n);if(!m.shouldShowSlideshowDialog){o.selectedImages=[];o.imagesCrops=[];}this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore6=function(m){var n=m.composerID,o=this.getComposerData(n);o.selectedImages=o.selectedImages.concat(m.selectedImages);o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages);this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore7=function(m){var n=m.composerID,o=this.getComposerData(n);if(o.editState!==null)o.removedUploadIDs.push(m.removeImage.key);var p=o.selectedImages.filter(function(q){return q.key!==m.removeImage.key;});o.selectedImages=p;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,p);this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore8=function(m){var n=m.composerID,o=this.getComposerData(n),p=m.data,q=p.fromIndex,r=p.toIndex,s=o.selectedImages.slice(0),t=Object.assign({},s[q]);s[q].remove=true;s.splice(q>r?r:r+1,0,t);s=s.filter(function(u){return !u.remove;});o.selectedImages=s;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,s);this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore9=function(m){var n=m.composerID,o=this.getComposerData(n);o.format=m.format;o.imagesCrops=this.$ReactComposerSelectedImagesStore2(n,o.selectedImages,m.format);this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore12=function(m){var n=m.composerID,o=this.getComposerData(n),p={};c('mergeDeepInto')(p,o);o.editState=p;this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore13=function(m){var n=m.composerID,o=this.getComposerData(n),p=o.editState;o.selectedImages=p.selectedImages;o.imagesCrops=p.imagesCrops;o.format=p.format;o.editState=null;o.removedUploadIDs=[];o.addedUploadIDs=[];this.emitChange(n);};l.prototype.$ReactComposerSelectedImagesStore14=function(m){var n=m.composerID,o=this.getComposerData(n);o.editState=null;o.removedUploadIDs=[];o.addedUploadIDs=[];this.emitChange(n);};l.prototype.getImagesFromPhotoUploads=function(m){var n=[];m.forEach(function(o){n.push({height:null,isLoading:true,key:o.id,url:null,width:null});});return n;};l.prototype.addNewImagesFromPhotoUploads=function(m,n,o){var p=this.getImagesFromPhotoUploads(m),q=p.filter(function(r){var s=n.findIndex(function(u){return u.key===r.key;}),t=o.findIndex(function(u){return u===r.key;});return s===-1&&t===-1;});return q;};l.prototype.replacePhotoUploadsFromPhotos=function(m,n){return n.map(function(o){var p=o,q=m.find(function(r){return r.uploadID===o.key;});if(q!=null)p={height:q.height,isLoading:false,key:q.uploadID,photoID:q.id,thumbSrc:q.thumbSrc,url:q.imageSrc,width:q.width};return p;});};l.prototype.getPhotoIDs=function(m){var n=this.getComposerData(m);return n.selectedImages.map(function(o){return o.photoID;}).slice(0,k);};l.prototype.getRemovedUploadIDs=function(m){return this.getComposerData(m).removedUploadIDs;};l.prototype.getAddedUploadIDs=function(m){return this.getComposerData(m).addedUploadIDs;};l.prototype.getSelectedImages=function(m){return this.getComposerData(m).selectedImages;};l.prototype.getThumbnailSrc=function(m){var n=this.getComposerData(m).selectedImages;if(n.length>0)return n[0].thumbSrc;return null;};l.prototype.getImagesCrops=function(m){return this.getComposerData(m).imagesCrops;};l.prototype.getNumberOfImages=function(m){return Math.min(this.getComposerData(m).selectedImages.length,k);};l.prototype.getFormat=function(m){return this.getComposerData(m).format;};f.exports=new l();}),null);
__d('ReactComposerSessionMetricsActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({KEYSTROKE:null,PASTE:null},'ReactComposerSessionMetricsActionTypes');}),null);
__d('ReactComposerSessionMetricsStore',['ReactComposerStoreBase','ReactComposerAttachmentActionType','ReactComposerSessionMetricsActionTypes','NavigationMetrics'],(function a(b,c,d,e,f,g){var h,i,j=-1;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l=void 0;i.constructor.call(this,function(){c('NavigationMetrics').addRetroactiveListener(c('NavigationMetrics').Events.NAVIGATION_DONE,function(m,n){var o=n.tti;l.ttiTimestamp=o;});return {composerStartTime:null,keystrokeCount:0,pasteCount:0};},function(m){switch(m.type){case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:l&&l.$ReactComposerSessionMetricsStore1(m);break;case c('ReactComposerSessionMetricsActionTypes').KEYSTROKE:l&&l.$ReactComposerSessionMetricsStore2(m);break;case c('ReactComposerSessionMetricsActionTypes').PASTE:l&&l.$ReactComposerSessionMetricsStore3(m);break;}});this.ttiTimestamp=j;l=this;}k.prototype.getComposerEntryTime=function(l){'use strict';if(this.ttiTimestamp==j){return 0;}else return Math.round((this.getComposerData(l).composerStartTime-this.ttiTimestamp)/1000);};k.prototype.getComposerStartTime=function(l){'use strict';return this.getComposerData(l).composerStartTime;};k.prototype.getKeystrokeCount=function(l){'use strict';return this.getComposerData(l).keystrokeCount;};k.prototype.getPasteCount=function(l){'use strict';return this.getComposerData(l).pasteCount;};k.prototype.$ReactComposerSessionMetricsStore1=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);if(!n.composerStartTime)n.composerStartTime=Date.now();};k.prototype.$ReactComposerSessionMetricsStore2=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.keystrokeCount++;};k.prototype.$ReactComposerSessionMetricsStore3=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.pasteCount++;};f.exports=new k();}),null);
__d('ReactComposerSlideshowActions',['ReactComposerDispatcher','ReactComposerSlideshowActionType','immutable'],(function a(b,c,d,e,f,g){var h={showSlideshowEditField:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').SHOW_SLIDESHOW_EDIT_FIELD});},hideSlideshowEditField:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD});},showSlideshowDialog:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,entrypoint:k,shouldShowSlideshowDialog:true,type:c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG});},closeSlideshowDialog:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,shouldShowSlideshowDialog:false,type:c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG});},showEditSlideshowDialog:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG});},closeEditSlideshowDialog:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG});},selectImagesConfirm:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,selectedImages:k,type:c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM});},removeImage:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,removeImage:k,type:c('ReactComposerSlideshowActionType').IMAGE_REMOVE});},reorderImages:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,data:{fromIndex:k,toIndex:l},type:c('ReactComposerSlideshowActionType').REORDER_IMAGES});},changeStorylineMoodFile:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,selectedStorylineMood:k,type:c('ReactComposerSlideshowActionType').STORYLINE_MOOD_CHANGE});},deleteStorylineMoodFile:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,selectedStorylineMood:k,type:c('ReactComposerSlideshowActionType').STORYLINE_MOOD_DELETE});},changeStorylineMoodIDSource:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,storylineMoodIDSource:k,type:c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_CHANGE});},changeStorylineMoodSourceMap:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,storylineMoodIDToSource:k,type:c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_MAP_CHANGE});},changeTransition:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,transitionInMS:k,type:c('ReactComposerSlideshowActionType').TRANSITION_CHANGE});},changeDuration:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,durationInMS:k,type:c('ReactComposerSlideshowActionType').DURATION_CHANGE});},setStorylineMoodFiles:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,storylineMoodFiles:k,type:c('ReactComposerSlideshowActionType').SET_STORYLINE_MOOD_FILES});},createSlideshow:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').CREATE});},changeFormat:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,format:k,type:c('ReactComposerSlideshowActionType').FORMAT_CHANGE});},selectTab:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,tab:k,type:c('ReactComposerSlideshowActionType').SELECT_TAB});},musicCategorySelect:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,selectedMusicCategory:k,type:c('ReactComposerSlideshowActionType').MUSIC_CATEGORY_SELECT});},previewStateChange:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,isPreviewPlaying:k,type:c('ReactComposerSlideshowActionType').PREVIEW_STATE_CHANGE});},audioFileUploadStarted:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_STARTED});},audioFileUploadError:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_ERROR});},audioFileUploadSuccess:function i(j,k){c('ReactComposerDispatcher').dispatch({composerID:j,uploadedMood:k,type:c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_SUCCESS});}};f.exports=h;}),null);
__d('ReactComposerSlideshowStore',['ReactComposerSlideshowActionType','ReactComposerStoreBase','SlideshowConstants','SlideshowFlowTypes','mergeDeepInto'],(function a(b,c,d,e,f,g){var h,i,j=c('SlideshowFlowTypes').SlideshowTabKey;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {durationInMS:1000,editState:null,isSlideshowSelected:false,selectedTab:j.SETTINGS_TAB,shouldShowSlideshowDialog:false,transitionInMS:c('SlideshowConstants').transitions.None};},function(m){switch(m.type){case c('ReactComposerSlideshowActionType').CREATE:l&&l.$ReactComposerSlideshowStore1(m);break;case c('ReactComposerSlideshowActionType').SHOW_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore2(m);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:l&&l.$ReactComposerSlideshowStore3(m);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore4(m);break;case c('ReactComposerSlideshowActionType').TRANSITION_CHANGE:l&&l.$ReactComposerSlideshowStore5(m);break;case c('ReactComposerSlideshowActionType').DURATION_CHANGE:l&&l.$ReactComposerSlideshowStore6(m);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore7(m);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:l&&l.$ReactComposerSlideshowStore8(m);break;case c('ReactComposerSlideshowActionType').SELECT_TAB:l&&l.$ReactComposerSlideshowStore9(m);break;default:break;}});l=this;}k.prototype.$ReactComposerSlideshowStore1=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;n.shouldShowSlideshowDialog=false;n.editState=null;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore9=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.selectedTab=l.tab;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore2=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=true;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore3=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.isSlideshowSelected=false;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore4=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=l.shouldShowSlideshowDialog;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore5=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.transitionInMS=l.transitionInMS;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore6=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.durationInMS=l.durationInMS;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore7=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m),o={};c('mergeDeepInto')(o,n);n.editState=o;n.shouldShowSlideshowDialog=true;this.emitChange(m);};k.prototype.$ReactComposerSlideshowStore8=function(l){'use strict';var m=l.composerID,n=this.getComposerData(m);n.shouldShowSlideshowDialog=false;n.isSlideshowSelected=true;var o=n.editState;n.durationInMS=o.durationInMS;n.transitionInMS=o.transitionInMS;n.editState=null;this.emitChange(m);};k.prototype.isSlideshowSelected=function(l){'use strict';return this.getComposerData(l).isSlideshowSelected;};k.prototype.isEditing=function(l){'use strict';return this.getComposerData(l).editState!==null;};k.prototype.shouldShowSlideshowDialog=function(l){'use strict';return this.getComposerData(l).shouldShowSlideshowDialog;};k.prototype.getDurationInMS=function(l){'use strict';return this.getComposerData(l).durationInMS;};k.prototype.getTotalLength=function(l,m){'use strict';return this.getDurationInMS(l)*m+this.getTransitionInMS(l)*m;};k.prototype.getTransitionInMS=function(l){'use strict';return this.getComposerData(l).transitionInMS;};k.prototype.getSelectedTab=function(l){'use strict';return this.getComposerData(l).selectedTab;};f.exports=new k();}),null);
__d('ReactComposerSlideshowAudioStore',['ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerSelectedImagesStore','ReactComposerSlideshowActionType','ReactComposerSlideshowActions','ReactComposerSlideshowStore','ReactComposerStoreBase','SlideshowAudioUtil','SlideshowDataManager','SlideshowMusicCategory','SlideshowUtil','mergeDeepInto','immutable'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {audioFileUploadInfo:{isUploading:false,hasError:false},editState:null,isPreviewPlaying:false,recentlyUsedStorylineMoods:new (c('immutable').List)(),selectedMusicCategory:c('SlideshowMusicCategory').ALL_TRACKS,selectedStorylineMood:null,storylineMoodFiles:new (c('immutable').List)(),storylineMoodIDToSource:new (c('immutable').Map)()};},function(l){switch(l.type){case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:k&&k.$ReactComposerSlideshowAudioStore1(l,function(){c('ReactComposerSlideshowActions').previewStateChange(l.composerID,false);});break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_CHANGE:k&&k.$ReactComposerSlideshowAudioStore2(l);k&&k.$ReactComposerSlideshowAudioStore1(l,function(){c('ReactComposerSlideshowActions').previewStateChange(l.composerID,true);});break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_DELETE:k&&k.$ReactComposerSlideshowAudioStore3(l);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore4(l);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowAudioStore5(l);break;case c('ReactComposerSlideshowActionType').DURATION_CHANGE:k&&k.$ReactComposerSlideshowAudioStore1(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:k&&k.$ReactComposerSlideshowAudioStore1(l);break;case c('ReactComposerSlideshowActionType').SET_STORYLINE_MOOD_FILES:k&&k.$ReactComposerSlideshowAudioStore6(l);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore7(l);break;case c('ReactComposerSlideshowActionType').STORYLINE_MOOD_SOURCE_MAP_CHANGE:k&&k.$ReactComposerSlideshowAudioStore8(l);break;case c('ReactComposerSlideshowActionType').MUSIC_CATEGORY_SELECT:k&&k.$ReactComposerSlideshowAudioStore9(l);break;case c('ReactComposerSlideshowActionType').PREVIEW_STATE_CHANGE:k&&k.$ReactComposerSlideshowAudioStore10(l);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_STARTED:k&&k.$ReactComposerSlideshowAudioStore11(l);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_ERROR:k&&k.$ReactComposerSlideshowAudioStore12(l);break;case c('ReactComposerSlideshowActionType').AUDIO_FILE_UPLOAD_SUCCESS:k&&k.$ReactComposerSlideshowAudioStore13(l);break;default:break;}});k=this;}j.prototype.$ReactComposerSlideshowAudioStore1=function(k,l){'use strict';var m=k.composerID,n=this.getComposerData(m),o=n.selectedStorylineMood;if(!o)return;var p=o.moodID,q=this.getNumberOfImages(m),r=q===0?c('SlideshowUtil').getMaximumTotalLengthInMS():this.getTotalLength(m,q),s=this.getStorylineMoodIDToSource(m);c('SlideshowDataManager').fetchStorylineMoodSource(p,r,function(t){c('ReactComposerSlideshowActions').changeStorylineMoodIDSource(m,t);s=s.set(p,t);c('ReactComposerSlideshowActions').changeStorylineMoodSourceMap(m,s);if(l)l();});n.selectedStorylineMood.source=s.get(p);this.emitChange(m);};j.prototype.$ReactComposerSlideshowAudioStore11=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=true;m.audioFileUploadInfo.hasError=false;m.selectedMusicCategory=c('SlideshowMusicCategory').USER_UPLOADED;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore12=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=false;m.audioFileUploadInfo.hasError=true;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore13=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileUploadInfo.isUploading=false;m.audioFileUploadInfo.hasError=false;m.storylineMoodFiles=m.storylineMoodFiles.unshift(k.uploadedMood);this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore9=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.selectedMusicCategory=k.selectedMusicCategory;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore4=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n={};c('mergeDeepInto')(n,m);m.editState=n;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore5=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=m.editState;m.selectedStorylineMood=n.selectedStorylineMood;m.selectedMusicCategory=n.selectedMusicCategory;m.editState=null;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore2=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.selectedStorylineMood=k.selectedStorylineMood;if(k.selectedStorylineMood!=null)m.recentlyUsedStorylineMoods=m.recentlyUsedStorylineMoods.unshift(k.selectedStorylineMood);this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore3=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=k.selectedStorylineMood;if(c('SlideshowAudioUtil').storylineMoodCompare(n,m.selectedStorylineMood)){m.selectedStorylineMood=null;m.isPreviewPlaying=false;}m.storylineMoodFiles=m.storylineMoodFiles.filter(function(o){return !c('SlideshowAudioUtil').storylineMoodCompare(o,n);});c('SlideshowDataManager').deleteAudioFile(n.moodID);this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore7=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);if(!m.selectedStorylineMood)return;m.selectedStorylineMood.source=k.storylineMoodIDSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore8=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.storylineMoodIDToSource=k.storylineMoodIDToSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore10=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isPreviewPlaying=k.isPreviewPlaying;this.emitChange(l);};j.prototype.$ReactComposerSlideshowAudioStore6=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.storylineMoodFiles=k.storylineMoodFiles;this.emitChange(l);};j.prototype.getNumberOfImages=function(k){'use strict';c('ReactComposerDispatcher').waitFor([c('ReactComposerSelectedImagesStore').getDispatchToken()]);return c('ReactComposerSelectedImagesStore').getNumberOfImages(k);};j.prototype.getStorylineMoodFiles=function(k){'use strict';return this.getComposerData(k).storylineMoodFiles.toArray();};j.prototype.getRecentlyUsedStorylineMoods=function(k){'use strict';return this.getComposerData(k).recentlyUsedStorylineMoods.toArray();};j.prototype.getSelectedStorylineMood=function(k){'use strict';return this.getComposerData(k).selectedStorylineMood;};j.prototype.getStorylineMoodIDToSource=function(k){'use strict';return this.getComposerData(k).storylineMoodIDToSource;};j.prototype.getSelectedMusicCategory=function(k){'use strict';return this.getComposerData(k).selectedMusicCategory;};j.prototype.getIsPreviewPlaying=function(k){'use strict';return this.getComposerData(k).isPreviewPlaying;};j.prototype.getAudioFileUploadInfo=function(k){'use strict';return this.getComposerData(k).audioFileUploadInfo;};j.prototype.getTotalLength=function(k,l){'use strict';c('ReactComposerDispatcher').waitFor([c('ReactComposerSlideshowStore').getDispatchToken()]);return c('ReactComposerSlideshowStore').getTotalLength(k,l);};f.exports=new j();}),null);
__d('ReactComposerPostDataUtils',['ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerAudienceStore','ReactComposerLoggingStore','ReactComposerMediaUploadType','ReactComposerMinutiaeAttachmentStore','ReactComposerPhotoStore','ReactComposerPostUtilsCore','ReactComposerPromptsStore','ReactComposerScrapedAttachmentStore','ReactComposerSessionMetricsStore','ReactComposerStatusStore','ReactComposerStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerSelectedImagesStore','ReactComposerSlideshowAudioStore','ReactComposerSlideshowStore','ComposerXMarauderLogger','PhotoEditorLoggingConstants','PhotoEditorSaveStates','PlaceAttachmentSetting','PUWApplications','SlideshowUtil','ifRequired','isNumberLike','StorySurfaces'],(function a(b,c,d,e,f,g){var h={getPostData:function i(j){var k=j.composerID,l=j.targetID,m=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').PEOPLE)||[],n=[],o=[];m.forEach(function(kb){n.push(kb.getTitle());o.push(kb.getUniqueID());});var p=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').PRODUCT)||[];p=p.filter(function(kb){return !kb.getAuxiliaryData().isFacebox;});var q=p.map(function(kb){return kb.getUniqueID();}),r=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').ISSUE_TAG)||[],s=r.map(function(kb){return kb.getUniqueID();}),t=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').CONTACT_YOUR_REPRESENTATIVE),u=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').ACTIVITY),v=[],w=[],x=[],y;if(u&&u.action&&u.object){v.push(u.action.getUniqueID());y=u.actionIconID;if(c('isNumberLike')(u.object.getUniqueID())&&u.object.getUniqueID()!==u.object.getTitle()){w.push(u.object.getUniqueID());x.push('');}else x.push(u.object.getTitle());}else if(t.politicalRepresentative&&!c('ReactComposerScrapedAttachmentStore').hasAttachment(k))c('ifRequired')('ContactYourRepresentativeConsts',function(kb){v.push(kb.composer_action_id);w.push(t.politicalRepresentative.getUniqueID());x.push('');});var z=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').STICKER),aa=z&&z.stickerID?z.stickerID:0,ba=c('ReactComposerMinutiaeAttachmentStore').getHideObjectAttachment(k),ca=c('ifRequired')('ReactComposerLocationAttachmentStore',function(kb){ca=kb.getMarkup(k)!==null?c('PlaceAttachmentSetting').SHOW_ATTACHMENT:c('PlaceAttachmentSetting').HIDE_ATTACHMENT;},function(){return c('PlaceAttachmentSetting').HIDE_ATTACHMENT;}),da=[],ea=[],fa='';c('ifRequired')('ReactComposerMultilingualStatusStore',function(kb){da=kb.getMessages(k);ea=kb.getLanguageDialects(k);fa=kb.getSpecifiedPostLanguage(k);});var ga=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').LOCATION),ha=ga?ga.place:null,ia=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').BACKDATE)||{},ja={year:this._sanitizeDateField(ia.year),month:this._sanitizeDateField(ia.month),day:this._sanitizeDateField(ia.day),hour:this._sanitizeDateField(ia.hour),minute:this._sanitizeDateField(ia.minute)},ka=ga&&ga.implicitLocation?ga.implicitLocation.citypageid:null,la=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').SPONSOR)||{},ma={directShareStatus:la.directShareStatus,sponsorRelationship:la.sponsorRelationship,sponsors:[]};la.sponsors.map(function(kb){ma.sponsors.push(kb.getUniqueID());});var na=c('ReactComposerAudienceStore').getCollectionID(k),oa=null;if(!na){var pa=c('ReactComposerAudienceStore').getLegacyAudience(k);if(pa)oa=[{value:pa}];}var qa=j.useHints,ra=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').TARGETING),sa=ra&&!na?qa?ra.hints:ra.targeting:null;if(sa!=null){if(!qa&&sa.fan_of)sa.fan_of=sa.fan_of.map(function(kb){return kb.id;});c('ifRequired')('AdsAPITargetFields',function(kb){if(kb&&sa&&qa&&sa[kb.INTERESTS])sa[kb.INTERESTS]=sa[kb.INTERESTS].map(function(lb){return lb.id;});});}var ta=ra&&!na?ra.gating:null;if(j.composerConfig.contextInfo.stopFeedDistributionDateFormatted){if(!sa)sa={};sa['relevant-until-date']=j.composerConfig.contextInfo.stopFeedDistributionDateFormatted;sa['relevant-until-time']=j.composerConfig.contextInfo.stopFeedDistributionTimeFormatted;}var ua=c('ifRequired')('PagesComposerBoostedPostsStore',function(kb){return kb.getConfig(k);},function(){return null;}),va=c('ReactComposerScrapedAttachmentStore').getAttachmentConfig(k);if(va===null)c('ifRequired')('ReactComposerCTAStore',function(kb){va=kb.getAttachmentConfig(k);});var wa=c('ReactComposerTaggerStore').hasMarkdown(k);c('ifRequired')('ReactComposerMarkdownStore',function(kb){wa=wa||kb.isMarkdownEnabled(k);});var xa=c('ReactComposerTaggerStore').getPoliticalDistrictInfo(k),ya=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').CONTENT_WARNINGS);if(ya!=null)ya=ya.map(function(kb){return kb.getUniqueID();});var za=null;c('ifRequired')('ReactComposerTopicFeedsTaggerStore',function(kb){if(!kb.getIsDarkLaunch(k))za=kb.getTaggedTopics(k).toArray();});var ab=c('ReactComposerPromptsStore').getPromptData(k),bb=null;c('ifRequired')('ReactComposerCustomConfigStore',function(kb){bb=kb.isFeedOnlyPost(k)?[c('StorySurfaces').TIMELINE]:null;});var cb=c('ReactComposerSessionMetricsStore').getComposerStartTime(k),db=null;if(cb)db=Math.round((Date.now()-cb)/1000);var eb=false;c('ifRequired')('ReactComposerProfileBadgeStore',function(kb){eb=kb.hasProfileBadge(k);});var fb=c('ComposerXMarauderLogger').getInstance(k),gb=fb&&fb.composerSourceSurface,hb=j.composerConfig.attachmentsConfig&&j.composerConfig.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],ib=hb&&hb.richTextEditor,jb=na?null:c('ReactComposerAudienceStore').getAudience(k);return Object.assign(babelHelpers['extends']({},c('ReactComposerStatusStore').getRichTextBlocks(k),{action_type_id:v,album_id:na,attachment:va,backdated_date:ja,boosted_post_config:ua,audience:oa,composer_entry_time:c('ReactComposerSessionMetricsStore').getComposerEntryTime(k),composer_session_id:c('ReactComposerLoggingStore').getSessionID(k),composer_session_duration:db,composer_source_surface:gb,composer_type:j.composerType,composertags_city:ka,composertags_issues:s,composertags_place:ha&&ha.getUniqueID()||ka,composertags_place_name:ha&&ha.getTitle(),composertags_with:o,composertags_sponsors:ma.sponsors,direct_share_status:ma.directShareStatus,sponsor_relationship:ma.sponsorRelationship,composertags_product_items:q,content_warnings:ya,feed_targeted_data:sa,feed_topics:za,hide_object_attachment:ba,icon_id:y,is_explicit_place:!!ha,is_markdown:wa,is_q_and_a:c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').QANDA),is_profile_badge_post:eb,political_district_info:xa,multilingual_statuses:da,multilingual_status_langs:ea,multilingual_specified_lang:fa,num_keystrokes:c('ReactComposerSessionMetricsStore').getKeystrokeCount(k),num_pastes:c('ReactComposerSessionMetricsStore').getPasteCount(k),object_id:w,object_str:x,place_attachment_setting:ca,post_surfaces_blacklist:bb,privacyx:jb,prompt_id:ab?ab.promptID:null,prompt_tracking_string:ab?ab.trackingString:null,ref:c('ReactComposerStore').getRef(k),xc_sticker_id:aa,tagger_session_id:ga&&ga.sessionID,target_type:c('ReactComposerStore').getTargetType(k),targeted_privacy_data:ta,text_composertags_with:n,xhpc_message:c('ReactComposerStatusStore').getMessage(k,ib&&!wa),xhpc_message_text:c('ReactComposerStatusStore').getMessageText(k),is_forced_reshare_of_post:va&&va.reshare_original_post,xc_disable_config:{xc_disable_link:va&&va.readOnly}}),this._getScrapedAttachmentData(va),c('ReactComposerPostUtilsCore').getCoreData(k,j.composerConfig.contextInfo,l));},getMediaUploadsData:function i(j,k){var l=c('ReactComposerPhotoStore').getPhotos(j);k=k.filter(function(m){return m.mediaType===c('ReactComposerMediaUploadType').VIDEO?true:l.some(function(n){return n.id===m.photoID;});});return this.getMediaDataWithoutFiltering(j,k);},getMediaDataWithoutFiltering:function i(j,k){var l=k.map(function(o){return o.photoID;}).toArray(),m=c('ReactComposerSlideshowStore').isSlideshowSelected(j),n=null;if(m)n=this._getSlideshowSpec(j);return Object.assign({composer_unpublished_photo:l,qn:c('ReactComposerLoggingStore').getSessionID(j),slideshow_spec:n,waterfallxapp:c('PUWApplications').WEB_REACT_COMPOSER,xy_tags:this._getXYTagData(j)},this._getCreativeEditingToolsData(k));},_sanitizeDateField:function i(j){return !j||j===-1||j===0?null:j;},_getSlideshowSpec:function i(j){var k=c('ReactComposerSlideshowAudioStore').getSelectedStorylineMood(j),l=null;if(k!=null)l=k.moodID;var m=c('ReactComposerSlideshowStore').getDurationInMS(j),n=c('ReactComposerSlideshowStore').getTransitionInMS(j),o=c('ReactComposerSelectedImagesStore').getNumberOfImages(j),p=c('SlideshowUtil').getTotalLengthInSec(m,o),q=c('SlideshowUtil').getDurationParam(o,p,n);return {photo_ids:c('ReactComposerSelectedImagesStore').getPhotoIDs(j),images_crops:c('ReactComposerSelectedImagesStore').getImagesCrops(j),photo_duration:q.durationInMS,photo_transition_duration:q.transitionInMS,storyline_mood_id:l};},_getXYTagData:function i(j){var k=c('ReactComposerPhotoStore').getAllTaggedFaceboxes(j).map(function(m){return {fbid:m.get('photoID'),x:m.get('x'),y:m.get('y'),name:m.get('taggedValue'),subject:m.get('taggedSubjectID'),from_facebox:true,source:m.get('isMagicTag')?'composerx_suggestions':'composerx_flyout'};}),l=c('ReactComposerPhotoStore').getAllXYTags(j).map(function(m){return {fbid:m.get('photoID'),x:m.get('x'),y:m.get('y'),name:m.get('name'),subject:m.get('subject'),from_facebox:m.get('from_facebox'),source:m.get('source')};});return k.concat(l);},_getCreativeEditingToolsData:function i(j){var k={},l={},m={},n={};j.forEach(function(p){var q=p.get('photoID'),r=c('PhotoEditorSaveStates').getLoggingData(p.get('originalPhotoID'));if(r){k[q]=r.hasFilter?true:null;l[q]=r.hasCrop?true:null;m[q]=r.textOverlays;n[q]=r.stickers;}});var o={};o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_HAS_FILTER]=k;o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_HAS_CROP]=l;o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_TEXT_OVERLAY]=m;o[c('PhotoEditorLoggingConstants').COMPOSER_IMAGE_STICKER]=n;return o;},_getScrapedAttachmentData:function i(j){if(!j||!j.params||j.readOnly)return null;return {xc_share_params:JSON.stringify(j.params),xc_share_target_type:j.type,xc_share_images:j.params.images,xc_share_title:j.params.title,xc_share_summary:j.params.summary,xc_link_url:j.params.url};}};f.exports=h;}),null);
__d('LiveVideoBroadcastUtils',['cx','LiveVideoBroadcastActions','ReactComposerAttachmentType','ReactComposerCustomConfigStore','ReactComposerLiveVideoActions','ReactComposerLiveVideoAttachmentStore','ReactComposerLoggingName','ReactComposerPostDataUtils','ReactComposerTaggerActions','ReactComposerTaggerType','CSS','DialogX','DOM','LayerDestroyOnHide','LayerHideOnTransition','LiveVideoBroadcastDispatcher','LiveVideoBroadcastFunnelLogger','React','ReactDOM','StorySurfaces','Style','XUISpinner.react','uniqueID','LiveVideoBroadcastUIStore'],(function a(b,c,d,e,f,g,h){'use strict';function i(q){var r={};for(var s=Object.values(q),t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v;if(w.type==='ssrc'){r['ssrc_'+w.mediaType]=w;}else if(w.type==='VideoBwe')r.video_bwe=w;}return r;}function j(q,r,s){c('ReactComposerTaggerActions').setTaggerData(q.composerID,c('ReactComposerLoggingName').STICKER_SPROUT,c('ReactComposerTaggerType').STICKER,null);var t=c('ReactComposerLiveVideoAttachmentStore').getFunnelTags(q.composerID),u=r.attachmentsConfig[c('ReactComposerAttachmentType').LIVE_VIDEO].composerDialog;c('LiveVideoBroadcastFunnelLogger').maybeStartAndLaunchLiveComposer(q.composerID,s,u);if(t)c('LiveVideoBroadcastFunnelLogger').addFunnelTags(t);k(q,r);c('ReactComposerLiveVideoActions').previewStarted(q.composerID,{actorID:q.actorID,config:r,targetID:q.targetID});}function k(q,r){var s={fixedTopPosition:42,width:500,xui:true,addedBehaviors:[c('LayerDestroyOnHide'),c('LayerHideOnTransition')]},t=c('uniqueID')(),u=c('DOM').create('div');c('ReactDOM').render(c('React').createElement('div',null,c('React').createElement('div',{id:t},c('React').createElement(c('XUISpinner.react'),{background:'dark',className:"_275v",size:'large'}))),u);var v=new (c('DialogX'))(s,u);c('CSS').addClass(v.getRoot(),"_2k_g");c('Style').set(v.getContentRoot(),'width','100%');v.show();c('LiveVideoBroadcastDispatcher').explicitlyRegisterStores([c('LiveVideoBroadcastUIStore')]);c('LiveVideoBroadcastActions').setDialog(v);c('LiveVideoBroadcastActions').setDialogContainerID(t);c('LiveVideoBroadcastActions').setComposerConfig({config:r,contextConfig:q,composerID:q.composerID});}function l(q,r,s){var t=c('ReactComposerPostDataUtils').getPostData({composerID:q,targetID:r,composerConfig:{contextInfo:s}}),u=c('ReactComposerCustomConfigStore').isFeedOnlyPost(q)?[c('StorySurfaces').TIMELINE]:null,v={};Object.assign(v,{description:t.xhpc_message,is_explicit_place:t.is_explicit_place,place:t.composertags_place,post_surfaces_blacklist:u,composertags_sponsors:t.composertags_sponsors,direct_share_status:t.direct_share_status,sponsor_relationship:t.sponsor_relationship});if(t.object_id.length>0){v.og_object_id=t.object_id[0];}else if(t.object_str.length>0)v.og_object_str=t.object_str[0];if(t.action_type_id.length>0)v.og_action_type_id=t.action_type_id[0];if(t.icon_id)v.og_icon_id=t.icon_id;if(t.privacyx)v.privacyx=t.privacyx;if(t.composertags_with.length>0)v.with_tags=t.composertags_with;if(t.political_district_info&&t.political_district_info.politicalDistrict)v.political_district=t.political_district_info.politicalDistrict;return v;}function m(q,r,s){c('LiveVideoBroadcastActions').setDescription({description:q,shortDescription:r});c('LiveVideoBroadcastActions').setTagList(s);}function n(q){c('LiveVideoBroadcastDispatcher').explicitlyRegisterStores([c('LiveVideoBroadcastUIStore')]);c('LiveVideoBroadcastActions').setPeopleTaggerSource(q.bootstrapData.attachmentData.taggersSource.PEOPLE);j(q.contextConfig,q.config,true);}function o(q){c('LiveVideoBroadcastActions').setInviteFriendsSuggestions(q);}var p={reduceWebRTCStats:i,startPreviewUI:j,getComposerFormData:l,updateBroadcastUIState:m,startPreviewUIFromServer:n,updateInviteFriendsSuggestions:o};f.exports=p;}),null);
__d('ReactComposerLiveVideoAttachmentSelector.react',['fbt','ix','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerLoggingName','LiveVideoBroadcastUtils','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n=null;if(this.props.useComposerDialog)n=function(){if(!this.props.config||!this.props.contextConfig)return;c('LiveVideoBroadcastUtils').startPreviewUI(this.props.contextConfig,this.props.config,true);}.bind(this);return c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').LIVE_VIDEO,label:this.props.label,icon:i("101619"),'data-testid':'live-video-attachment-selector',loggingName:c('ReactComposerLoggingName').LIVE_VIDEO_TAB_SELECTOR,onAfterSelected:n});};function m(){'use strict';j.apply(this,arguments);}m.propTypes={label:l.node};m.defaultProps={label:h._("Live Video")};f.exports=m;}),null);
__d("XReactComposerLiveVideoAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/live_video\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"Int",required:true}});}),null);
__d('ReactComposerLiveVideoLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerLoadableAttachmentBodyMixin','ActorURI','Bootloader','React','XReactComposerLiveVideoAttachmentBootstrapController'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerLiveVideoLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],propTypes:{selected:h.bool},statics:{attachmentID:c('ReactComposerAttachmentType').LIVE_VIDEO},bootload:function j(k){c('Bootloader').loadModules(["ReactComposerLiveVideoAttachmentContainer.react"],k,'ReactComposerLiveVideoLazyAttachment.react');},getBootstrapURI:function j(){return c('ActorURI').create(c('XReactComposerLiveVideoAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).getURI(),this.context.actorID);}});f.exports=i;}),null);
__d("CollageLayoutConfig",[],(function a(b,c,d,e,f,g){var h=4;function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?h:arguments[2];"use strict";this.$CollageLayoutConfig2=l;this.$CollageLayoutConfig3=k;this.$CollageLayoutConfig5(j);}i.prototype.getItemStyleInfos=function(){"use strict";return this.$CollageLayoutConfig1;};i.prototype.getIndexForPoint=function(j,k){"use strict";var l=this.$CollageLayoutConfig1.findIndex(function(m){return m.left<=j&&m.top<=k&&m.left+m.width>=j&&m.top+m.height>=k;});return l===-1?null:l;};i.prototype.getCalculatedHeight=function(){"use strict";return this.$CollageLayoutConfig4;};i.prototype.getSpacing=function(){"use strict";return this.$CollageLayoutConfig2;};i.prototype.getWidth=function(){"use strict";return this.$CollageLayoutConfig3;};i.prototype.$CollageLayoutConfig5=function(j){"use strict";var k=this.$CollageLayoutConfig6(j),l=this.$CollageLayoutConfig7(j),m=this.$CollageLayoutConfig2*(l-1),n=Math.ceil((this.$CollageLayoutConfig3-m)/l);this.$CollageLayoutConfig4=(n+this.$CollageLayoutConfig2)*k-this.$CollageLayoutConfig2;this.$CollageLayoutConfig1=[];j.forEach(function(o){var p={left:(n+this.$CollageLayoutConfig2)*o.x,top:(n+this.$CollageLayoutConfig2)*o.y,width:(n+this.$CollageLayoutConfig2)*o.width-this.$CollageLayoutConfig2,height:(n+this.$CollageLayoutConfig2)*o.height-this.$CollageLayoutConfig2};if(p.left+p.width>this.$CollageLayoutConfig3)p.width=this.$CollageLayoutConfig3-p.left;this.$CollageLayoutConfig1.push(p);}.bind(this));};i.prototype.$CollageLayoutConfig7=function(j){"use strict";var k=0;j.forEach(function(l){k=Math.max(k,l.x+l.width);});return k;};i.prototype.$CollageLayoutConfig6=function(j){"use strict";var k=0;j.forEach(function(l){k=Math.max(k,l.y+l.height);});return k;};f.exports=i;}),null);
__d('ReactComposerMediaAspect',['ReactComposerMediaAspectTypes'],(function a(b,c,d,e,f,g){'use strict';f.exports={fromRect:function h(i){return this._fromWidthAndHeight(i.w(),i.h());},fromDimensions:function h(i){return this._fromWidthAndHeight(i[0],i[1]);},_fromWidthAndHeight:function h(i,j){if(i>j){return c('ReactComposerMediaAspectTypes').LANDSCAPE;}else if(i<j){return c('ReactComposerMediaAspectTypes').PORTRAIT;}else return c('ReactComposerMediaAspectTypes').SQUARE;}};}),null);
__d('ReactComposerCollageLayoutModel',['regeneratorRuntime','Map','ReactComposerCollageLayoutActor','ReactComposerMediaAspect'],(function a(b,c,d,e,f,g){var h=[i,j].map(c('regeneratorRuntime').mark);'use strict';function i(l,m){var n,o;return c('regeneratorRuntime').wrap(function p(q){while(1)switch(q.prev=q.next){case 0:n=l.next();o=m.next();if(!(n.done||o.done)){q.next=5;break;}return q.abrupt('break',9);case 5:q.next=7;return [n.value,o.value];case 7:q.next=0;break;case 9:case 'end':return q.stop();}},h[0],this);}function j(l){var m,n,o,p,q;return c('regeneratorRuntime').wrap(function r(s){while(1)switch(s.prev=s.next){case 0:m=l,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();case 1:if(!n){s.next=7;break;}if(!(o>=m.length)){s.next=4;break;}return s.abrupt('break',16);case 4:p=m[o++];s.next=11;break;case 7:o=m.next();if(!o.done){s.next=10;break;}return s.abrupt('break',16);case 10:p=o.value;case 11:q=p;s.next=14;return q;case 14:s.next=1;break;case 16:case 'end':return s.stop();}},h[1],this);}function k(l,m){'use strict';this.$ReactComposerCollageLayoutModel1=!!(l&c('ReactComposerCollageLayoutActor').USER);this.$ReactComposerCollageLayoutModel2=!!(l&c('ReactComposerCollageLayoutActor').PAGE);this.$ReactComposerCollageLayoutModel3=[];if(m)this.addPhotoLayouts(m);}k.prototype.addPhotoLayout=function(l){'use strict';this.$ReactComposerCollageLayoutModel3.push(l);return this;};k.prototype.addPhotoLayouts=function(l){'use strict';l.forEach(function(m){return this.$ReactComposerCollageLayoutModel3.push(m);}.bind(this));return this;};k.prototype.getNumPhotoLayouts=function(){'use strict';return this.$ReactComposerCollageLayoutModel3.length;};k.prototype.getPhotoLayouts=function(){'use strict';return this.$ReactComposerCollageLayoutModel3;};k.prototype.getIsValidForPages=function(){'use strict';return this.$ReactComposerCollageLayoutModel2;};k.prototype.getIsValidForUsers=function(){'use strict';return this.$ReactComposerCollageLayoutModel1;};k.prototype.getIsValidFor=function(l){'use strict';switch(l){case c('ReactComposerCollageLayoutActor').USER:return this.getIsValidForUsers();case c('ReactComposerCollageLayoutActor').PAGE:return this.getIsValidForPages();}return false;};k.prototype.hasMatchingCollagePhotoLayoutType=function(l){'use strict';var m=c('ReactComposerMediaAspect').fromRect(this.$ReactComposerCollageLayoutModel3[0]),n=c('ReactComposerMediaAspect').fromDimensions(l);return m===n;};k.prototype.score=function(l){'use strict';var m=0;for(var n=i(j(this.getPhotoLayouts()),l.values()),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q,s=r[0],t=r[1];if(!t)continue;var u=s.w(),v=s.h(),w=t[0],x=t[1],y=0;if(w===0||x===0){y=0;}else if(u*x/w>=v){var z=u*x/w;y=(z-v)/z;}else if(v*w/x>u){var aa=v*w/x;y=(aa-u)/aa;}m-=y*100;if(x===w){m-=y*5;}else if(u>v){if(w>x){m+=y*25;}else m-=y*25;}else if(u<v){if(w<x){m+=y*25;}else m-=y*25;}else if(u===v)m-=y*5;}m+=200*this.getNumPhotoLayouts();return m;};f.exports=k;}),null);
__d('ReactComposerCollageLayoutData',['ReactComposerCollageLayoutModel','ReactComposerJSONCollageLayoutData','Rect'],(function a(b,c,d,e,f,g){'use strict';var h=[];Object.keys(c('ReactComposerJSONCollageLayoutData')).forEach(function(i){c('ReactComposerJSONCollageLayoutData')[i].forEach(function(j){h.push(new (c('ReactComposerCollageLayoutModel'))(j.validActors,j.photoLayouts.map(function(k){return new (Function.prototype.bind.apply(c('Rect'),[null].concat(k)))();})));});});f.exports=h;}),null);
__d('ReactComposerCollageLayoutSelection',['Map','FBID','Rect','ReactComposerCollageLayoutActor','ReactComposerCollageLayoutData','ReactComposerCollageLayoutModel'],(function a(b,c,d,e,f,g){'use strict';f.exports={MAX_NUM_COLS:6,MAX_NUM_ROWS:6,_getCollageLayoutsFor:function h(i){return c('ReactComposerCollageLayoutData').filter(function(j){return j.getIsValidFor(i);});},getMaxPhotosSupported:function h(){return Math.max.apply(Math,c('ReactComposerCollageLayoutData').map(function(i){return i.getNumPhotoLayouts();}));},getMaxPhotosSupportedFor:function h(i){return Math.max.apply(Math,this._getCollageLayoutsFor(i).map(function(j){return j.getNumPhotoLayouts();}));},getCollageLayout:function h(i,j){if(j===0)return this.getBestUserCollageLayout(i);var k=c('FBID').isUser(j)?this.getBestUserCollageLayout(i):this.getBestPageCollageLayout(i);return k;},getBestPageCollageLayout:function h(i){if(i.size==0)return new (c('Map'))();var j=i.values().next().value,k=Math.min(this.getMaxPhotosSupportedFor(c('ReactComposerCollageLayoutActor').PAGE),i.size),l=this._getCollageLayoutsFor(c('ReactComposerCollageLayoutActor').PAGE).filter(function(x){return x.getNumPhotoLayouts()===k;});if(!l.length)throw new Error('no valid layout for these media');var m=l.filter(function(x){return x.hasMatchingCollagePhotoLayoutType(j);});if(!m.length)throw new Error('no valid layout for these media starts with a suitable aspect');var n=m[0],o=new (c('Map'))(),p=0,q=n.getPhotoLayouts();for(var r=i.keys(),s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var u;if(s){if(t>=r.length)break;u=r[t++];}else{t=r.next();if(t.done)break;u=t.value;}var v=u,w=q[p++];if(w)o.set(v,w);}return o;},getBestUserCollageLayout:function h(i){var j=this._getCollageLayoutsFor(c('ReactComposerCollageLayoutActor').USER).filter(function(u){return u.getNumPhotoLayouts()<=i.size;});if(!j.length)throw new Error('no valid layout for these media');var k=this._bestLayoutByScore(j,i);if(!k)throw new Error('no best layout? Should not happen!');var l=new (c('Map'))(),m=0,n=k.getPhotoLayouts();for(var o=i.keys(),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r,t=n[m++];if(t)l.set(s,t);}return l;},_bestLayoutByScore:function h(i,j){var k=i.map(function(n){return [n,n.score(j)];}),l=k.reduce(function(n,o){var p=n[0],q=n[1],r=o[0],s=o[1];return q===null||s>q?[r,s]:[p,q];},[null,null]),m=l[0];return m;}};}),null);
__d('ReactComposerCollageUtils',['CollageLayoutConfig','ReactComposerCollageLayoutSelection','immutable','Map'],(function a(b,c,d,e,f,g){var h={extractDimensionDataIfValid:function i(j){var k=true,l=new (c('Map'))();j.forEach(function(m){if(!m.width||!m.height){k=false;return;}var n=m.width,o=m.height;if(m.isSpherical)n=o;l.set(m.id,[n,o]);});return k?l:null;},getCollageLayout:function i(j){if(!j||j.size<2)return [];var k=h.extractDimensionDataIfValid(j);if(!k)return [];var l=c('ReactComposerCollageLayoutSelection').getBestUserCollageLayout(k);if(!l)return [];var m=[];for(var n=k.keys(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q,s=l.get(r);if(!s)return [];m.push({x:s.l,y:s.t,width:s.w(),height:s.h()});}return m;},getCollageLayoutConfig:function i(j,k){var l=j.filter(function(n){return n.width&&n.height;}),m=h.getCollageLayout(l);return new (c('CollageLayoutConfig'))(m,k);},getSingleItemStyleInfo:function i(j,k){var l=[],m=k,n=j.width/j.height;if(j.isSpherical)n=1;if(n>1){m=k/n;}else k=n*m;l.push({left:0,top:0,width:k,height:m});return l;}};f.exports=h;}),null);
__d('ReactComposerMediaAttachmentSelector.react',['fbt','ix','ReactComponentWithPureRenderMixin','React','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerLoggingName'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerMediaAttachmentSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{isInMoreButton:j.bool,label:j.string},getDefaultProps:function l(){return {label:h._("Photo\/Video")};},render:function l(){return c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').MEDIA,label:this.props.label,icon:i("40533"),'data-testid':'media-attachment-selector',loggingName:c('ReactComposerLoggingName').MEDIA_TAB_SELECTOR,tabIndex:this.props.isInMoreButton?'-1':undefined});}});f.exports=k;}),null);
__d('ReactComposerBootloaderPropTypes',['React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes;f.exports=h.shape({statusAttachment:h.func.isRequired,mediaAttachment:h.func.isRequired,qandaAttachment:h.func,questionAttachment:h.func,extraAttachment:h.func});}),null);
__d("XReactComposerMediaAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/media\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"String",required:true}});}),null);
__d('ReactComposerMediaInitUtils',['ActorURI','Bootloader','XReactComposerMediaAttachmentBootstrapController'],(function a(b,c,d,e,f,g){var h={bootload:function i(j){c('Bootloader').loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerMediaAttachmentPostButtonContainer.react"],j,'ReactComposerMediaInitUtils');},getBootstrapURI:function i(j,k,l,m){return c('ActorURI').create(c('XReactComposerMediaAttachmentBootstrapController').getURIBuilder().setString('composer_id',j).setEnum('composer_type',k).setString('target_id',l).getURI(),m);}};f.exports=h;}),null);
__d('ReactComposerMediaLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','ReactComposerMediaInitUtils','React'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerMediaLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],propTypes:{additionalTaggers:h.arrayOf(h.shape({button:h.element.isRequired,container:h.element.isRequired})),additionalFooterActions:h.arrayOf(h.element),bootloader:c('ReactComposerBootloaderPropTypes')},statics:{attachmentID:c('ReactComposerAttachmentType').MEDIA},bootload:function j(k){if(this.props.bootloader){this.props.bootloader.mediaAttachment(k);}else c('ReactComposerMediaInitUtils').bootload(k);},getBootstrapURI:function j(){return c('ReactComposerMediaInitUtils').getBootstrapURI(this.context.composerID,this.context.composerType,this.context.targetID,this.context.actorID);}});f.exports=i;}),null);
__d('ReactComposerMLEAttachmentSelector.react',['fbt','ix','React','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerLoggingName'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){'use strict';return c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{'data-testid':'mle-attachment-selector',attachmentID:c('ReactComposerAttachmentType').MLE,label:this.props.label,icon:i("40538"),loggingName:c('ReactComposerLoggingName').MLE_TAB_SELECTOR});};function m(){'use strict';j.apply(this,arguments);}m.propTypes={label:l.node};m.defaultProps={label:h._("Life Event")};f.exports=m;}),null);
__d("XReactComposerMLEAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/mle\/bootstrap\/",{composer_id:{type:"String",required:true}});}),null);
__d('ReactComposerMLELazyAttachment.react',['cx','ReactComposerAttachmentType','ReactComposerLoadableAttachmentBodyMixin','Bootloader','React','XReactComposerMLEAttachmentBootstrapController'],(function a(b,c,d,e,f,g,h){var i=c('React').createClass({displayName:'ReactComposerMLELazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],statics:{attachmentID:c('ReactComposerAttachmentType').MLE},bootload:function j(k){c('Bootloader').loadModules(["ReactComposerMLEAttachmentContainer.react"],k,'ReactComposerMLELazyAttachment.react');},getBootstrapURI:function j(){return c('XReactComposerMLEAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).getURI();}});f.exports=i;}),null);
__d('ReactComposerQAndAAttachmentSelector.react',['fbt','ix','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerLoggingName','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){'use strict';return c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').QANDA,label:this.props.label,icon:i("40547"),loggingName:c('ReactComposerLoggingName').QANDA_TAB_SELECTOR});};function m(){'use strict';j.apply(this,arguments);}m.propTypes={label:l.node};m.defaultProps={label:h._("Start a Q&A")};f.exports=m;}),null);
__d('ReactComposerConfig',['ComposerEntryPointRef','ComposerTargetData','ComposerTargetType','ComposerSourceSurface','React','getObjectValues'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes;f.exports=h.shape({actorConfig:h.object,attachmentsConfig:h.object.isRequired,audienceXHP:h.any,contextInfo:h.object,loggingConfig:h.shape({targetType:h.oneOf(c('getObjectValues')(c('ComposerTargetType'))).isRequired,ref:h.oneOf(c('getObjectValues')(c('ComposerEntryPointRef'))).isRequired,composerSourceSurface:h.oneOf(c('getObjectValues')(c('ComposerSourceSurface'))).isRequired}).isRequired,mediaAcceptParam:h.shape({photos:h.string,both:h.string}),nuxConfig:h.object.isRequired,postButtonConfig:h.object,showExpandedComposer:h.bool,taggersConfig:h.object,sproutsConfig:h.object,targetData:h.instanceOf(c('ComposerTargetData')).isRequired,instagramCrossPostingEnabled:h.bool,eagerlyLoadStatusAttachment:h.bool});}),null);
__d('ReactComposerProfilePhoto.react',['cx','fbt','Image.react','Link.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=40;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;n.prototype.render=function(){'use strict';var o="_3hvt",p=c('React').createElement(c('Image.react'),{className:"_bth",src:this.props.src,height:m,width:m}),q=i._("Profile of {name}",[i.param('name',this.props.profileName)]);return this.props.profileURI?c('React').createElement(c('Link.react'),{'aria-label':q,className:o,href:this.props.profileURI,onClick:this.props.onClick},p):c('React').createElement('div',{className:o},p);};function n(){'use strict';j.apply(this,arguments);}n.propTypes={src:l.string.isRequired,profileName:l.string,profileURI:l.string,onClick:l.func};f.exports=n;}),null);
__d('ReactComposerProfilePhotoBlock.react',['cx','ReactComposerProfilePhoto.react','Layout.react','React','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('Layout.react').Column,l=c('Layout.react').FillColumn,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;n.prototype.render=function(){var o=this.props.profilePhotoBadge,p=this.props.onClick||c('emptyFunction');return c('React').createElement(c('Layout.react'),null,c('React').createElement(k,{className:"_q-v"},o?c('React').createElement(o,this.props):c('React').createElement(c('ReactComposerProfilePhoto.react'),{src:this.props.profilePicSrc,profileName:this.props.profileName,profileURI:this.props.profileURI,onClick:p})),c('React').createElement(l,null,this.props.children));};function n(){i.apply(this,arguments);}n.propTypes={profileName:m.string,profilePicSrc:m.string.isRequired,profileURI:m.string,profilePhotoBadge:m.any,currentProfileBadgeURI:m.string,profileBadgeNUX:m.string,onClick:m.func};f.exports=n;}),null);
__d('ReactComposerStatusLazyAttachmentTextarea.react',['cx','ReactComposerContextMixin','ReactComponentWithPureRenderMixin','React','ReactDOM','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerStatusLazyAttachmentTextarea',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{expanded:i.bool,onFocus:i.func.isRequired,placeholder:i.string.isRequired},getInitialState:function k(){return {message:null};},componentWillUnmount:function k(){this._onUnmount();},render:function k(){return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_4h96")},c('React').createElement('textarea',{className:"_4h98",ref:'textarea',placeholder:this.props.placeholder,onFocus:this.props.onFocus,onChange:this.onChange,name:'xhpc_message_text'}),c('React').createElement('input',{type:'hidden',name:'xhpc_message',value:this.state.message}));},onChange:function k(l){this.setState({message:l.target.value});},focus:function k(){this.refs.textarea.focus();},_onUnmount:function k(){var l=c('ReactDOM').findDOMNode(this.refs.textarea);e.call(null,['ReactComposerStatusActions','ReactComposerPrefillMentionsInput','ReactInputSelection'],function(m,n,o){var p=l.value;if(!p)return;var q={text:p},r=o.getSelection(l),s=n.createEditorState(q,r);m.setEditorState(this.context.composerID,s);}.bind(this));}});f.exports=j;}),null);
__d('ReactComposerStatusLazyAttachmentTextareaContainer.react',['cx','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerContextMixin','ReactComposerEvents','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusLazyAttachmentTextarea.react','Arbiter','ReactComponentWithPureRenderMixin','React','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerStatusLazyAttachmentTextareaContainer',_subscriptions:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'))],statics:{calculateState:function k(l,m){return {focused:c('ReactComposerAttachmentStore').isSelectedAttachmentActive(l)};}},componentWillMount:function k(){this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions.addSubscriptions(c('Arbiter').subscribe(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID,function(){var l=c('ReactComposerAttachmentStore').getSelectedAttachmentID(this.context.composerID);if(l===c('ReactComposerAttachmentType').STATUS)this.refs.textarea.focus();}.bind(this)));},componentWillUnmount:function k(){this._subscriptions&&this._subscriptions.release();},propTypes:{expanded:i.bool,id:i.string,hasProfilePic:i.bool,onFocus:i.func.isRequired,placeholder:i.node.isRequired},render:function k(){return c('React').createElement(c('ReactComposerStatusLazyAttachmentTextarea.react'),babelHelpers['extends']({className:(this.state.focused?"_3_1x":'')+(this.props.expanded?' '+"_4h97":'')+(this.props.hasProfilePic?' '+"_30z":'')},this.props,{ref:'textarea'}));}});f.exports=j;}),null);
__d('ReactComposerFooter.react',['cx','React','XUICardSection.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=c('joinClasses')("_2dck",this.props.className);return c('React').createElement(c('XUICardSection.react'),{background:this.props.background,className:m},this.props.children);};function l(){'use strict';i.apply(this,arguments);}l.propTypes={background:k.string};l.defaultProps={background:'white'};f.exports=l;}),null);
__d('ReactComposerFooterActions.react',['cx','React','XUICardSection.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l=c('joinClasses')("_2ph-",this.props.className);return c('React').createElement(c('XUICardSection.react'),{className:l},this.props.children);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerOptimisticPostingActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({START_OPTIMISTICALLY_POSTING:null,FINISH_OPTIMISTICALLY_POSTING:null},'ReactComposerOptimisticPostingActionType');}),null);
__d('ReactComposerOptimisticPostingStoryGeneric.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i=function j(){return c('React').createElement('div',{className:"_3lza"},c('React').createElement('div',{className:"_2iwq"},c('React').createElement('div',{className:"_2iwy"}),c('React').createElement('div',{className:"_2iwz"}),c('React').createElement('div',{className:"_2iw-"}),c('React').createElement('div',{className:"_2iw_"}),c('React').createElement('div',{className:"_2ix0"})));};f.exports=i;}),null);
__d('ReactComposerOptimisticPostingStoryHeader.react',['cx','fbt','ReactComposerProfilePhoto.react','Layout.react','React'],(function a(b,c,d,e,f,g,h,i){var j=c('Layout.react').Column,k=c('Layout.react').FillColumn,l=c('React').PropTypes,m=function o(){},n=function o(p){var q=p.profilePicSrc,r=p.profileName;return c('React').createElement(c('Layout.react'),{className:"_1zm9"},c('React').createElement(j,{className:"_2pii"},c('React').createElement(c('ReactComposerProfilePhoto.react'),{src:q,profileName:r,onClick:m})),c('React').createElement(k,null,c('React').createElement('h6',{className:"_5pbw"},r),c('React').createElement('span',null,i._("Just now"))));};n.propTypes={profilePicSrc:l.string.isRequired,profileName:l.string.isRequired};f.exports=n;}),null);
__d('ReactComposerOptimisticPostingStoryVideo.react',['Bootloader','EventListener','ifRequired','Image.react','JSLog','React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes,k=function m(){};h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(m){'use strict';i.constructor.call(this);this.$ReactComposerOptimisticPostingStoryVideo1=null;this.state={thumbSrc:m.videoUpload.thumbSrc};}l.prototype.componentDidMount=function(){'use strict';if(!this.state.thumbSrc){var m=document.createElement('video');m.setAttribute('src',this.props.videoUpload.fileURL);c('Bootloader').loadModules(["generateVideoThumbnails"],function(){},'ReactComposerOptimisticPostingStoryVideo.react');this.$ReactComposerOptimisticPostingStoryVideo1=c('EventListener').listen(m,'loadedmetadata',this.$ReactComposerOptimisticPostingStoryVideo2.bind(this,m));}};l.prototype.componentWillUnmount=function(){'use strict';this.$ReactComposerOptimisticPostingStoryVideo1&&this.$ReactComposerOptimisticPostingStoryVideo1.remove();};l.prototype.$ReactComposerOptimisticPostingStoryVideo2=function(m){'use strict';var n=c('ReactDOM').findDOMNode(this);c('Bootloader').loadModules(["generateVideoThumbnails"],function(o){o(m,n.clientWidth,n.clientHeight,1).done(function(p){return this.setState({thumbSrc:p.thumbnails[0].getURL()});}.bind(this));}.bind(this),'ReactComposerOptimisticPostingStoryVideo.react');this.$ReactComposerOptimisticPostingStoryVideo1&&this.$ReactComposerOptimisticPostingStoryVideo1.remove();this.$ReactComposerOptimisticPostingStoryVideo1=null;};l.prototype.$ReactComposerOptimisticPostingStoryVideo3=function(){'use strict';return c('React').createElement(c('Image.react'),{src:this.state.thumbSrc});};l.prototype.$ReactComposerOptimisticPostingStoryVideo4=function(){'use strict';return c('ifRequired')('ReactComposerVideoXUploadPlaceholder.react',function(m){return c('React').createElement(m,{onRemoveButtonClicked:k,uploadID:this.props.videoUpload.id,uploadProgress:this.props.videoUpload.progress,uploadState:this.props.videoUpload.state});}.bind(this),function(){c('JSLog').error('ReactComposerVideoXUploadPlaceholderContainer.react isn\'t '+'loaded when it\'s supposed to be.');});};l.prototype.render=function(){'use strict';return this.state.thumbSrc&&this.state.thumbSrc.indexOf('data:image/')===0?this.$ReactComposerOptimisticPostingStoryVideo3():this.$ReactComposerOptimisticPostingStoryVideo4();};l.propTypes={videoUpload:j.object.isRequired};f.exports=l;}),null);
__d('ReactComposerOptimisticPostingStoryMedia.react',['cx','ReactComposerCollageUtils','ReactComposerMediaUploadType','ReactComposerOptimisticPostingStoryVideo.react','Image.react','immutable','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes,l=5,m=1000;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;n.prototype.$ReactComposerOptimisticPostingStoryMedia1=function(o){'use strict';if(o.size===0){return [];}else if(o.size===1){return c('ReactComposerCollageUtils').getSingleItemStyleInfo(o.first(),m);}else{var p=c('ReactComposerCollageUtils').getCollageLayoutConfig(o,m);return p.getItemStyleInfos();}};n.prototype.$ReactComposerOptimisticPostingStoryMedia2=function(o){'use strict';var p=0;o.forEach(function(q){var r=q.top+q.height;if(r>p)p=r;});return p/m*100;};n.prototype.$ReactComposerOptimisticPostingStoryMedia3=function(o){'use strict';return o.map(function(p,q){var r=this.props.mediaUploads.get(q),s=p.height/m*100,t=p.width/m*100,u=p.top/m*100,v=p.left/m*100,w=void 0;if(r.mediaType===c('ReactComposerMediaUploadType').VIDEO){w=c('React').createElement(c('ReactComposerOptimisticPostingStoryVideo.react'),{videoUpload:r});}else{var x=r.width/r.height,y=p.width/p.height,z=x>y?{height:'100%'}:{width:'100%'},aa=r.isSpherical&&r.thumbSrc?r.thumbSrc:r.fileURL;w=c('React').createElement(c('Image.react'),{src:aa,style:z});}var ba=null;if(this.props.mediaUploads.size>l&&q===l-1)ba=this.$ReactComposerOptimisticPostingStoryMedia4();return c('React').createElement('div',{key:r.id,className:"_58vp",style:{paddingBottom:''+s+'%',width:''+t+'%',top:''+u+'%',left:''+v+'%'}},w,ba);}.bind(this));};n.prototype.$ReactComposerOptimisticPostingStoryMedia4=function(){'use strict';var o=this.props.mediaUploads.size-l+1;return c('React').createElement('div',{className:"_52d9"},c('React').createElement('div',{className:"_52da"},c('React').createElement('div',{className:"_52db"},'+',o)));};n.prototype.render=function(){'use strict';var o=this.$ReactComposerOptimisticPostingStoryMedia1(this.props.mediaUploads.take(l));return c('React').createElement('div',{className:"_58vq",style:{paddingBottom:''+this.$ReactComposerOptimisticPostingStoryMedia2(o)+'%'}},this.$ReactComposerOptimisticPostingStoryMedia3(o));};function n(){'use strict';i.apply(this,arguments);}n.propTypes={mediaUploads:k.instanceOf(c('immutable').List).isRequired};f.exports=n;}),null);
__d('ReactComposerOptimisticPostingStoryProgress.react',['cx','fbt','BUIProgressBar.react','React'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=function l(m){var n=m.percent,o=void 0;if(n===null){o={isBuffering:true};}else o={percentage:n};return c('React').createElement('div',{className:"_2oj3"},c('React').createElement('span',null,i._("Uploading...")),c('React').createElement(c('BUIProgressBar.react'),babelHelpers['extends']({className:"_2oj4",flexibleWidth:true},o)));};k.propTypes={percent:j.number};f.exports=k;}),null);
__d('ReactComposerOptimisticPostingStoryStatus.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=function l(m){var n=m.status;return c('React').createElement('div',{className:"_4sfj"},c('React').createElement('div',{className:"_5pbx"},n));},k=i.oneOfType([i.number,i.string,i.element,i.arrayOf(k)]);j.PropTypes={status:k.isRequired};f.exports=j;}),null);
__d('ReactComposerOptimisticPostingStoryVideoMessage.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){var j=function k(){return c('React').createElement('div',{className:"_41hf"},i._("The video in your post is being processed. We'll send you a notification when it's done and your post is ready to view."));};f.exports=j;}),null);
__d('ReactComposerOptimisticPostingStoryContainer.react',['cx','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerEvents','ReactComposerMediaUploadType','ReactComposerOptimisticPostingStoryGeneric.react','ReactComposerOptimisticPostingStoryHeader.react','ReactComposerOptimisticPostingStoryMedia.react','ReactComposerOptimisticPostingStoryProgress.react','ReactComposerOptimisticPostingStoryStatus.react','ReactComposerOptimisticPostingStoryVideoMessage.react','ReactComposerStatusStore','StoreBasedStateMixinHelper','Arbiter','ifRequired','immutable','JSLog','ReactComponentWithPureRenderMixin','React','XUICard.react'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=null,k=c('React').createClass({displayName:'ReactComposerOptimisticPostingStoryContainer',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{attachmentType:i.string.isRequired,composerID:i.string.isRequired,config:c('ReactComposerConfig').isRequired},_mixin:null,_recalculateStateID:null,_mediaUploads:null,_previousPercent:0,getInitialState:function l(){c('ifRequired')('ReactComposerMediaUploadStore',function(m){j=m;},function(){c('JSLog').error('ReactComposerMediaUploadStore isn\'t loaded when it\'s supposed '+'to be loaded.');});return this._calculateState();},componentDidMount:function l(){this._previousPercent=0;this._mixin=new (c('StoreBasedStateMixinHelper'))([j]);this._mixin.subscribeCallback(function(m){if(this._recalculateStateID===null)this._recalculateStateID=setTimeout(function(){var n=this._calculateState(),o=Math.max(n.percent,this._previousPercent);n.percent=o;this._previousPercent=o;this.setState(n);this._recalculateStateID=null;}.bind(this),0);}.bind(this));if(j&&j.getUploadsOfType(this.props.composerID,c('ReactComposerMediaUploadType').VIDEO).size)c('Arbiter').subscribeOnce(c('ReactComposerEvents').POST_SUCCEEDED+this.props.composerID,function(){this.setState({videoFinishedUploading:true});}.bind(this));},componentWillUnmount:function l(){this._mixin&&this._mixin.release();this._recalculateStateID&&clearTimeout(this._recalculateStateID);},_calculateState:function l(){var m,n=this,o=null;if(this.props.attachmentType===c('ReactComposerAttachmentType').MEDIA&&j)(function(){var p=j.getUploads(n.props.composerID),q=0,r=0,s=0,t=0;p.forEach(function(w){if(w.get('fileSize')!==null){q+=w.get('fileSize');r+=(w.progress||0)*w.get('fileSize');}else{s++;t+=w.progress||0;}});if(s){var u=p.size-s,v=u?q/u:1;q+=v*s;r+=v*t;}if(q)o=r/q;})();return {percent:o,videoFinishedUploading:this.state&&this.state.videoFinishedUploading};},_renderStatusElement:function l(){var m=c('ReactComposerStatusStore').getMessageText(this.props.composerID),n=[].concat(m.split('\n'));for(var o=1;o<n.length;o+=2)n.splice(o,0,c('React').createElement('br',{key:o}));return c('React').createElement(c('ReactComposerOptimisticPostingStoryStatus.react'),{key:'status',status:n});},_renderMediaElement:function l(){if(!j)return this._renderGenericElement();if(!this._mediaUploads)this._mediaUploads=j.getUploads(this.props.composerID);var m=c('React').createElement(c('ReactComposerOptimisticPostingStoryMedia.react'),{key:'media',mediaUploads:this._mediaUploads});if(!c('ReactComposerStatusStore').getMessageText(this.props.composerID))return m;return [this._renderStatusElement(),m];},_renderGenericElement:function l(){return c('React').createElement(c('ReactComposerOptimisticPostingStoryGeneric.react'),null);},_renderBody:function l(){var m=void 0;if(this.props.attachmentType===c('ReactComposerAttachmentType').STATUS){m=this._renderStatusElement();}else if(this.props.attachmentType===c('ReactComposerAttachmentType').MEDIA){m=this._renderMediaElement();}else m=this._renderGenericElement();return c('React').createElement('div',{className:"_38-r"},m);},render:function l(){var m=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],n=m.profilePicSrc,o=m.profileName;return c('React').createElement(c('XUICard.react'),{className:"_4rtr"},this.state.videoFinishedUploading?c('React').createElement(c('ReactComposerOptimisticPostingStoryVideoMessage.react'),null):c('React').createElement(c('ReactComposerOptimisticPostingStoryProgress.react'),{percent:this.state.percent}),c('React').createElement(c('ReactComposerOptimisticPostingStoryHeader.react'),{profilePicSrc:n,profileName:o}),this._renderBody());}});f.exports=k;}),null);
__d('ReactComposerOptimisticPostingStore',['ReactComposerActionTypes','ReactComposerEvents','ReactComposerInit','ReactComposerMediaUploadType','ReactComposerOptimisticPostingActionType','ReactComposerOptimisticPostingStoryContainer.react','ReactComposerStoreBase','Arbiter','ifRequired','JSLog','React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i,j={};h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l=function(m){switch(m.type){case c('ReactComposerOptimisticPostingActionType').START_OPTIMISTICALLY_POSTING:this&&this.$ReactComposerOptimisticPostingStore1(m);break;case c('ReactComposerOptimisticPostingActionType').FINISH_OPTIMISTICALLY_POSTING:case c('ReactComposerActionTypes').POST_SUCCEEDED:case c('ReactComposerActionTypes').POST_ERROR:this&&this.$ReactComposerOptimisticPostingStore2(m);break;default:}}.bind(this);i.constructor.call(this,function(){return {hasVideo:null,optimisticallyPostingElement:null};},l);}k.prototype.isOptimisticallyPosting=function(l){'use strict';return !!this.getComposerData(l).optimisticallyPostingElement;};k.prototype.hadOptimisticallyPosted=function(l){'use strict';return !!j[l];};k.prototype.$ReactComposerOptimisticPostingStore3=function(l,m){'use strict';c('Arbiter').inform(c('ReactComposerEvents').OPTIMISTIC_POSTING_STARTED+l);c('Arbiter').inform('LitestandComposer/publishTemp',{composer_id:l,markup:m});c('ReactComposerInit').hideAndReplaceComposer(l);};k.prototype.$ReactComposerOptimisticPostingStore1=function(l){'use strict';var m=this.validateAction(l,['composerID','config','attachmentType']),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerOptimisticPostingStore4(c('React').createElement(c('ReactComposerOptimisticPostingStoryContainer.react'),{attachmentType:p,composerID:n,config:o}));this.getComposerData(n).optimisticallyPostingElement=q;c('ifRequired')('ReactComposerMediaUploadStore',function(r){this.getComposerData(n).hasVideo=r.getUploadsOfType(n,c('ReactComposerMediaUploadType').VIDEO).size;}.bind(this),function(){c('JSLog').error('ReactComposerMediaUploadStore isn\'t loaded when it\'s supposed '+'to be.');});this.emitChange(n);setTimeout(this.$ReactComposerOptimisticPostingStore3.bind(null,n,q),0);};k.prototype.$ReactComposerOptimisticPostingStore2=function(l){'use strict';var m=this.validateAction(l,['composerID']),n=this.getComposerData(m).optimisticallyPostingElement;if(!n)return;this.getComposerData(m).optimisticallyPostingElement=null;if(!this.getComposerData(m).hasVideo)c('ReactDOM').unmountComponentAtNode(n);j[m]=true;this.emitChange(m);};k.prototype.$ReactComposerOptimisticPostingStore4=function(l){'use strict';var m=document.createElement('div');c('ReactDOM').render(l,m);return m;};f.exports=new k();}),null);
__d('ReactComposerPostButton.react',['cx','fbt','ix','Image.react','React','XUIButton.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;n.getButtonSize=function(){return 'medium';};n.prototype.render=function(){var o=c('React').createElement(c('Image.react'),{className:"_5gm4"+(this.props.disabled&&this.props.isPosting?' '+"_5gm5":''),src:j("85428"),'data-testid':'react-composer-throbber'}),p=c('React').createElement('span',{className:this.props.disabled&&this.props.isPosting?"_5gm9":''},this.props.label);return c('React').createElement(c('XUIButton.react'),{className:"_1mf7",disabled:this.props.disabled,label:p,image:o,onClick:this.props.onClick,use:'confirm','data-testid':'react-composer-post-button'});};function n(){k.apply(this,arguments);}n.propTypes={disabled:m.bool,onClick:m.func,label:m.string,isPosting:m.bool};n.defaultProps={disabled:false,label:i._("Post")};f.exports=n;}),null);
__d('ReactComposerPostButtonContainerMixin',['fbt','ReactComposerActions','ReactComposerAudienceStore','ReactComposerConfig','ReactComposerContextMixin','ReactComposerMediaUploadStore','ReactComposerOptimisticPostingStore','ReactComposerPostButton.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentStore','ReactComposerStore','BanzaiODS','BootloadedComponent.react','JSResource','ReactComponentWithPureRenderMixin','React','SimpleXUIDialog','XUIButtonGroup.react'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j={mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerOptimisticPostingStore'),c('ReactComposerStore'))],propTypes:{config:c('ReactComposerConfig').isRequired,forceDisabled:i.bool,onClickPreprocess:i.func},getDefaultProps:function k(){return {forceDisabled:false};},statics:{calculateState:function k(l,m,n){var o=c('ReactComposerStore').isPosting(l),p=c('ReactComposerOptimisticPostingStore').isOptimisticallyPosting(l);return {disabled:m.forceDisabled||o||p,isPosting:o,isOptimisticallyPosting:p};},getButtonSize:function k(){return 'medium';}},render:function k(){var l=c('React').createElement(c('ReactComposerPostButton.react'),babelHelpers['extends']({},this.props,{disabled:this.state.disabled,className:this.props.className,onClick:this._onClick,isPosting:this.state.isPosting}));if(this.context.actorID===this.context.targetID&&this.props.config.actorConfig&&this.props.config.actorConfig.canSchedule&&this.props.config.actorConfig.timezoneStr)return c('React').createElement('span',null,c('React').createElement(c('XUIButtonGroup.react'),null,l),c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerUserScheduledPostButton.react').__setRef('ReactComposerPostButtonContainerMixin'),bootloadPlaceholder:c('React').createElement('div',null),composerID:this.context.composerID,onSchedule:this._onClick,timezoneStr:this.props.config.actorConfig.timezoneStr}));return l;},_onClick:function k(event){if(this.state.disabled){event.preventDefault();return;}if(this.props.onClickPreprocess)if(!this.props.onClickPreprocess())return;if(this._validateAlbumAddition()===false){c('SimpleXUIDialog').show(h._("Album posts must contain at least one photo or video. Please add a photo or video to your post, or remove the album selection."),h._("Cannot add post to album"));c('BanzaiODS').bumpEntityKey('www_composer_albumsv2','error_no_media');return;}var l=c('ReactComposerScrapedAttachmentStore').getPostConfirmationDialog(this.context.composerID);if(l){l.subscribe('confirm',function(){l.hide();l.destroy();this._doStartPost();}.bind(this));l.show();return;}else this._doStartPost();},_validateAlbumAddition:function k(){var l=this.context.composerID,m=c('ReactComposerAudienceStore').getCollectionID(l);if(!m)return true;var n=c('ReactComposerMediaUploadStore').getUploads(l);if(n&&n.size>0)return true;return this.context.gks&&this.context.gks.addAnyPostToAlbum;},_doStartPost:function k(){c('ReactComposerActions').postStarted(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});}};f.exports=j;}),null);
__d('ReactComposerPostButtonContainer.react',['ReactComposerPostButtonContainerMixin','React'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerPostButtonContainer',mixins:[c('ReactComposerPostButtonContainerMixin')]});f.exports=h;}),null);
__d('ReactComposerGenericFooter.react',['ReactComposerConfig','ReactComposerFooter.react','ReactComposerFooterActions.react','ReactComposerPostButtonContainer.react','React','LeftRight.react'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){'use strict';var l=this.props.postButton?this.props.postButton:c('React').createElement(c('ReactComposerPostButtonContainer.react'),{config:this.props.config});return c('React').createElement(c('ReactComposerFooter.react'),{background:this.props.background},c('React').createElement(c('LeftRight.react'),null,this.props.leftChild,c('React').createElement(c('ReactComposerFooterActions.react'),null,this.props.audienceSelector,l)));};function k(){'use strict';h.apply(this,arguments);}k.propTypes={audienceSelector:j.element,background:j.string,config:c('ReactComposerConfig').isRequired,leftChild:j.element,postButton:j.element};k.defaultProps={background:'white',leftChild:c('React').createElement('noscript',null)};f.exports=k;}),null);
__d('ReactComposerStatusPlaceholderFooter.react',['cx','fbt','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerGenericFooter.react','DOMContainer.react','React','XUIButton.react','requireWeak'],(function a(b,c,d,e,f,g,h,i){var j,k,l;c('requireWeak')('ReactComposerAudienceSelectorContainer.react',function(n){l=n;});j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n=this.props.config,o=n.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],p=o.footerBackground?o.footerBackground:n.showExpandedComposer?'white':'light-wash',q=c('React').createElement(c('XUIButton.react'),{className:"_1mf7",label:i._("Post"),use:'confirm'}),r=null;if(n.audienceXHP)r=l&&n.targetData?c('React').createElement(l,{audienceXHP:n.audienceXHP,viewerIsTarget:n.targetData.viewerIsTarget}):c('React').createElement(c('DOMContainer.react'),{className:"_5dd8"},n.audienceXHP);return c('React').createElement(c('ReactComposerGenericFooter.react'),{audienceSelector:r,postButton:q,background:p,config:n});};function m(){'use strict';j.apply(this,arguments);}m.propTypes={config:c('ReactComposerConfig').isRequired};f.exports=m;}),null);
__d('ReactComposerTaggerSummaryPlaceholder.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_3o1x"});};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerStatusAttachmentPlaceholder.react',['ReactComposerAttachmentActions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerDragDropPromptLazy.react','ReactComposerLoggingName','ReactComposerPostUtilsCore','ReactComposerProfilePhotoBlock.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusLazyAttachmentTextareaContainer.react','ReactComposerStatusPlaceholderFooter.react','ReactComposerStore','ReactComposerTaggerSummaryPlaceholder.react','ActorURI','Bootloader','Event','ReactComponentWithPureRenderMixin','React','ReactDOM','SubscriptionsHandler','curry'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerStatusAttachmentPlaceholder',_subscriptionsHandler:null,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerStore'))],propTypes:{config:c('ReactComposerConfig').isRequired,expanded:h.bool,placeholder:h.string.isRequired},statics:{calculateState:function j(k,l){return {isActive:c('ReactComposerAttachmentStore').isSelectedAttachmentActive(k),sproutsDisplayState:c('ReactComposerStore').getSproutsDisplayState(k)};}},componentDidMount:function j(){var k=new (c('SubscriptionsHandler'))();k.addSubscriptions(c('Event').listen(c('ReactDOM').findDOMNode(this.refs.form),'success',c('curry')(c('ReactComposerPostUtilsCore').handlePostSucceeded,this.context.composerID)));this._subscriptionsHandler=k;},componentWillUnmount:function j(){this._subscriptionsHandler&&this._subscriptionsHandler.release();},render:function j(){var k=this.context.gks&&this.context.gks.isSproutsComposer,l=this._renderTextArea(),m=k?this._renderSproutsList():null,n=this.state.isActive||this.props.expanded||k?c('React').createElement(c('ReactComposerStatusPlaceholderFooter.react'),{config:this.props.config}):null;return c('React').createElement('div',null,c('React').createElement(c('ReactComposerDragDropPromptLazy.react'),{root:this,config:this.props.config,onFilesDrop:this._onFilesDrop,onURLDrop:this._onURLDrop}),c('React').createElement('form',{action:c('ActorURI').create('/ajax/updatestatus.php',this.context.actorID),method:'post',rel:'async',ref:'form'},l,c('React').createElement(c('ReactComposerTaggerSummaryPlaceholder.react'),null),m,n,this._getHiddenInputs()));},_renderTextArea:function j(){var k=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],l=c('React').createElement(c('ReactComposerStatusLazyAttachmentTextareaContainer.react'),{expanded:this.props.expanded,hasProfilePic:k.showProfilePic,onFocus:this._onFocus,placeholder:this.props.placeholder});if(k.showProfilePic){if(k.templatesConfig){var m=k.templatesConfig.module;return c('React').createElement(m,{config:this.props.config},l);}else return c('React').createElement(c('ReactComposerProfilePhotoBlock.react'),{profilePicSrc:k.profilePicSrc,profileURI:k.profileURI,profilePhotoBadge:k.customProfilePhoto,currentProfileBadgeURI:k.currentProfileBadgeURI},l);}else return l;},_renderSproutsList:function j(){var k=this.context.jsModules&&this.context.jsModules.ComposerSproutsListContainer;return c('React').createElement(k,{config:this.props.config});},_onFocus:function j(){c('ReactComposerAttachmentActions').selectAttachment(this.context.composerID,c('ReactComposerAttachmentType').STATUS,true,c('ReactComposerLoggingName').INLINE_COMPOSER);},_onFilesDrop:function j(k){var l=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];c('Bootloader').loadModules(["ReactComposerStatusUtils","ReactComposerPhotoUploader"],function(m,n){var o=this.context.composerID;m.uploadDroppedFiles(o,k,new n(this.context,l.photoLimit,{disableFaceRecognition:l.disableFaceboxTagger}),this.props.config.targetData.targetSupportsMultiMedia,this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],this.context);}.bind(this),'ReactComposerStatusAttachmentPlaceholder.react');},_onURLDrop:function j(k){c('Bootloader').loadModules(["ReactComposerScrapedAttachmentActions","ReactComposerStatusUtils"],function(l,m){var n=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS];c('ReactComposerAttachmentActions').selectAttachment(this.context.composerID,c('ReactComposerAttachmentType').STATUS,true,c('ReactComposerLoggingName').LINK_DROPPED);l.enabled(this.context.composerID,n.canScrapeShare);m.scrapeLink(this.context.composerID,this.context.targetID,k,this.context.composerType,this.context.actorID);}.bind(this),'ReactComposerStatusAttachmentPlaceholder.react');},_getHiddenInputs:function j(){var k=c('ReactComposerPostUtilsCore').getCoreData(this.context.composerID,this.props.config.contextInfo,this.context.targetID),l=[];for(var m in k)l.push(c('React').createElement('input',{type:'hidden',name:m,value:k[m],key:m}));return l;}});f.exports=i;}),null);
__d('ReactComposerStatusAttachmentSelector.react',['fbt','ix','ReactComponentWithPureRenderMixin','React','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerLoggingName'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerStatusAttachmentSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{isInMoreButton:j.bool,label:j.string},getDefaultProps:function l(){return {label:h._("Status")};},render:function l(){return c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').STATUS,label:this.props.label,icon:i("40551"),'data-testid':'status-attachment-selector',loggingName:c('ReactComposerLoggingName').STATUS_TAB_SELECTOR,tabIndex:this.props.isInMoreButton?'-1':undefined});}});f.exports=k;}),null);
__d("XReactComposerStatusAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/status\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"String",required:true}});}),null);
__d('ReactComposerStatusLazyAttachment.react',['fbt','ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','ReactComposerStatusAttachmentPlaceholder.react','XReactComposerStatusAttachmentBootstrapController','ActorURI','Arbiter','Bootloader','React'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerStatusLazyAttachment',_useCustomPlaceholder:true,mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],propTypes:{additionalTaggers:i.arrayOf(i.shape({button:i.element.isRequired,container:i.element.isRequired})),additionalFooterActions:i.arrayOf(i.element),bootloader:c('ReactComposerBootloaderPropTypes'),config:i.object.isRequired,expanded:i.bool,onPostIntent:i.func,placeholder:i.string.isRequired,initOnlyWhenComposerActive:i.bool},getDefaultProps:function k(){return {placeholder:h._(["What's on your mind?","2340e43c54f5a3de9ca7fc0a7efc2cae"]),initOnlyWhenComposerActive:true};},statics:{attachmentID:c('ReactComposerAttachmentType').STATUS},getInitialState:function k(){return {expanded:false};},componentDidMount:function k(){c('Arbiter').inform('ReactComposerStatusLazyAttachment/mounted',this.context.composerID,c('Arbiter').BEHAVIOR_STATE);},componentWillUpdate:function k(l,m){if(!m.isSelected)this._useCustomPlaceholder=false;},getPlaceholderModule:function k(){if(!this._useCustomPlaceholder)return null;if(this._placeholder)return this._placeholder;this._placeholder=c('ReactComposerStatusAttachmentPlaceholder.react');return this._placeholder;},bootload:function k(l){if(this.props.bootloader){this.props.bootloader.statusAttachment(l);}else c('Bootloader').loadModules(["ReactComposerStatusAttachmentContainer.react"],l,'ReactComposerStatusLazyAttachment.react');},getBootstrapURI:function k(){return c('ActorURI').create(c('XReactComposerStatusAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setString('target_id',this.context.targetID).getURI(),this.context.actorID);}});f.exports=j;}),null);
__d('ReactComposerFormattedTextActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('keyMirrorRecursive')({SET_SELECTED_INDEX:null,SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX:null,SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING:null,SET_SHOULD_FADE_IN_PICKER:null,TOGGLE_COLLAPSED:null},'ReactComposerFormattedTextActionType');}),null);
__d('ReactComposerFormattedTextStore',['ReactComposerFormattedTextActionType','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){i.constructor.call(this,function(){return {formattedTextPickerCollapsed:false,selectedIndex:-1,prevSelectedIndex:-1,shouldAutoOpenWhenUserStartsTyping:false,shouldFadeInPicker:false};},function(k){switch(k.type){case c('ReactComposerFormattedTextActionType').SET_SELECTED_INDEX:this&&this.$ReactComposerFormattedTextStore1(k);break;case c('ReactComposerFormattedTextActionType').SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX:this&&this.$ReactComposerFormattedTextStore2(k);break;case c('ReactComposerFormattedTextActionType').SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING:this&&this.$ReactComposerFormattedTextStore3(k);break;case c('ReactComposerFormattedTextActionType').SET_SHOULD_FADE_IN_PICKER:this&&this.$ReactComposerFormattedTextStore4(k);break;case c('ReactComposerFormattedTextActionType').TOGGLE_COLLAPSED:this&&this.$ReactComposerFormattedTextStore5(k);break;}}.bind(this));}j.prototype.getTextFormatPresetID=function(k){return this.getComposerData(k).textFormatPresetID;};j.prototype.getSelectedIndex=function(k){return this.getComposerData(k).selectedIndex;};j.prototype.getPrevSelectedIndex=function(k){return this.getComposerData(k).prevSelectedIndex;};j.prototype.getShouldAutoOpenWhenUserStartsTyping=function(k){return this.getComposerData(k).shouldAutoOpenWhenUserStartsTyping;};j.prototype.getShouldFadeInPicker=function(k){return this.getComposerData(k).shouldFadeInPicker;};j.prototype.getCollapsed=function(k){return this.getComposerData(k).formattedTextPickerCollapsed;};j.prototype.$ReactComposerFormattedTextStore1=function(k){var l=this.validateAction(k,['composerID','selectedIndex','textFormats']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.textFormatPresetID=this.$ReactComposerFormattedTextStore6(n,o);p.selectedIndex=n;p.prevSelectedIndex=n;this.emitChange(m);};j.prototype.$ReactComposerFormattedTextStore2=function(k){var l=this.validateAction(k,['composerID','selectedIndex','textFormats']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.textFormatPresetID=this.$ReactComposerFormattedTextStore6(n,o);p.selectedIndex=n;this.emitChange(m);};j.prototype.$ReactComposerFormattedTextStore3=function(k){var l=this.validateAction(k,['composerID','shouldAutoOpenWhenUserStartsTyping']),m=l[0],n=l[1],o=this.getComposerData(m);o.shouldAutoOpenWhenUserStartsTyping=n;this.emitChange(m);};j.prototype.$ReactComposerFormattedTextStore4=function(k){var l=this.validateAction(k,['composerID','shouldFadeInPicker']),m=l[0],n=l[1],o=this.getComposerData(m);o.shouldFadeInPicker=n;this.emitChange(m);};j.prototype.$ReactComposerFormattedTextStore5=function(k){var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.formattedTextPickerCollapsed=!m.formattedTextPickerCollapsed;this.emitChange(l);};j.prototype.$ReactComposerFormattedTextStore6=function(k,l){var m=null;if(k!=null&&k!==-1){var n=l&&Object.prototype.hasOwnProperty.call(l,k)?l[k]:null;if(n&&n.presetID)m=n.presetID;}return m;};f.exports=new j();}),null);
__d('ReactComposerFormattedTextActions',['ReactComposerDispatcher','ReactComposerFormattedTextActionType','ReactComposerFormattedTextStore'],(function a(b,c,d,e,f,g){'use strict';c('ReactComposerFormattedTextStore');h.prototype.setSelectedIndex=function(i,j,k){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerFormattedTextActionType').SET_SELECTED_INDEX,selectedIndex:j,textFormats:k});};h.prototype.setSelectedIndexButNotPrevSelectedIndex=function(i,j,k){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerFormattedTextActionType').SET_SELECTED_INDEX_BUT_NOT_PREV_SELECTED_INDEX,selectedIndex:j,textFormats:k});};h.prototype.setShouldAutoOpenWhenUserStartsTyping=function(i,j){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerFormattedTextActionType').SET_SHOULD_AUTO_OPEN_WHEN_USER_STARTS_TYPING,shouldAutoOpenWhenUserStartsTyping:j});};h.prototype.setShouldFadeInPicker=function(i,j){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerFormattedTextActionType').SET_SHOULD_FADE_IN_PICKER,shouldFadeInPicker:j});};h.prototype.toggleCollapsed=function(i){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerFormattedTextActionType').TOGGLE_COLLAPSED});};function h(){}f.exports=new h();}),null);
__d('ReactComposerFormattedTextPickerComponent.react',['cx','Grid.react','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('Grid.react').GridItem,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.$ReactComposerFormattedTextPickerComponent1=function(n){this.props.onSelect&&this.props.onSelect(n);};m.prototype.$ReactComposerFormattedTextPickerComponent2=function(){var n=[];for(var o=m.NO_BG_COLOR;o<this.props.textFormats.length;o++){var p=c('React').createElement(k,{key:o},c('React').createElement('div',{className:o===this.props.selectedIndex?"_9sg":''},c('React').createElement(c('Link.react'),{href:'#',onClick:o===this.props.selectedIndex?null:this.$ReactComposerFormattedTextPickerComponent1.bind(this,o)},c('React').createElement('div',{className:"_23jq"+(' '+"_2j78")+(o===this.props.selectedIndex?' '+"_23jt":'')+(o===m.NO_BG_COLOR?' '+"_23ju":''),style:o===m.NO_BG_COLOR?null:this.props.textFormats[o].pickerCircleStyle}))));n.push(p);}return n;};m.prototype.$ReactComposerFormattedTextPickerComponent3=function(){return c('React').createElement(k,null,c('React').createElement(c('Link.react'),{href:'#',onClick:this.props.onToggle},c('React').createElement('div',{className:"_23jq"+(!this.props.collapsed?' '+"_2j79":'')+(this.props.collapsed?' '+"_2j7a":'')},c('React').createElement('div',{className:!this.props.collapsed?"_2j7b":''}))));};m.prototype.render=function(){var n=this.props.noSproutDesign&&this.$ReactComposerFormattedTextPickerComponent3(),o=null,p=1;if(!this.props.collapsed){o=this.$ReactComposerFormattedTextPickerComponent2();p+=o.length;}return c('React').createElement(c('Grid.react'),{cols:p,role:'presentation',className:"_23jv"+(this.props.suppressTransition?' '+"_3oia":'')+(this.props.hidden?' '+"_akr":'')+(this.props.noSproutDesign?' '+"_2j7c":'')},n,o);};function m(){i.apply(this,arguments);}m.NO_BG_COLOR=-1;m.propTypes={collapsed:l.bool,hidden:l.bool,noSproutDesign:l.bool,onSelect:l.func.isRequired,onToggle:l.func,selectedIndex:l.number,suppressTransition:l.bool,textFormats:l.arrayOf(l.object).isRequired};f.exports=m;}),null);
__d("XStickyFormattedTextController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/sticky_formatted_text\/",{preset_id:{type:"Int"},is_set:{type:"Bool",defaultValue:false}});}),null);
__d('ReactComposerFormattedTextPickerContainerMixin',['invariant','ReactComposerAttachmentStore','ReactComposerEvents','ReactComposerFormattedTextActions','ReactComposerFormattedTextStore','ReactComposerFormattedTextPickerComponent.react','ReactComposerMediaUploadStore','ReactComposerMinutiaeAttachmentStore','ReactComposerPrefillStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','Arbiter','AsyncRequest','XStickyFormattedTextController','bind'],(function a(b,c,d,e,f,g,h){'use strict';var i=true,j={_prefillSubscription:undefined,mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerFormattedTextStore'),c('ReactComposerMediaUploadStore'),c('ReactComposerMinutiaeAttachmentStore'),c('ReactComposerScrapedAttachmentStore'),c('ReactComposerStatusStore'),c('ReactComposerTaggerStore'))],statics:{beforeCalculateInitialState:function k(l,m){if(i){c('ReactComposerFormattedTextActions').setSelectedIndex(l,m.defaultFormat!=null?m.defaultFormat:c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR,m.textFormats);if(m.shouldAutoOpenWhenUserStartsTyping)c('ReactComposerFormattedTextActions').setShouldAutoOpenWhenUserStartsTyping(l,m.shouldAutoOpenWhenUserStartsTyping);}if(m.stickyStylesEnabled&&!i){var n=c('XStickyFormattedTextController').getURIBuilder().setBool('is_set',false).getURI();new (c('AsyncRequest'))().setURI(n).setHandler(c('bind')(this,function(o){if(o&&o.payload&&o.payload.index!=null){var p=o.payload.index;if(p===c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR&&!o.payload.hasUserUnformattedText)p=m.defaultFormat!=null?m.defaultFormat:c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR;c('ReactComposerFormattedTextActions').setSelectedIndex(l,p,m.textFormats);}})).send();}},calculateState:function k(l,m){var n=c('ReactComposerStatusStore').getMessageText(l).match(/\n/g),o=n?n.length>m.maxNewlines:false,p=c('ReactComposerTaggerStore').getTaggerData(l,c('ReactComposerTaggerType').STICKER),q=true;if(c('ReactComposerScrapedAttachmentStore').hasAttachment(l)||c('ReactComposerMediaUploadStore').getUploadsCount(l)!==0||c('ReactComposerTaggerStore').hasExplicitLocation(l)||c('ReactComposerTaggerStore').hasMarkdown(l)||p&&p.stickerID||c('ReactComposerMinutiaeAttachmentStore').getMarkup(l)!=null||c('ReactComposerStatusStore').getTextLength(l)>m.textLengthLimit||o)q=false;var r=c('ReactComposerTaggerStore').getSelectedTagger(l)===this.taggerID;return {isSelected:r,canUseFormattedText:q,collapsed:c('ReactComposerFormattedTextStore').getCollapsed(l),fadingInPicker:c('ReactComposerFormattedTextStore').getShouldFadeInPicker(l),prevSelectedIndex:c('ReactComposerFormattedTextStore').getPrevSelectedIndex(l),selectedIndex:c('ReactComposerFormattedTextStore').getSelectedIndex(l),shouldAutoOpenWhenUserStartsTyping:c('ReactComposerFormattedTextStore').getShouldAutoOpenWhenUserStartsTyping(l),shouldDisplay:q&&(m.noSproutDesign||r),taggerData:c('ReactComposerTaggerStore').getTaggerData(l,this.taggerID),taggerSource:c('ReactComposerTaggerStore').getTaggerSource(l,this.taggerID)};}},handleSaveStickyPreset:function k(l){if(!this.props.stickyStylesEnabled)return;var m=c('XStickyFormattedTextController').getURIBuilder().setInt('preset_id',l===c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR?0:c('ReactComposerFormattedTextStore').getTextFormatPresetID(this.context.composerID)).setBool('is_set',true).getURI();new (c('AsyncRequest'))().setMethod('POST').setURI(m).send();},componentWillMount:function k(){this._prefillSubscription=c('Arbiter').subscribe(c('ReactComposerEvents').SET_PREFILL_DATA+this.context.composerID,this._handlePrefill);this.constructor.taggerID||h(0);},componentDidMount:function k(){if(i){if(this.props.autoOpen)setTimeout(function(){c('ReactComposerFormattedTextActions').setShouldFadeInPicker(this.context.composerID,true);if(c('ReactComposerTaggerStore').getSelectedTagger(this.context.composerID)===null)c('ReactComposerTaggerActions').selectTagger(this.context.composerID,this.constructor.loggingName,this.constructor.taggerID);}.bind(this),0);i=false;}},componentWillUnmount:function k(){this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;},_handlePrefill:function k(){var l=c('ReactComposerPrefillStore').getAndEraseNestedField(this.context.composerID,['taggersData',this.constructor.taggerID]);if(l)c('ReactComposerTaggerActions').setTaggerDataWithoutLogging(this.context.composerID,this.constructor.taggerID,l);}};f.exports=j;}),null);
__d('ReactComposerFormattedTextPickerButton.react',['cx','fbt','ReactComposerLoggingName','ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').createClass({displayName:'ReactComposerFormattedTextPickerButton',mixins:[c('ReactComposerTaggerButtonMixin')],statics:{taggerID:c('ReactComposerTaggerType').FORMATTED_TEXT,loggingName:c('ReactComposerLoggingName').FORMATTED_TEXT_BUTTON},getTitle:function k(){return i._("Add a background color to your post");},getTooltip:function k(){return i._("Add a background color to your post");},getClassName:function k(){return "_cod";}});f.exports=j;}),null);
__d('ReactComposerFormattedTextPickerContainer.react',['cx','csx','ReactComposerEvents','ReactComposerFormattedTextPickerComponent.react','ReactComposerFormattedTextPickerContainerMixin','ReactComposerLoggingName','ReactComposerTaggerActions','ReactComposerTaggerType','ReactComposerFormattedTextActions','Arbiter','CSS','DOM','DOMQuery','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerFormattedTextPickerContainer',_suppressTransition:false,_memoizedComposerID:null,_memoizedComposerRoot:null,_memoizedComposerBody:null,_memoizedComposerOverlay:null,_memoizedComposerWrapper:null,_memoizedComposerTextInput:null,_memoizedComposerTaggerDiv:null,mixins:[c('ReactComposerFormattedTextPickerContainerMixin')],propTypes:{autoOpen:j.bool,composerFocused:j.bool,defaultFormat:j.number,maxNewlines:j.number,noSproutDesign:j.bool,stickyStylesEnabled:j.bool,textFormats:j.arrayOf(j.object).isRequired,textLengthLimit:j.number},statics:{taggerID:c('ReactComposerTaggerType').FORMATTED_TEXT,loggingName:c('ReactComposerLoggingName').FORMATTED_TEXT_TAGGER},render:function l(){this._updateBackground(this.state.selectedIndex);if(!this.state.shouldDisplay||this.props.noSproutDesign&&!this.props.composerFocused)return null;return c('React').createElement(c('ReactComposerFormattedTextPickerComponent.react'),{collapsed:this.state.collapsed,hidden:this.state.fadingInPicker,noSproutDesign:this.props.noSproutDesign,onSelect:this._onSelect,onToggle:this._onToggle,selectedIndex:this.state.selectedIndex,suppressTransition:this._suppressTransition,textFormats:this.props.textFormats});},componentWillMount:function l(){if(!this.state.canUseFormattedText){c('ReactComposerTaggerActions').setShouldHideTaggerButton(this.context.composerID,c('ReactComposerTaggerType').FORMATTED_TEXT,true);}else c('ReactComposerTaggerActions').setShouldHideTaggerButton(this.context.composerID,c('ReactComposerTaggerType').FORMATTED_TEXT,false);},componentDidMount:function l(){if(this.props.noSproutDesign){var m=this._getComposerBody();if(m)c('CSS').addClass(m,"_2j7c");}},componentWillUpdate:function l(m,n){if(this.state.selectedIndex!==n.selectedIndex&&(this.state.selectedIndex===c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR||n.selectedIndex===c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR))this._suppressTransition=true;if(n.selectedIndex!==c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR&&this.state.selectedIndex!==n.selectedIndex)this._updateOverlay();},componentDidUpdate:function l(m,n){if(!n.isSelected&&this.state.isSelected){this._onPickerOpened();}else if(n.isSelected&&!this.state.isSelected){this._onPickerClosed();}else if(!n.canUseFormattedText&&this.state.canUseFormattedText){this._onBecameEligible();}else if(n.canUseFormattedText&&!this.state.canUseFormattedText)this._onBecameIneligible();if(n.selectedIndex!==this.state.selectedIndex)this._onSelectedIndexChanged();if(n.shouldAutoOpenWhenUserStartsTyping&&this.state.shouldDisplay)c('ReactComposerFormattedTextActions').setShouldAutoOpenWhenUserStartsTyping(this.context.composerID,false);if(this.state.fadingInPicker&&this.state.shouldDisplay)c('ReactComposerFormattedTextActions').setShouldFadeInPicker(this.context.composerID,false);},_onPickerOpened:function l(){this._focusComposerTextInput();var m=this._getComposerRoot();if(m)c('CSS').removeClass(m,"_10m_");var n=this.state.selectedIndex!==c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR;this._setShouldHideTaggersDiv(n);},_focusComposerTextInput:function l(){c('Arbiter').inform(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID);},_onPickerClosed:function l(){var m=this._getComposerRoot();if(m)c('CSS').addClass(m,"_10m_");this._setShouldHideTaggersDiv(false);},_setShouldHideTaggersDiv:function l(m){var n=this._getComposerTaggerDiv();if(!n)return;if(m){c('CSS').addClass(n,"_10n0");}else c('CSS').removeClass(n,"_10n0");},_getComposerRoot:function l(){if(this._memoizedComposerRoot&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerRoot;this._memoizedComposerID=this.context.composerID;this._memoizedComposerRoot=this._domScry(c('DOM').getRootElement(),"._36bx");return this._memoizedComposerRoot;},_getComposerBody:function l(){if(this._memoizedComposerBody&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerBody;var m=this._getComposerRoot();if(!m)return null;this._memoizedComposerBody=this._domScry(m,"._i-o");return this._memoizedComposerBody;},_getComposerOverlay:function l(){if(this._memoizedComposerOverlay&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerOverlay;var m=this._getComposerRoot();if(!m)return null;this._memoizedComposerOverlay=this._domScry(m,"._3enz");return this._memoizedComposerOverlay;},_getComposerWrapper:function l(){if(this._memoizedComposerWrapper&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerWrapper;var m=this._getComposerRoot();if(!m)return null;this._memoizedComposerWrapper=this._domScry(m,"._3eny");return this._memoizedComposerWrapper;},_getComposerTextInput:function l(){if(this._memoizedComposerTextInput&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerTextInput;var m=this._getComposerBody();if(!m)return null;this._memoizedComposerTextInput=this._domScry(m,"._395");return this._memoizedComposerTextInput;},_getComposerTaggerDiv:function l(){if(this._memoizedComposerTaggerDiv&&this.context.composerID===this._memoizedComposerID)return this._memoizedComposerTaggerDiv;var m=this._getComposerRoot();if(!m)return null;this._memoizedComposerTaggerDiv=this._domScry(m,"._1idc");return this._memoizedComposerTaggerDiv;},_domScry:function l(m,n){var o=c('DOMQuery').scry(m,n);if(!o||o.length===0)return null;return o[o.length-1];},_onBecameEligible:function l(){c('ReactComposerTaggerActions').setShouldHideTaggerButton(this.context.composerID,c('ReactComposerTaggerType').FORMATTED_TEXT,false);if(this.state.prevSelectedIndex!=null)c('ReactComposerFormattedTextActions').setSelectedIndex(this.context.composerID,this.state.prevSelectedIndex,this.props.textFormats);},_onBecameIneligible:function l(){c('ReactComposerTaggerActions').setShouldHideTaggerButton(this.context.composerID,c('ReactComposerTaggerType').FORMATTED_TEXT,true);var m=this.state.selectedIndex!==c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR;if(m)c('ReactComposerFormattedTextActions').setSelectedIndexButNotPrevSelectedIndex(this.context.composerID,c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR,this.props.textFormats);},_onSelectedIndexChanged:function l(){var m=this.state.selectedIndex!==c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR;if(!this.props.noSproutDesign)this._setShouldHideTaggersDiv(m);c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,this.constructor.loggingName,c('ReactComposerTaggerType').FORMATTED_TEXT,{formatActive:m});},_updateBackground:function l(m){var n=this._getComposerRoot();if(!n)return;var o=this._getComposerBody();if(!o)return;var p=this._getComposerOverlay();if(!p)return;var q=this._getComposerWrapper();if(!q)return;var r=this._getStyles(m);c('DOM').setAttributes(o,{style:r.bodyStyle});if(m!==c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR){c('CSS').addClass(n,"_5zno");c('CSS').addClass(n,"_1mjk");c('CSS').addClass(o,"_2ihx");c('CSS').addClass(q,"_2ihx");c('CSS').addClass(p,"_2ihx");c('CSS').addClass(p,"_4xe1");}else{c('CSS').removeClass(n,"_5zno");c('CSS').removeClass(n,"_1mjk");c('CSS').removeClass(o,"_2ihx");c('CSS').removeClass(q,"_2ihx");c('CSS').removeClass(p,"_2ihx");c('CSS').removeClass(p,"_4xe1");}var s=this._getComposerTextInput();if(!s)return;c('DOM').setAttributes(s,{style:r.textInputStyle});},_updateOverlay:function l(){var m=this._getComposerRoot();if(!m)return;var n=this._getComposerBody();if(!n)return;var o=this._getComposerOverlay();if(!o)return;var p=this._getStyles(this.state.selectedIndex);c('DOM').setAttributes(o,{style:p.bodyStyle});var q=function r(s){c('CSS').removeClass(o,"_1wnq");c('CSS').addClass(o,"_1wnr");c('CSS').addClass(o,"_3eo2");o.removeEventListener('transitionend',r,false);};c('CSS').removeClass(o,"_3eo2");o.addEventListener('transitionend',q,false);c('CSS').addClass(o,"_1wnq");c('CSS').removeClass(o,"_1wnr");},_onSelect:function l(m){if(this.state.canUseFormattedText){c('ReactComposerFormattedTextActions').setSelectedIndex(this.context.composerID,m,this.props.textFormats);this.handleSaveStickyPreset(m);c('Arbiter').inform(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID);}},_onToggle:function l(){c('ReactComposerFormattedTextActions').toggleCollapsed(this.context.composerID);},_getStyles:function l(m){var n='',o='';if(m!=null&&m!==c('ReactComposerFormattedTextPickerComponent.react').NO_BG_COLOR){var p=this.props.textFormats&&Object.prototype.hasOwnProperty.call(this.props.textFormats,m)?this.props.textFormats[m]:null;if(p&&p.bodyStyle&&p.textInputStyle){n=p.bodyStyle;o=p.textInputStyle;}}return {bodyStyle:n,textInputStyle:o};}});f.exports=k;}),null);
__d('ReactComposerTimelineBootloader',['Bootloader'],(function a(b,c,d,e,f,g){'use strict';var h={statusAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerStatusAttachmentContainer.react","ReactComposerTimelinePostButtonContainer.react"],j,'ReactComposerTimelineBootloader');},mediaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerTimelineMediaPostButtonContainer.react"],j,'ReactComposerTimelineBootloader');},qandaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerQAndAAttachmentContainer.react","ReactComposerTimelineMediaPostButtonContainer.react"],j,'ReactComposerTimelineBootloader');},redEnvelopeAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerRedEnvelopeAttachmentContainer.react","ReactComposerTimelineMediaPostButtonContainer.react"],j,'ReactComposerTimelineBootloader');}};f.exports=h;}),null);
__d('ReactComposerHeaderProps',['React'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i={propTypes:{attachmentSelectors:h.arrayOf(h.node),background:h.string,forceThrobber:h.bool,noHorizontalMargin:h.bool,rightChild:h.element,showDelimiter:h.bool,truncateSelectorText:h.bool},getDefaultProps:function j(){return {background:'white',forceThrobber:false,noHorizontalMargin:false,showDelimiter:true,truncateSelectorText:false};}};f.exports=i;}),null);
__d('ReactComposerHeaderCore.react',['cx','ReactComposerHeaderProps','LeftRight.react','React','XUICardSection.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l;if(this.props.showDelimiter){l=c('React').createElement('ul',{className:"_-h"},c('React').Children.map(this.props.attachmentSelectors,function(m,n){return c('React').createElement('li',{className:"_1tm3",key:n},m);}));}else l=this.props.attachmentSelectors;return c('React').createElement(c('XUICardSection.react'),{background:this.props.background,className:c('joinClasses')(this.props.className,"_4d6h"+(this.props.noHorizontalMargin?' '+"_4p1p":'')+(this.props.truncateSelectorText?' '+"_1kvc":''))},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',null,l),c('React').createElement('div',null,this.props.children)));};function k(){'use strict';i.apply(this,arguments);}k.propTypes=c('ReactComposerHeaderProps').propTypes;k.defaultProps=c('ReactComposerHeaderProps').getDefaultProps();f.exports=k;}),null);
__d('ReactComposerLazyHeader.react',['ReactComposerHeaderCore.react','ReactComposerHeaderProps','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore','Bootloader','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerLazyHeader',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStore'))],propTypes:c('ReactComposerHeaderProps').propTypes,getDefaultProps:c('ReactComposerHeaderProps').getDefaultProps,getInitialState:function i(){return {shouldInitialize:true,header:null};},statics:{calculateState:function i(j,k){return {isActive:c('ReactComposerStore').isActive(j)};}},componentDidUpdate:function i(j,k){if(this.state.isActive&&this.state.shouldInitialize){this.setState({shouldInitialize:!this.state.shouldInitialize});c('Bootloader').loadModules(["ReactComposerHeader.react"],function(l){return this.setState({header:l});}.bind(this),'ReactComposerLazyHeader.react');}},render:function i(){var j=this.props,k=j.children,l=babelHelpers.objectWithoutProperties(j,['children']),m=this.state.header;if(!!m)return c('React').createElement(m,babelHelpers['extends']({},l,{attachmentSelectors:k}));return c('React').createElement(c('ReactComposerHeaderCore.react'),babelHelpers['extends']({},l,{attachmentSelectors:k}),this.props.rightChild);}});f.exports=h;}),null);
__d('ReactComposerTimelineHeader.react',['ReactComponentWithPureRenderMixin','React','ReactComposerHeaderProps','ReactComposerLifeEventStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerLazyHeader.react'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerTimelineHeader',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerLifeEventStore'))],propTypes:c('ReactComposerHeaderProps').propTypes,getDefaultProps:c('ReactComposerHeaderProps').getDefaultProps,statics:{calculateState:function i(j,k){var l=c('ReactComposerLifeEventStore').isWaitingForLifeEventDetails(j);return {forceThrobber:l};}},render:function i(){return c('React').createElement(c('ReactComposerLazyHeader.react'),babelHelpers['extends']({},this.props,this.state));}});f.exports=h;}),null);
__d('ReactComposerLoggingConfig',['React'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes;f.exports=h.shape({targetType:h.string,ref:h.string,composerSourceSurface:h.string.isRequired,isEditComposer:h.bool});}),null);
__d('ReactComposer.react',['cx','ReactComposerActions','ReactComposerContextMixin','ReactComposerInit','ReactComposerLoggingActions','ReactComposerLoggingConfig','ReactComposerLoggingName','ReactComposerLoggingQueue','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSessionMetricsStore','ReactComposerStore','ReactComponentWithPureRenderMixin','React','ReactDOM','XUICard.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStore'),c('ReactComposerSessionMetricsStore'))],propTypes:{hideBorders:i.bool,loggingConfig:c('ReactComposerLoggingConfig').isRequired,activateOnInit:i.bool,activateOnInitEntryPoint:i.oneOf(Object.values(c('ReactComposerLoggingName')))},getDefaultProps:function k(){return {hideBorders:false,activateOnInit:false,activateOnInitEntryPoint:c('ReactComposerLoggingName').OTHERS};},getInitialState:function k(){return {hasBeenActive:false};},statics:{calculateState:function k(l,m){return {isActive:c('ReactComposerStore').isActive(l)};}},componentWillMount:function k(){c('ReactComposerActions').initConfig(this.context.composerID,this.props.loggingConfig,this.props.activateOnInit);if(this.props.activateOnInit)c('ReactComposerLoggingActions').composerEntry(this.context.composerID,this.props.activateOnInitEntryPoint);},componentDidUpdate:function k(l,m){if(this.state.isActive&&!this.state.hasBeenActive){this.setState({hasBeenActive:!this.state.hasBeenActive});c('ReactComposerLoggingQueue').initBootload(this.context.composerID,c('ReactDOM').findDOMNode(this),this.context.targetID,this.props.loggingConfig);}},componentWillUnmount:function k(){c('ReactComposerInit').unmountInstance(this.context.composerID,true);},render:function k(){var l="_36bx"+(this.props.hideBorders?' '+"_4a60":'');return c('React').createElement(c('XUICard.react'),{className:c('joinClasses')(this.props.className,l),'data-testid':'react-composer-root','data-test-actorid':this.context.actorID,id:this.context.composerID},this.props.children);}});f.exports=j;}),null);
__d('ReactComposerBody.react',['cx','React','XUICardSection.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=c('joinClasses')("_4zoz",this.props.className);return c('React').createElement(c('XUICardSection.react'),{className:l},this.props.children);};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerBodyContainer.react',['cx','ReactComposerAttachmentStore','ReactComposerBody.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerBodyContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'))],propTypes:{expanded:i.bool,hasMinHeight:i.bool},getDefaultProps:function k(){return {expanded:false,hasMinHeight:true};},statics:{calculateState:function k(l,m,n){var o=c('ReactComposerAttachmentStore').isSelectedAttachmentActive(l);return {active:o};}},render:function k(){var l=(this.state.active&&this.props.hasMinHeight?"_5xv3":'')+(this.props.expanded?' '+"_4cw":'');return c('React').createElement(c('ReactComposerBody.react'),{className:l},this.props.children);}});f.exports=j;}),null);
__d('ReactTimelineComposer.react',['cx','fbt','ReactComposer.react','ReactComposerAttachmentType','ReactComposerBodyContainer.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerFocusInit','ReactComposerTimelineBootloader','ReactComposerTimelineHeader.react','ReactComposerLifeEventAttachmentSelector.react','ReactComposerLifeEventLazyAttachment.react','ReactComposerLiveVideoAttachmentSelector.react','ReactComposerLiveVideoLazyAttachment.react','ReactComposerMediaAttachmentSelector.react','ReactComposerMediaLazyAttachment.react','ReactComposerMLEAttachmentSelector.react','ReactComposerMLELazyAttachment.react','ReactComposerQAndAAttachmentSelector.react','ReactComposerQAndALazyAttachment.react','ReactComposerStatusAttachmentSelector.react','ReactComposerStatusLazyAttachment.react','RedEnvelopeCreateAttachmentSelector','LayerHideOnBlur','LayerHideOnEscape','LayerHideOnTransition','React','XUIAmbientNUX.react','TimelineComposer','$','coalesce'],(function a(b,c,d,e,f,g,h,i){var j=c('RedEnvelopeCreateAttachmentSelector').module,k=c('React').createClass({displayName:'ReactTimelineComposer',mixins:[c('ReactComposerContextProviderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired,config:c('ReactComposerConfig').isRequired},stateTypes:{showLiveVideoNux:Boolean},getInitialState:function l(){return {showLiveVideoNux:this._shouldRenderLiveVideoNux()};},componentDidMount:function l(){c('TimelineComposer').init(this.props.contextConfig.composerID);if(this.props.contextConfig.gks.shouldBlurOnFocus)c('ReactComposerFocusInit').handler(c('$')('timeline_react_composer_container'),this.props.contextConfig.composerID,this.props.contextConfig.actorID,this.props.contextConfig.gks,this.props.contextConfig.jsModules.composerFocus,true);},_shouldRenderLiveVideoNux:function l(){var m=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').LIVE_VIDEO];return m&&m.enabled&&m.show_nux;},_renderLiveVideoNux:function l(){if(!this.state.showLiveVideoNux)return null;return c('React').createElement(c('XUIAmbientNUX.react'),{behaviors:{LayerHideOnBlur:c('LayerHideOnBlur'),LayerHideOnEscape:c('LayerHideOnEscape'),LayerHideOnTransition:c('LayerHideOnTransition')},contextRef:function(){return this.refs.liveVideoSelector;}.bind(this),onCloseButtonClick:function(){this.setState({showLiveVideoNux:false});}.bind(this),position:'above',shown:this.state.showLiveVideoNux,width:'auto'},i._("New! Create a live video from your browser"));},render:function l(){var m=this._getAdditionalAttachmentComponents(),n=m[0],o=m[1];return c('React').createElement(c('ReactComposer.react'),{className:"_s7h",hideBorders:true,loggingConfig:this.props.config.loggingConfig,ref:'root'},c('React').createElement(c('ReactComposerTimelineHeader.react'),{background:'light-wash',noHorizontalMargin:true,showDelimiter:false},c('React').createElement(c('ReactComposerStatusAttachmentSelector.react'),{label:this.props.config.targetData.viewerIsTarget?i._("Status"):i._("Post")}),c('React').createElement(c('ReactComposerMediaAttachmentSelector.react'),null),n,this._renderLiveVideoNux()),c('React').createElement(c('ReactComposerBodyContainer.react'),{expanded:this.props.config.showExpandedComposer},c('React').createElement(c('ReactComposerStatusLazyAttachment.react'),{config:this.props.config,selected:true,expanded:this.props.config.showExpandedComposer,initOnlyWhenComposerActive:!this.props.config.eagerlyLoadStatusAttachment,placeholder:this.props.config.targetData.viewerIsTarget?i._(["What's on your mind?","2340e43c54f5a3de9ca7fc0a7efc2cae"]):c('coalesce')(this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].placeholderText,i._("Write something...")),bootloader:c('ReactComposerTimelineBootloader')}),c('React').createElement(c('ReactComposerMediaLazyAttachment.react'),{config:this.props.config,bootloader:c('ReactComposerTimelineBootloader')}),o));},_getAdditionalAttachmentComponents:function l(){var m=this.props.config.attachmentsConfig,n=[],o=[],p=m[c('ReactComposerAttachmentType').MLE].enabled,q=m[c('ReactComposerAttachmentType').QANDA].enabled,r=this.props.contextConfig.gks.www_react_mle_composer_attachment,s=m[c('ReactComposerAttachmentType').RED_ENVELOPE],t=m[c('ReactComposerAttachmentType').LIVE_VIDEO].enabled,u=m[c('ReactComposerAttachmentType').LIVE_VIDEO].composerDialog;if(t){n.push(c('React').createElement(c('ReactComposerLiveVideoAttachmentSelector.react'),{config:this.props.config,contextConfig:this.props.contextConfig,key:'live_video',ref:'liveVideoSelector',useComposerDialog:u}));o.push(c('React').createElement(c('ReactComposerLiveVideoLazyAttachment.react'),{config:this.props.config,key:'live_video',useDialogComposer:u}));}if(p)if(r){n.push(c('React').createElement(c('ReactComposerLifeEventAttachmentSelector.react'),{key:'life_event'}));o.push(c('React').createElement(c('ReactComposerLifeEventLazyAttachment.react'),{config:this.props.config,key:'life_event'}));}else{n.push(c('React').createElement(c('ReactComposerMLEAttachmentSelector.react'),{key:'mle'}));o.push(c('React').createElement(c('ReactComposerMLELazyAttachment.react'),{key:'mle',config:this.props.config}));}if(s.enabled&&!this.props.config.targetData.viewerIsTarget){var v=i._("Red Envelope");n.push(c('React').createElement(j,{label:v,longLabel:v,key:c('ReactComposerAttachmentType').RED_ENVELOPE}));}if(q){n.push(c('React').createElement(c('ReactComposerQAndAAttachmentSelector.react'),{key:'qanda',label:i._("Q&A")}));o.push(c('React').createElement(c('ReactComposerQAndALazyAttachment.react'),{key:'qanda',config:this.props.config,bootloader:c('ReactComposerTimelineBootloader')}));}return [n,o];}});f.exports=k;}),null);