<!DOCTYPE html>
<html lang="en">
<html>
<head>
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <meta property="og:image" content="http://campusparty.herokuapp.com/img/negao.png"/>
    <meta property="og:title" content="Campus Party 2017"/>
    <meta property="og:description" content="Quero uma camiseta"/>
</head>
<body>

<a-scene>
    <a-entity position="0 1.8 8">
        <a-camera id="camera">
            <a-cursor fuse="true" fuseTimeout="1000" color="#4CC3D9">
                <a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" from="0.5 0.5 0.5" to="1 1 1"></a-animation>
                <a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" fill="forwards" from="3 3 3" to="1 1 1"></a-animation>
            </a-cursor>
        </a-camera>
    </a-entity>

    
    <a-assets>
        
        <!-- videos -->
        <video id="videotoni" autoplay loop="true" src="vid/toni.mp4"></video>
        <video id="videoale" autoplay loop="true" src="vid/mov02605_noaudio2.mp4"></video>
        <video id="videoagua" autoplay loop="true" src="vid/agua.mp4"></video>
        
        <!-- STREET -->
        <img id="sfv" src="img/sfv.png">
        
        <!-- Facts -->
        <a-mixin id="factlabeltxt" text="color: white; anchor: center; font: sourcecodepro; value: Um fato aleatorio sobre mim:"></a-mixin>
        
        <a-mixin id="facttxt" text="color: white; anchor: center; font: sourcecodepro; value: ..."></a-mixin>
        
        <a-mixin id="fact1" text="color: white; anchor: center; font: sourcecodepro; value: Venci uma batalha de rap no finado mosdefinitely.com"></a-mixin>
        <a-mixin id="fact2" text="color: white; anchor: center; font: sourcecodepro; value: Fui homenageado no forum da whiplash com o 'poema para os fanhos do brasil'"></a-mixin>
        <a-mixin id="fact3" text="color: white; anchor: center; font: sourcecodepro; value: Invadi o palco do Angra, dei um abraco e uma cabecada no Edu e pulei na galra."></a-mixin>
        
        <!-- reload -->
        <img id="reload" src="img/reload.png">
        
        
        
        <!-- luz -->
        <img id="lightswitch" src="img/switch.png">
        
        <!-- PROFISSIONAL -->   
                
    
        
        
        <!-- contatos -->
        <img id="github" src="img/github.gif">
        <img id="facebook" src="img/facebook.png">
        <img id="twitter" src="img/twitter.png">
        
        
        <!-- artigos -->
        <img id="incd" src="img/brasnam.jpg">
        <img id="brasnam" src="img/brasnam.jpg">
        
        
        
        <!-- PERFIL -->
        <img id="profile" src="img/profile.jpg">
        <a-mixin id="profiletxt" text="color: white; anchor: center; font: sourcecodepro; value: I am Rafael :-) "></a-mixin>
        
        <!-- sky -->
        <img id="skyTexture"  src="img/fundo.png">
        
    
    
    </a-assets>

    
    <!-- luz -->
    <a-entity class="switch"  geometry="primitive: cone" material="src: #lightswitch" scale="1 0.1 1" position="0 -2 0" >
        <a-event name="mouseenter" rotation="180 0 0"></a-event>
        <a-event name="mouseleave" rotation="0 0 0"></a-event>
    </a-entity>

    
    
    <!-- contatos -->
    <a-cylinder onclick="window.location = 'http://github.com/rafaelhss'" id="github" class="apagar" radius="0.5" transparen="true"  src="#github" position="3 0 -13" rotation="0 70 30" scale="2 0.2 2"></a-cylinder>
    <a-cylinder onclick="window.location = 'http://twitter.com/rafelrafel'" id="twitter" class="apagar" radius="0.5" transparen="true"  src="#twitter" position="4 0 -17" rotation="0 70 30" scale="2 0.2 2"></a-cylinder>
    <a-cylinder onclick="window.location = 'https://www.facebook.com/rafael.henrique.507464'" id="facebook" class="apagar" radius="0.5" transparen="true"  src="#facebook" position="2.2 0 -15" rotation="0 70 30" scale="2 0.2 2"></a-cylinder>
    
    
    <!-- artigos -->
    <a-box  class="apagar" onclick="window.location = 'http://www.revistas.usp.br/incid/article/view/76282'" scale="1.0 1.3 0.2"  position="-5 0 -3" src="#incd" rotation="-70 20 -10" > </a-box>
    <a-box   class="apagar"onclick="window.location = 'http://ebooks.pucrs.br/edipucrs/anais/csbc/assets/2016/brasnam/11.pdf'" scale="1.0 1.3 0.2"  position="-3.8 0 -2" src="#brasnam" rotation="-70 10 30" > </a-box>
    
    
    
    <a-text class="apagar" mixin="profiletxt" font="kelsonsans" width="170" position="-5 30 -90" wrap-count="20" rotation="0 20 0"></a-text>
    <a-icosahedron class="apagar" color="#3D6A7D" radius="29" transparen="true"  src="#profile" position="35 30 -90" rotation="-5 60 30">
      <a-animation attribute="rotation"
               begin="mouseenter"
               dur="50000"
               fill="forwards"
               to="360 820 0"
               repeat="indefinite"></a-animation>
        <a-animation attribute="scale" begin="mouseenter" to="2 2 2"></a-animation>
        <a-animation attribute="scale" begin="mouseleave" to="1 1 1"></a-animation>
    </a-icosahedron>
   
    <!--
    <a-entity
          position="0 0 7"  
          rotation="-50 0 0"
          geometry="primitive: plane; width: 6; height: auto"
          material="color: #3D6A7D"
          text="value: Um pouco sobre mim... use as teclas WASD para dar um role..."></a-entity>
    -->
    
    <!-- agua -->
    <a-ring src="#agua" radius-inner="285" radius-outer="300" position="-305 -1 0" rotation="270 0 0"></a-ring>
    
    <a-video src="#videoagua"  class="apagar"  transparent="true" position="-305 -1 0" rotation="270 0 0" geometry="primitive:ring;radius-inner:285; radius-outer:300" material="shader:standard;transparent:false"></a-video>

    
    <!-- facts -->
    <a-text id="factlabel"  position="7 5 19" rotation="0 -150 25" class="apagar" mixin="factlabeltxt" wrap-count="20"></a-text>
    <a-text id="fact"  position="4 4 20" rotation="0 -150 0" class="apagar" mixin="facttxt" wrap-count="20"></a-text>
    
    <a-sphere class="apagar"  onmouseenter="randomFact()"  opacity="0.99" src="#reload" rotation="0 130 0" radius="0.65" position="9 3 20" geometry="height:10;width:15">
        <a-animation attribute="rotation" begin="mouseenter" dur="1000" fill="forwards" to="0 500 0"></a-animation>
    </a-sphere>
    
    
    <!-- street -->
    <a-box class="apagar" opacity="0.99" src="#sfv" rotation="0 80 0" radius="3" position="-60 0 -10" geometry="height:10;width:15">
        <a-animation attribute="scale" begin="mouseenter" to="3 3 3"></a-animation>
        <a-animation attribute="scale" begin="mouseleave" to="1 1 1"></a-animation>
    </a-box>
        
    <!-- toni -->
    <a-video src="#videotoni"  class="apagar"  transparent="true" height="5" width="5" position="9 4 8" rotation="18 70 -50" geometry="primitive:box;depth:4;height:4;width:4;radius:2.29;phiLength:360.16" material="shader:standard;transparent:false"></a-video>

    <a-video class="apagar" src="#videoale" transparent="true" height="5" width="8" position="-31 17 45" rotation="0 80 -23" geometry="primitive:sphere;radius:8;height:5;width:8"></a-video>

    
    <a-sky color="#000"></a-sky>
    <a-sky id="fundo" src="#skyTexture"></a-sky>
</a-scene>
</body>
<script>
    
    
    
    
    
    function samba(){
        console.log("de janeiro");
    }
    
    var lastFact = 0;
    var randomFact = function(){
        console.log("de janeirrandom o");
        
        
        

        var sceneEl = document.querySelector('a-scene');

        sceneEl.removeChild(document.getElementById("fact"));
        
        var entityEl = document.createElement('a-text');
        entityEl.setAttribute('position','4 4 20');
        entityEl.setAttribute('rotation','0 -150 0');
        entityEl.setAttribute('class','apagar');
        entityEl.setAttribute('id','fact');
        entityEl.setAttribute('wrap-count','20');
        
        var numero = 0;
        do {
          numero = Math.floor(Math.random()*3) + 1;    
        } while(numero == lastFact);
        lastFact = numero;
        
        console.log(numero);
        
        var nome = 'fact' + numero;
        entityEl.setAttribute('mixin',nome);    
        
                
        sceneEl.appendChild(entityEl);
    }
    

    var aceso = false;

    var luz = function(opacity) {
        var boxEl = document.getElementById('fundo');
        boxEl.setAttribute('opacity', opacity);

        descendents = document.getElementsByClassName('apagar');
        var i;
        for (i = 0; i < descendents.length; ++i) {
            descendents[i].setAttribute('opacity', opacity);
        }
    }

    var liga = function(){
        luz(0.99);
        aceso = true;
    }

    var desliga = function(){
        luz(0.005);
        aceso = false;
    }


    var boxEl = document.querySelector('.switch');
    boxEl.addEventListener('mouseenter', function () {
        console.log("dasdas");
        boxEl.setAttribute('rotation', {x: 180, y: 0, z: 0});
        if(aceso){
            desliga()
        }
        else
        {
            liga()
        }

    });
    
    var applyAnimation = function(tagname, html){
        descendents = document.getElementsByTagName(tagname);
    
        var i;
        for (i = 0; i < descendents.length; ++i) {
            descendents[i].innerHTML = descendents[i].innerHTML + html
        }
    }
    
    var applyZoom = function(tagname){
        applyAnimation(tagname,' <a-animation attribute="scale" begin="mouseenter" to="2 2 2"></a-animation>  <a-animation attribute="scale" begin="mouseleave" to="1 1 1"></a-animation>');
    }

    
    
    //desliga();
    
    var animationRotate = '<a-animation attribute="rotation" begin="mouseenter" dur="10000" fill="forwards" to="0 360 0"></a-animation>'
    //applyAnimation('a-sphere', animationRotate);
    
    //applyZoom('a-text');
    //applyZoom('a-sphere');
    



</script>
</html>